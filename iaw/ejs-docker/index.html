
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../practica-cms-java/">
      
      
        <link rel="next" href="../practica-docker-php/">
      
      <link rel="icon" href="../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.18">
    
    
      
        <title>Ejercicios - Compartiendo Conocimiento</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/asciinema-player.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ejercicios-docker" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Compartiendo Conocimiento" class="md-header__button md-logo" aria-label="Compartiendo Conocimiento" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.62 8.35c-.42.28-1.75 1.04-1.95 1.19-.39.31-.75.29-1.14-.01-.2-.16-1.53-.92-1.95-1.19-.48-.31-.45-.7.08-.92 1.64-.69 3.28-.64 4.91.03.49.21.51.6.05.9m7.22 7.28c-.93-2.09-2.2-3.99-3.84-5.66a4.31 4.31 0 0 1-1.06-1.88c-.1-.33-.17-.67-.24-1.01-.2-.88-.29-1.78-.7-2.61-.73-1.58-2-2.4-3.84-2.47-1.81.05-3.16.81-3.95 2.4-.21.43-.36.88-.46 1.34-.17.76-.32 1.55-.5 2.32-.15.65-.45 1.21-.96 1.71-1.61 1.57-2.9 3.37-3.88 5.35-.14.29-.28.58-.37.88-.19.66.29 1.12.99.96.44-.09.88-.18 1.3-.31.41-.15.57-.05.67.35.65 2.15 2.07 3.66 4.24 4.5 4.12 1.56 8.93-.66 9.97-4.58.07-.27.17-.37.47-.27.46.14.93.24 1.4.35.49.09.85-.16.92-.64.03-.26-.06-.49-.16-.73"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Compartiendo Conocimiento
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Ejercicios
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../2asir19-20/auditoria-practica-bd/" class="md-tabs__link">
        2º ASIR 19/20
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../2asir20-21/compilacion-programaC-con-makefile/" class="md-tabs__link">
        2º ASIR 20/21
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    

  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../sri/ej1-playbook-sencillo/" class="md-tabs__link md-tabs__link--active">
        2º ASIR 21/22
      </a>
    </li>
  

  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../aso/instalacion_debian11/" class="md-tabs__link">
        2º ASIR 22/23
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../openwebinars/sql-desde-cero/" class="md-tabs__link">
        OpenWebinars
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../c1/describing-place-essay/" class="md-tabs__link">
        C1
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Compartiendo Conocimiento" class="md-nav__button md-logo" aria-label="Compartiendo Conocimiento" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.62 8.35c-.42.28-1.75 1.04-1.95 1.19-.39.31-.75.29-1.14-.01-.2-.16-1.53-.92-1.95-1.19-.48-.31-.45-.7.08-.92 1.64-.69 3.28-.64 4.91.03.49.21.51.6.05.9m7.22 7.28c-.93-2.09-2.2-3.99-3.84-5.66a4.31 4.31 0 0 1-1.06-1.88c-.1-.33-.17-.67-.24-1.01-.2-.88-.29-1.78-.7-2.61-.73-1.58-2-2.4-3.84-2.47-1.81.05-3.16.81-3.95 2.4-.21.43-.36.88-.46 1.34-.17.76-.32 1.55-.5 2.32-.15.65-.45 1.21-.96 1.71-1.61 1.57-2.9 3.37-3.88 5.35-.14.29-.28.58-.37.88-.19.66.29 1.12.99.96.44-.09.88-.18 1.3-.31.41-.15.57-.05.67.35.65 2.15 2.07 3.66 4.24 4.5 4.12 1.56 8.93-.66 9.97-4.58.07-.27.17-.37.47-.27.46.14.93.24 1.4.35.49.09.85-.16.92-.64.03-.26-.06-.49-.16-.73"/></svg>

    </a>
    Compartiendo Conocimiento
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          2º ASIR 19/20
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          2º ASIR 19/20
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir19-20/auditoria-practica-bd/" class="md-nav__link">
        Práctica 6: Auditoría de bases de datos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir19-20/database-interconnection/" class="md-nav__link">
        Práctica 4 BD: Interconexión de Servidores de Bases de Datos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir19-20/java-webapp/" class="md-nav__link">
        Práctica: Despliegue de CMS java
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir19-20/metrics-logs-monitoring/" class="md-nav__link">
        Práctica: Métricas, logs y monitorización
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir19-20/p3-bd-pi-oracle/" class="md-nav__link">
        Práctica 3 BD (PI): Gestión de usuarios, privilegios y roles
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir19-20/p5-bd-individua-draft/" class="md-nav__link">
        Práctica 5 BD draft: Gestión del almacenamiento (individual)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir19-20/p5-bd-individual/" class="md-nav__link">
        Práctica 5 BD: Gestión del almacenamiento (individual)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir19-20/proxy-practica/" class="md-nav__link">
        Práctica: Proxy, proxy inverso y balanceadores de carga
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir19-20/rendimiento-ejec-php-python/" class="md-nav__link">
        Práctica servicios: Ejecución de scripts PHP y Python. Rendimiento
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir19-20/t4-formas-juridicas/" class="md-nav__link">
        Tema 6: Las formas jurídicas de la empresa
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir19-20/t7-cloud-hosting/" class="md-nav__link">
        Tarea 7 Cloud: Hosting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir19-20/t8-cloud-app-python.md/" class="md-nav__link">
        Tarea 8 Cloud:  Instalación de app python (Mezzanine)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir19-20/usuarios-grupos-acl-ldap/" class="md-nav__link">
        Práctica: Usuarios, grupos y ACLs en LDAP
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          2º ASIR 20/21
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          2º ASIR 20/21
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir20-21/compilacion-programaC-con-makefile/" class="md-nav__link">
        Compilación de un programa en C
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir20-21/doc-servidores-fisicos/" class="md-nav__link">
        Documentación servidores físicos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir20-21/ejercicio-cifrado-simetrico-gpg-openssl/" class="md-nav__link">
        Ejercicio: Cifrado simétrico con gpg+openssl
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir20-21/ejs-modulos-kernel/" class="md-nav__link">
        Ejercicios de manejo de módulos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir20-21/instalacion-debian-10/" class="md-nav__link">
        Práctica: Instalación de Debian 10
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir20-21/mapeo-urls-sistema-ficheros/" class="md-nav__link">
        Ejercicio 4: Mapeo URLs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir20-21/p3-integridad-firmas-autenticacion/" class="md-nav__link">
        Práctica 3: Integridad, firmas y autenticación
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir20-21/practica-cifrado-asimetrico-gpg-openssl/" class="md-nav__link">
        Práctica: Cifrado asimétrico con gpg y openssl
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir20-21/practica-infantil-plsql/" class="md-nav__link">
        Práctica infantil de PL/SQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir20-21/practicas-ud1-seg/" class="md-nav__link">
        Prácticas de la UD1 SEG
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2asir20-21/tarea-creacion-sistema-automatizado-instalacion/" class="md-nav__link">
        Tarea: Creación de un sistema automatizado de instalación
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          2º ASIR 21/22
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          2º ASIR 21/22
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
          SRI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          SRI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_1" id="__nav_4_1_1_label" tabindex="0">
          Vagrant y Ansible
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_1">
          <span class="md-nav__icon md-icon"></span>
          Vagrant y Ansible
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/ej1-playbook-sencillo/" class="md-nav__link">
        Ejercicio 1: Playbook sencillo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/ej2-router-nat-vagrant/" class="md-nav__link">
        Ejercicio 2: router NAT vagrant
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/ej3-config-escenario-router-nat/" class="md-nav__link">
        Ejercicio 3: Configuración escenario router NAT
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_2" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_2" id="__nav_4_1_2_label" tabindex="0">
          DHCP
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_2">
          <span class="md-nav__icon md-icon"></span>
          DHCP
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/ej1-instalar-configurar-dhcp/" class="md-nav__link">
        Ejercicio 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/ej2-reserva-dhcp/" class="md-nav__link">
        Ejercicio 2: reservas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/practica-servidor-dhcp/" class="md-nav__link">
        Práctica
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_3" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_3" id="__nav_4_1_3_label" tabindex="0">
          HTTP
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_3">
          <span class="md-nav__icon md-icon"></span>
          HTTP
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/ej1-mapeo-urls-al-sistema-ficheros/" class="md-nav__link">
        Ejercicio 1: Mapeo de URLs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/ej2-control-acceso-autenticacion-autorizacion/" class="md-nav__link">
        Ejercicio 2: Control de acceso
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/ej3-apache-.htaccess/" class="md-nav__link">
        Ejercicio 3: .htaccess con Apache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/ej4-modulos-apache/" class="md-nav__link">
        Ejercicio 4: Módulos en Apache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/ej5-vps/" class="md-nav__link">
        Ejercicio 5: VPS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/ej6-apache-proxy-inverso/" class="md-nav__link">
        Ejercicio 6: Apache proxy inverso
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/practica3-LEMP-VPS/" class="md-nav__link">
        Práctica: LEMP en VPS
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_4" id="__nav_4_1_4_label" tabindex="0">
          DNS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_4">
          <span class="md-nav__icon md-icon"></span>
          DNS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/ej1-instalar-configurar-bind9/" class="md-nav__link">
        Ejercicio 1: bind9
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/ej2-instalar-configurar-slave/" class="md-nav__link">
        Ejercicio 2: Slave DNS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/ej3-delegacion-subdominio-bind9/" class="md-nav__link">
        Ejercicio 3: Delegación subdominios
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/practica-web-bd-dns-escenario/" class="md-nav__link">
        Práctica: DNS+Web+BD en escenario
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_5" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_5" id="__nav_4_1_5_label" tabindex="0">
          HTTPS (1ª Parte)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_5">
          <span class="md-nav__icon md-icon"></span>
          HTTPS (1ª Parte)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/practica-https-vps/" class="md-nav__link">
        Práctica: HTTPS en VPS
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_6" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_6" id="__nav_4_1_6_label" tabindex="0">
          HTTP (2ª Parte)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_6">
          <span class="md-nav__icon md-icon"></span>
          HTTP (2ª Parte)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/practica-aumento-rendimiento-web/" class="md-nav__link">
        Práctica: Aumento rendimiento web
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_7" id="__nav_4_1_7_label" tabindex="0">
          Correo
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_7">
          <span class="md-nav__icon md-icon"></span>
          Correo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/ejercicios-correo/" class="md-nav__link">
        Ejercicios en escenario libvirt
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/practica-servidor-correo/" class="md-nav__link">
        Práctica: Servidor de correos en VPS
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_8" id="__nav_4_1_8_label" tabindex="0">
          HA Clusters
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_8">
          <span class="md-nav__icon md-icon"></span>
          HA Clusters
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sri/practica-cluster-ha/" class="md-nav__link">
        Práctica
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          IAW
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          IAW
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2021-09-22-ej1-pull-request/" class="md-nav__link">
        ej1-pull-request
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2021-10-5-implantacion-despliegue-aplicacion-web-estatica/" class="md-nav__link">
        app-web-estatica
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2021-10-14-ej2-pr-pag-compa%C3%B1ero/" class="md-nav__link">
        ej2-pr-pag-compañero
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2_4" id="__nav_4_2_4_label" tabindex="0">
          PHP
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_4">
          <span class="md-nav__icon md-icon"></span>
          PHP
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ej1-phpmyadmin/" class="md-nav__link">
        Ejercicio 1: phpMyAdmin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ej2-bookmedik/" class="md-nav__link">
        Ejercicio 2: BookMedik
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ej3-phpfpm/" class="md-nav__link">
        Ejercicio 3: php-fpm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../practica1-implantacion-apps-php/" class="md-nav__link">
        Práctica 1: Apps PHP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../practica2-instalacion-migracion-apps-PHP-en-VPS/" class="md-nav__link">
        Práctica 2: Instalación/migración de apps a VPS
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_5" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2_5" id="__nav_4_2_5_label" tabindex="0">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_5">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ej1-apps-flask-apache2-mod_wsgi/" class="md-nav__link">
        Ejercicio 1: Apache + mod_wsgi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ej2-apache2-gunicorn/" class="md-nav__link">
        Ejercicio 2: Apache/Nginx + Gunicorn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ej3-apache-uwsgi/" class="md-nav__link">
        Ejercicio 3: Apache/Nginx + uWSGI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../practica-despliegue-apps-python/" class="md-nav__link">
        Práctica: Despliegue python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../practica-cms-python/" class="md-nav__link">
        Práctica: CMS Python
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_6" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2_6" id="__nav_4_2_6_label" tabindex="0">
          Java
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_6">
          <span class="md-nav__icon md-icon"></span>
          Java
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../practica-cms-java/" class="md-nav__link">
        Práctica: CMS Java
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_7" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4_2_7" id="__nav_4_2_7_label" tabindex="0">
          Docker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_7_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_2_7">
          <span class="md-nav__icon md-icon"></span>
          Docker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Ejercicios
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Ejercicios
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduccion" class="md-nav__link">
    Introducción
  </a>
  
    <nav class="md-nav" aria-label="Introducción">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instalacion-de-docker" class="md-nav__link">
    Instalación de docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#el-hola-mundo-de-docker" class="md-nav__link">
    El “Hola Mundo” de docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejecucion-simple-de-contenedores" class="md-nav__link">
    Ejecución simple de contenedores
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejecutando-un-contenedor-interactivo" class="md-nav__link">
    Ejecutando un contenedor interactivo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creando-un-contenedor-demonio" class="md-nav__link">
    Creando un contenedor demonio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creando-un-contenedor-con-un-servidor-web" class="md-nav__link">
    Creando un contenedor con un servidor web
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuracion-de-contenedores-con-variables-de-entorno" class="md-nav__link">
    Configuración de contenedores con variables de entorno
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicios-introduccion" class="md-nav__link">
    Ejercicios introducción
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#imagenes" class="md-nav__link">
    Imágenes
  </a>
  
    <nav class="md-nav" aria-label="Imágenes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#registros-de-imagenes-docker-hub" class="md-nav__link">
    Registros de imágenes: Docker Hub
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestion-de-imagenes" class="md-nav__link">
    Gestión de imágenes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#como-se-organizan-las-imagenes" class="md-nav__link">
    ¿Cómo se organizan las imágenes?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacion-de-contenedores-desde-imagenes" class="md-nav__link">
    Creación de contenedores desde imágenes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-desplegando-la-aplicacion-mediawiki" class="md-nav__link">
    Ejemplo: Desplegando la aplicación MediaWiki
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicios-imagenes" class="md-nav__link">
    Ejercicios imágenes
  </a>
  
    <nav class="md-nav" aria-label="Ejercicios imágenes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#servidor-web" class="md-nav__link">
    Servidor web
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#servidor-bd" class="md-nav__link">
    Servidor BD
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#almacenamiento" class="md-nav__link">
    Almacenamiento
  </a>
  
    <nav class="md-nav" aria-label="Almacenamiento">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#los-contenedores-son-efimeros" class="md-nav__link">
    Los contenedores son efímeros
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#volumenes-docker-y-bind-mount" class="md-nav__link">
    Volúmenes docker y bind mount
  </a>
  
    <nav class="md-nav" aria-label="Volúmenes docker y bind mount">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#volumenes" class="md-nav__link">
    Volúmenes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bind-mounts" class="md-nav__link">
    Bind mounts
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asociando-almacenamiento-a-los-contenedores-volumenes-docker" class="md-nav__link">
    Asociando almacenamiento a los contenedores: volúmenes docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asociando-almacenamiento-a-los-contenedores-bind-mount" class="md-nav__link">
    Asociando almacenamiento a los contenedores: bind mount
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-1-contenedor-nextcloud-con-almacenamiento-persistente" class="md-nav__link">
    Ejemplo 1: Contenedor Nextcloud con almacenamiento persistente
  </a>
  
    <nav class="md-nav" aria-label="Ejemplo 1: Contenedor Nextcloud con almacenamiento persistente">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#con-volumen" class="md-nav__link">
    Con volumen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#con-bind-mount" class="md-nav__link">
    Con bind mount
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-2-contenedor-mariadb-con-almacenamiento-persistente" class="md-nav__link">
    Ejemplo 2: Contenedor MariaDB con almacenamiento persistente
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#otros-usos-del-almacenamiento" class="md-nav__link">
    Otros usos del almacenamiento
  </a>
  
    <nav class="md-nav" aria-label="Otros usos del almacenamiento">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#compartir-informacion-entre-contenedores" class="md-nav__link">
    Compartir información entre contenedores
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprobar-compatibilidad-de-codigo-entre-distintas-versiones-de-un-lenguaje-de-programacion" class="md-nav__link">
    Comprobar compatibilidad de código entre distintas versiones de un lenguaje de programación
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicios-almacenamiento" class="md-nav__link">
    Ejercicios almacenamiento
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#redes" class="md-nav__link">
    Redes
  </a>
  
    <nav class="md-nav" aria-label="Redes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduccion-a-las-redes-en-docker" class="md-nav__link">
    Introducción a las redes en Docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tipos-de-redes-en-docker" class="md-nav__link">
    Tipos de redes en Docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestionando-las-redes-en-docker" class="md-nav__link">
    Gestionando las redes en docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uso-de-la-red-bridge-por-defecto" class="md-nav__link">
    Uso de la red bridge por defecto
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uso-de-las-redes-bridge-definidas-por-el-usuario" class="md-nav__link">
    Uso de las redes bridge definidas por el usuario
  </a>
  
    <nav class="md-nav" aria-label="Uso de las redes bridge definidas por el usuario">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conectando-los-contenedores-a-otras-redes" class="md-nav__link">
    Conectando los contenedores a otras redes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mas-opciones-al-trabajar-con-redes-en-docker" class="md-nav__link">
    Más opciones al trabajar con redes en Docker
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convertir-el-uso-de-la-red-bridge-por-defecto-por-una-definida-por-el-usuario" class="md-nav__link">
    Convertir el uso de la red bridge por defecto por una definida por el usuario
  </a>
  
    <nav class="md-nav" aria-label="Convertir el uso de la red bridge por defecto por una definida por el usuario">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usando-una-red-bridge-de-usuario" class="md-nav__link">
    Usando una red bridge de usuario
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-1-despliegue-de-la-aplicacion-guestbook" class="md-nav__link">
    Ejemplo 1: Despliegue de la aplicación Guestbook
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-2-despliegue-de-la-aplicacion-temperaturas" class="md-nav__link">
    Ejemplo 2: Despliegue de la aplicación Temperaturas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-3-despliegue-de-wordpress-mariadb" class="md-nav__link">
    Ejemplo 3: Despliegue de Wordpress + MariaDB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-4-despliegue-de-tomcat-nginx" class="md-nav__link">
    Ejemplo 4: Despliegue de Tomcat + Nginx
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicios-redes" class="md-nav__link">
    Ejercicios redes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#escenarios-multicontenedor" class="md-nav__link">
    Escenarios multicontenedor
  </a>
  
    <nav class="md-nav" aria-label="Escenarios multicontenedor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instalacion-de-docker-compose" class="md-nav__link">
    Instalación de docker-compose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#el-fichero-docker-composeyml" class="md-nav__link">
    El fichero docker-compose.yml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#el-comando-docker-compose" class="md-nav__link">
    El comando docker-compose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#almacenamiento-con-docker-compose" class="md-nav__link">
    Almacenamiento con docker-compose
  </a>
  
    <nav class="md-nav" aria-label="Almacenamiento con docker-compose">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#volumenes-docker-compose" class="md-nav__link">
    Volúmenes docker-compose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bind-mount-docker-compose" class="md-nav__link">
    Bind mount docker-compose
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redes-con-docker-compose" class="md-nav__link">
    Redes con docker-compose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-1-despliegue-de-la-aplicacion-guestbook_1" class="md-nav__link">
    Ejemplo 1: Despliegue de la aplicación guestbook
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-2-despliegue-de-la-aplicacion-temperaturas_1" class="md-nav__link">
    Ejemplo 2: Despliegue de la aplicación temperaturas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-3-despliegue-de-wordpress-mariadb_1" class="md-nav__link">
    Ejemplo 3: Despliegue de WordPress + MariaDB
  </a>
  
    <nav class="md-nav" aria-label="Ejemplo 3: Despliegue de WordPress + MariaDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wp-con-volumenes" class="md-nav__link">
    WP con volúmenes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wp-con-bind-mount" class="md-nav__link">
    WP con bind mount
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-4-despliegue-de-tomcat-nginx_1" class="md-nav__link">
    Ejemplo 4: Despliegue de tomcat + nginx
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplos-reales-de-despliegues-usando-docker-compose" class="md-nav__link">
    Ejemplos reales de despliegues usando docker-compose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicios-multicontenedor" class="md-nav__link">
    Ejercicios multicontenedor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creacion-de-imagenes" class="md-nav__link">
    Creación de imágenes
  </a>
  
    <nav class="md-nav" aria-label="Creación de imágenes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creacion-de-imagenes-a-partir-de-un-contenedor" class="md-nav__link">
    Creación de imágenes a partir de un contenedor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacion-de-imagenes-a-partir-de-un-dockerfile" class="md-nav__link">
    Creación de imágenes a partir de un Dockerfile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distribucion-de-imagenes" class="md-nav__link">
    Distribución de imágenes
  </a>
  
    <nav class="md-nav" aria-label="Distribución de imágenes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#por-fichero" class="md-nav__link">
    Por fichero
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#por-docker-hub" class="md-nav__link">
    Por Docker Hub
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-1-construccion-de-imagenes-con-una-pagina-estatica" class="md-nav__link">
    Ejemplo 1: Construcción de imágenes con una página estática
  </a>
  
    <nav class="md-nav" aria-label="Ejemplo 1: Construcción de imágenes con una página estática">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#version-1-desde-una-imagen-base" class="md-nav__link">
    Versión 1: Desde una imagen base
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-2-desde-una-imagen-con-apache2" class="md-nav__link">
    Versión 2: Desde una imagen con apache2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-3-desde-una-imagen-con-nginx" class="md-nav__link">
    Versión 3: Desde una imagen con nginx
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-2-construccion-de-imagenes-con-una-aplicacion-php" class="md-nav__link">
    Ejemplo 2: Construcción de imágenes con una aplicación PHP
  </a>
  
    <nav class="md-nav" aria-label="Ejemplo 2: Construcción de imágenes con una aplicación PHP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#version-1-desde-una-imagen-base-sin-php" class="md-nav__link">
    Versión 1: Desde una imagen base sin PHP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-2-desde-una-imagen-con-php-instalado" class="md-nav__link">
    Versión 2: Desde una imagen con PHP instalado
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-3-construccion-de-imagenes-con-una-aplicacion-python" class="md-nav__link">
    Ejemplo 3: Construcción de imágenes con una aplicación Python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ciclo-de-vida-de-las-aplicaciones" class="md-nav__link">
    Ciclo de vida de las aplicaciones
  </a>
  
    <nav class="md-nav" aria-label="Ciclo de vida de las aplicaciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#paso-1-desarrollo-de-nuestra-aplicacion" class="md-nav__link">
    Paso 1: Desarrollo de nuestra aplicación
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-creacion-de-la-imagen-docker" class="md-nav__link">
    Paso 2: Creación de la imagen Docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-probamos-nuestra-aplicacion-en-el-entorno-de-desarrollo" class="md-nav__link">
    Paso 3: Probamos nuestra aplicación en el entorno de desarrollo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-distribuimos-nuestra-imagen" class="md-nav__link">
    Paso 4: Distribuimos nuestra imagen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-5-implantacion-de-la-aplicacion" class="md-nav__link">
    Paso 5: Implantación de la aplicación
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-6-modificacion-de-la-aplicacion" class="md-nav__link">
    Paso 6: Modificación de la aplicación
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicios-creacion-imagenes" class="md-nav__link">
    Ejercicios creación imágenes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../practica-docker-php/" class="md-nav__link">
        Práctica: BookMedik en Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../practica-docker-python/" class="md-nav__link">
        Práctica: Django tutorial en Docker
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
      
      
      
        <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
          SAD
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          SAD
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sad/practica-cifrado-asimetrico-gpg-openssl/" class="md-nav__link">
        Criptografía 1: Cifrado asímetrico
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sad/practica-integridad-firmas-autenticacion/" class="md-nav__link">
        Criptografía 2: Firmas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sad/practica-vpn-sad/" class="md-nav__link">
        Práctica: VPN
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4_3_4" id="__nav_4_3_4_label" tabindex="0">
          Cortafuegos
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3_4">
          <span class="md-nav__icon md-icon"></span>
          Cortafuegos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sad/ej1-iptables-nodo/" class="md-nav__link">
        Ejercicio 1 iptables: por nodo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sad/ej1-nftables-nodo/" class="md-nav__link">
        Ejercicio 1 nftables: por nodo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sad/ej2-iptables-perimetral/" class="md-nav__link">
        Ejercicio 2 iptables: perimetral
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sad/ej2-nftables-perimetral/" class="md-nav__link">
        Ejercicio 2 nftables: perimetral
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sad/perimetral-iptables-escenario/" class="md-nav__link">
        Práctica iptables: perimetral escenario
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../practica-escenario-libvirt/" class="md-nav__link">
        Escenario libvirt
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          2º ASIR 22/23
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          2º ASIR 22/23
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
      
      
      
        <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
          ASO
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          ASO
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../aso/instalacion_debian11/" class="md-nav__link">
        Instalación Debian 11
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../aso/debian11_automatico/" class="md-nav__link">
        Instalación Debian 11 preseed
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../aso/ejercicios-paqueteria/" class="md-nav__link">
        Ejercicios de paquetería
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../aso/systemd-montaje-nfs/" class="md-nav__link">
        Montaje NFS systemd
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5_1_5" id="__nav_5_1_5_label" tabindex="0">
          Kernel
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_1_5">
          <span class="md-nav__icon md-icon"></span>
          Kernel
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../aso/teoria-kernel/" class="md-nav__link">
        Teoría
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../aso/ejercicios-de-modulos/" class="md-nav__link">
        Ejercicios de módulos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../aso/ejercicios-parametros-kernel/" class="md-nav__link">
        Ejercicios de parámetros
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../aso/compilacion-programas-c/" class="md-nav__link">
        Compilación programas C
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../aso/compilacion-kernel/" class="md-nav__link">
        Compilación de Kernel
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_6" >
      
      
      
        <label class="md-nav__link" for="__nav_5_1_6" id="__nav_5_1_6_label" tabindex="0">
          Red Hat
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_1_6">
          <span class="md-nav__icon md-icon"></span>
          Red Hat
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../aso/migracion-centos/" class="md-nav__link">
        Migración CentOS
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../aso/recoleccion-logs-journald/" class="md-nav__link">
        Recolección de logs journald
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_8" >
      
      
      
        <label class="md-nav__link" for="__nav_5_1_8" id="__nav_5_1_8_label" tabindex="0">
          OpenLDAP
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_1_8">
          <span class="md-nav__icon md-icon"></span>
          OpenLDAP
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../aso/ldap-inicial/" class="md-nav__link">
        Práctica inicial
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../aso/ldaps/" class="md-nav__link">
        LDAPs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
      
      
      
        <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
          BD
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          BD
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bd/prueba-inicial/" class="md-nav__link">
        Prueba inicial
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://www.grupalesbdc.ga/p1-servidores-clientes/intro" class="md-nav__link">
        Práctica 1: servidores y clientes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bd/p2-interconexion-bd/" class="md-nav__link">
        Práctica 2: interconexiones
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bd/examen-practicas-1-2/" class="md-nav__link">
        Examen prácticas 1 y 2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bd/p3-peque%C3%B1a-plsql/" class="md-nav__link">
        Práctica 3: pequeña PL/SQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://www.grupalesbdc.ga/p4-grupal-plsql/intro" class="md-nav__link">
        Práctica 4: grupal PL/SQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bd/examen-practicas-3-4/" class="md-nav__link">
        Examen prácticas 3 y 4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://www.grupalesbdc.ga/p5-usuarios/intro" class="md-nav__link">
        Práctica 5 usuarios
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bd/examen-practicas-5-6/" class="md-nav__link">
        Examen prácticas 5 y 6
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
      
      
      
        <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
          HLC
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          HLC
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3_1" >
      
      
      
        <label class="md-nav__link" for="__nav_5_3_1" id="__nav_5_3_1_label" tabindex="0">
          Virtualización en Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_3_1">
          <span class="md-nav__icon md-icon"></span>
          Virtualización en Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hlc/taller1-virtualizacion/" class="md-nav__link">
        Taller 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hlc/taller2-virtualizacion/" class="md-nav__link">
        Taller 2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hlc/taller3-virtualizacion/" class="md-nav__link">
        Taller 3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hlc/taller4-virtualizacion/" class="md-nav__link">
        Taller 4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hlc/taller5-virtualizacion/" class="md-nav__link">
        Taller 5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hlc/taller6-virtualizacion/" class="md-nav__link">
        Taller 6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hlc/practica-virtualizacion/" class="md-nav__link">
        Práctica
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_5_3_2" id="__nav_5_3_2_label" tabindex="0">
          OpenStack
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_3_2">
          <span class="md-nav__icon md-icon"></span>
          OpenStack
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hlc/taller1-cliente-vpn/" class="md-nav__link">
        Taller 1
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3_3" >
      
      
      
        <label class="md-nav__link" for="__nav_5_3_3" id="__nav_5_3_3_label" tabindex="0">
          Kubernetes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_3_3">
          <span class="md-nav__icon md-icon"></span>
          Kubernetes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hlc/ejercicio1-minikube-kubectl/" class="md-nav__link">
        Ejercicio 1: minikube y kubectl
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hlc/taller1-pods/" class="md-nav__link">
        Taller 1: pods
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hlc/taller2-replicaset/" class="md-nav__link">
        Taller 2: ReplicaSet
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          OpenWebinars
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          OpenWebinars
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../openwebinars/sql-desde-cero/" class="md-nav__link">
        SQL desde Cero
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../openwebinars/fundamentos-plsql/" class="md-nav__link">
        Fundamentos de PL/SQL
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          C1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          C1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/describing-place-essay/" class="md-nav__link">
        Essay: describing a place
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/injustice-case-outline/" class="md-nav__link">
        Outline: injustice case
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../c1/leisure-time-meaningless-activities/" class="md-nav__link">
        Essay: meaningless activities
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduccion" class="md-nav__link">
    Introducción
  </a>
  
    <nav class="md-nav" aria-label="Introducción">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instalacion-de-docker" class="md-nav__link">
    Instalación de docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#el-hola-mundo-de-docker" class="md-nav__link">
    El “Hola Mundo” de docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejecucion-simple-de-contenedores" class="md-nav__link">
    Ejecución simple de contenedores
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejecutando-un-contenedor-interactivo" class="md-nav__link">
    Ejecutando un contenedor interactivo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creando-un-contenedor-demonio" class="md-nav__link">
    Creando un contenedor demonio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creando-un-contenedor-con-un-servidor-web" class="md-nav__link">
    Creando un contenedor con un servidor web
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuracion-de-contenedores-con-variables-de-entorno" class="md-nav__link">
    Configuración de contenedores con variables de entorno
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicios-introduccion" class="md-nav__link">
    Ejercicios introducción
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#imagenes" class="md-nav__link">
    Imágenes
  </a>
  
    <nav class="md-nav" aria-label="Imágenes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#registros-de-imagenes-docker-hub" class="md-nav__link">
    Registros de imágenes: Docker Hub
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestion-de-imagenes" class="md-nav__link">
    Gestión de imágenes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#como-se-organizan-las-imagenes" class="md-nav__link">
    ¿Cómo se organizan las imágenes?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacion-de-contenedores-desde-imagenes" class="md-nav__link">
    Creación de contenedores desde imágenes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-desplegando-la-aplicacion-mediawiki" class="md-nav__link">
    Ejemplo: Desplegando la aplicación MediaWiki
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicios-imagenes" class="md-nav__link">
    Ejercicios imágenes
  </a>
  
    <nav class="md-nav" aria-label="Ejercicios imágenes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#servidor-web" class="md-nav__link">
    Servidor web
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#servidor-bd" class="md-nav__link">
    Servidor BD
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#almacenamiento" class="md-nav__link">
    Almacenamiento
  </a>
  
    <nav class="md-nav" aria-label="Almacenamiento">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#los-contenedores-son-efimeros" class="md-nav__link">
    Los contenedores son efímeros
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#volumenes-docker-y-bind-mount" class="md-nav__link">
    Volúmenes docker y bind mount
  </a>
  
    <nav class="md-nav" aria-label="Volúmenes docker y bind mount">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#volumenes" class="md-nav__link">
    Volúmenes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bind-mounts" class="md-nav__link">
    Bind mounts
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asociando-almacenamiento-a-los-contenedores-volumenes-docker" class="md-nav__link">
    Asociando almacenamiento a los contenedores: volúmenes docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asociando-almacenamiento-a-los-contenedores-bind-mount" class="md-nav__link">
    Asociando almacenamiento a los contenedores: bind mount
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-1-contenedor-nextcloud-con-almacenamiento-persistente" class="md-nav__link">
    Ejemplo 1: Contenedor Nextcloud con almacenamiento persistente
  </a>
  
    <nav class="md-nav" aria-label="Ejemplo 1: Contenedor Nextcloud con almacenamiento persistente">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#con-volumen" class="md-nav__link">
    Con volumen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#con-bind-mount" class="md-nav__link">
    Con bind mount
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-2-contenedor-mariadb-con-almacenamiento-persistente" class="md-nav__link">
    Ejemplo 2: Contenedor MariaDB con almacenamiento persistente
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#otros-usos-del-almacenamiento" class="md-nav__link">
    Otros usos del almacenamiento
  </a>
  
    <nav class="md-nav" aria-label="Otros usos del almacenamiento">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#compartir-informacion-entre-contenedores" class="md-nav__link">
    Compartir información entre contenedores
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprobar-compatibilidad-de-codigo-entre-distintas-versiones-de-un-lenguaje-de-programacion" class="md-nav__link">
    Comprobar compatibilidad de código entre distintas versiones de un lenguaje de programación
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicios-almacenamiento" class="md-nav__link">
    Ejercicios almacenamiento
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#redes" class="md-nav__link">
    Redes
  </a>
  
    <nav class="md-nav" aria-label="Redes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduccion-a-las-redes-en-docker" class="md-nav__link">
    Introducción a las redes en Docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tipos-de-redes-en-docker" class="md-nav__link">
    Tipos de redes en Docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestionando-las-redes-en-docker" class="md-nav__link">
    Gestionando las redes en docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uso-de-la-red-bridge-por-defecto" class="md-nav__link">
    Uso de la red bridge por defecto
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uso-de-las-redes-bridge-definidas-por-el-usuario" class="md-nav__link">
    Uso de las redes bridge definidas por el usuario
  </a>
  
    <nav class="md-nav" aria-label="Uso de las redes bridge definidas por el usuario">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conectando-los-contenedores-a-otras-redes" class="md-nav__link">
    Conectando los contenedores a otras redes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mas-opciones-al-trabajar-con-redes-en-docker" class="md-nav__link">
    Más opciones al trabajar con redes en Docker
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convertir-el-uso-de-la-red-bridge-por-defecto-por-una-definida-por-el-usuario" class="md-nav__link">
    Convertir el uso de la red bridge por defecto por una definida por el usuario
  </a>
  
    <nav class="md-nav" aria-label="Convertir el uso de la red bridge por defecto por una definida por el usuario">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usando-una-red-bridge-de-usuario" class="md-nav__link">
    Usando una red bridge de usuario
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-1-despliegue-de-la-aplicacion-guestbook" class="md-nav__link">
    Ejemplo 1: Despliegue de la aplicación Guestbook
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-2-despliegue-de-la-aplicacion-temperaturas" class="md-nav__link">
    Ejemplo 2: Despliegue de la aplicación Temperaturas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-3-despliegue-de-wordpress-mariadb" class="md-nav__link">
    Ejemplo 3: Despliegue de Wordpress + MariaDB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-4-despliegue-de-tomcat-nginx" class="md-nav__link">
    Ejemplo 4: Despliegue de Tomcat + Nginx
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicios-redes" class="md-nav__link">
    Ejercicios redes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#escenarios-multicontenedor" class="md-nav__link">
    Escenarios multicontenedor
  </a>
  
    <nav class="md-nav" aria-label="Escenarios multicontenedor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instalacion-de-docker-compose" class="md-nav__link">
    Instalación de docker-compose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#el-fichero-docker-composeyml" class="md-nav__link">
    El fichero docker-compose.yml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#el-comando-docker-compose" class="md-nav__link">
    El comando docker-compose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#almacenamiento-con-docker-compose" class="md-nav__link">
    Almacenamiento con docker-compose
  </a>
  
    <nav class="md-nav" aria-label="Almacenamiento con docker-compose">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#volumenes-docker-compose" class="md-nav__link">
    Volúmenes docker-compose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bind-mount-docker-compose" class="md-nav__link">
    Bind mount docker-compose
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redes-con-docker-compose" class="md-nav__link">
    Redes con docker-compose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-1-despliegue-de-la-aplicacion-guestbook_1" class="md-nav__link">
    Ejemplo 1: Despliegue de la aplicación guestbook
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-2-despliegue-de-la-aplicacion-temperaturas_1" class="md-nav__link">
    Ejemplo 2: Despliegue de la aplicación temperaturas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-3-despliegue-de-wordpress-mariadb_1" class="md-nav__link">
    Ejemplo 3: Despliegue de WordPress + MariaDB
  </a>
  
    <nav class="md-nav" aria-label="Ejemplo 3: Despliegue de WordPress + MariaDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wp-con-volumenes" class="md-nav__link">
    WP con volúmenes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wp-con-bind-mount" class="md-nav__link">
    WP con bind mount
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-4-despliegue-de-tomcat-nginx_1" class="md-nav__link">
    Ejemplo 4: Despliegue de tomcat + nginx
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplos-reales-de-despliegues-usando-docker-compose" class="md-nav__link">
    Ejemplos reales de despliegues usando docker-compose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicios-multicontenedor" class="md-nav__link">
    Ejercicios multicontenedor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creacion-de-imagenes" class="md-nav__link">
    Creación de imágenes
  </a>
  
    <nav class="md-nav" aria-label="Creación de imágenes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creacion-de-imagenes-a-partir-de-un-contenedor" class="md-nav__link">
    Creación de imágenes a partir de un contenedor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacion-de-imagenes-a-partir-de-un-dockerfile" class="md-nav__link">
    Creación de imágenes a partir de un Dockerfile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distribucion-de-imagenes" class="md-nav__link">
    Distribución de imágenes
  </a>
  
    <nav class="md-nav" aria-label="Distribución de imágenes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#por-fichero" class="md-nav__link">
    Por fichero
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#por-docker-hub" class="md-nav__link">
    Por Docker Hub
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-1-construccion-de-imagenes-con-una-pagina-estatica" class="md-nav__link">
    Ejemplo 1: Construcción de imágenes con una página estática
  </a>
  
    <nav class="md-nav" aria-label="Ejemplo 1: Construcción de imágenes con una página estática">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#version-1-desde-una-imagen-base" class="md-nav__link">
    Versión 1: Desde una imagen base
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-2-desde-una-imagen-con-apache2" class="md-nav__link">
    Versión 2: Desde una imagen con apache2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-3-desde-una-imagen-con-nginx" class="md-nav__link">
    Versión 3: Desde una imagen con nginx
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-2-construccion-de-imagenes-con-una-aplicacion-php" class="md-nav__link">
    Ejemplo 2: Construcción de imágenes con una aplicación PHP
  </a>
  
    <nav class="md-nav" aria-label="Ejemplo 2: Construcción de imágenes con una aplicación PHP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#version-1-desde-una-imagen-base-sin-php" class="md-nav__link">
    Versión 1: Desde una imagen base sin PHP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-2-desde-una-imagen-con-php-instalado" class="md-nav__link">
    Versión 2: Desde una imagen con PHP instalado
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-3-construccion-de-imagenes-con-una-aplicacion-python" class="md-nav__link">
    Ejemplo 3: Construcción de imágenes con una aplicación Python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ciclo-de-vida-de-las-aplicaciones" class="md-nav__link">
    Ciclo de vida de las aplicaciones
  </a>
  
    <nav class="md-nav" aria-label="Ciclo de vida de las aplicaciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#paso-1-desarrollo-de-nuestra-aplicacion" class="md-nav__link">
    Paso 1: Desarrollo de nuestra aplicación
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-creacion-de-la-imagen-docker" class="md-nav__link">
    Paso 2: Creación de la imagen Docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-probamos-nuestra-aplicacion-en-el-entorno-de-desarrollo" class="md-nav__link">
    Paso 3: Probamos nuestra aplicación en el entorno de desarrollo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-distribuimos-nuestra-imagen" class="md-nav__link">
    Paso 4: Distribuimos nuestra imagen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-5-implantacion-de-la-aplicacion" class="md-nav__link">
    Paso 5: Implantación de la aplicación
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-6-modificacion-de-la-aplicacion" class="md-nav__link">
    Paso 6: Modificación de la aplicación
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicios-creacion-imagenes" class="md-nav__link">
    Ejercicios creación imágenes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="ejercicios-docker">Ejercicios Docker</h1>
<p>Todos estos ejercicios estarán sacados del <a href="https://iesgn.github.io/curso_docker_2021/">curso de Docker de José Domingo</a>.</p>
<h2 id="introduccion">Introducción</h2>
<h3 id="instalacion-de-docker">Instalación de docker</h3>
<p>Instalo la versión de comunidad de Debian:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="go">sudo apt install docker.io</span>
</code></pre></div>
<p>Hago que mi usuario sin privilegios pueda usar el cliente de docker <em>(para que este cambio surta efecto tendremos que cerrar sesión y volver a logearnos con nuestro usuario)</em>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="go">sudo usermod -aG docker atlas</span>
</code></pre></div>
<p>Pruebo que Docker se instaló:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>--version
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="go">Docker version 20.10.5+dfsg1, build 55c4c88</span>
</code></pre></div>
<h3 id="el-hola-mundo-de-docker">El “Hola Mundo” de docker</h3>
<p>Creamos nuestro primer contenedor desde la imagen hello-world:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>hello-world
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="go">Unable to find image &#39;hello-world:latest&#39; locally</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="go">latest: Pulling from library/hello-world</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="go">2db29710123e: Pull complete</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="go">Digest: sha256:80f31da1ac7b312ba29d65080fddf797dd76acfb870e677f390d5acba9741b17</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="go">Status: Downloaded newer image for hello-world:latest</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="go">Hello from Docker!</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="go">This message shows that your installation appears to be working correctly.</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="go">To generate this message, Docker took the following steps:</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="go"> 1. The Docker client contacted the Docker daemon.</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="go"> 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="go">    (amd64)</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="go"> 3. The Docker daemon created a new container from that image which runs the</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="go">    executable that produces the output you are currently reading.</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="go"> 4. The Docker daemon streamed that output to the Docker client, which sent it</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="go">    to your terminal.</span>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="go">To try something more ambitious, you can run an Ubuntu container with:</span>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="gp"> $ </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>ubuntu<span class="w"> </span>bash
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="go">Share images, automate workflows, and more with a free Docker ID:</span>
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="go"> https://hub.docker.com/</span>
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="go">For more examples and ideas, visit:</span>
<a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a><span class="go"> https://docs.docker.com/get-started/</span>
</code></pre></div>
<p>Para listar los contenedores ejecutándose:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="go">docker ps</span>
</code></pre></div>
<p>Para listar <em>todos</em> los contenedores, no ejecutándose o ejecutándose:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>ps<span class="w"> </span>-a
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="go">CONTAINER ID   IMAGE         COMMAND    CREATED         STATUS                     PORTS     NAMES</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="go">0653f26a58dc   hello-world   &quot;/hello&quot;   6 minutes ago   Exited (0) 6 minutes ago             blissful_ardinghelli</span>
</code></pre></div>
<p>Para eliminar contenedores por id:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="go">docker rm 0653f26a58dc</span>
</code></pre></div>
<p>Para eliminar contenedores por nombre:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="go">docker rm blissful_ardinghelli</span>
</code></pre></div>
<h3 id="ejecucion-simple-de-contenedores">Ejecución simple de contenedores</h3>
<p>Ejecutamos un echo desde una imagen Ubuntu:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>ubuntu<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Hello world&#39;</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="go">Unable to find image &#39;ubuntu:latest&#39; locally</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="go">latest: Pulling from library/ubuntu</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="go">405f018f9d1d: Pull complete</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="go">Digest: sha256:b6b83d3c331794420340093eb706a6f152d9c1fa51b262d9bf34594887c2c7ac</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="go">Status: Downloaded newer image for ubuntu:latest</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="go">Hello world</span>
</code></pre></div>
<p>Comprobamos que el contenedor se ha parado:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>ps<span class="w"> </span>-a
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="go">CONTAINER ID   IMAGE     COMMAND                CREATED         STATUS                     PORTS     NAMES</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="go">45c6f4b0dbcc   ubuntu    &quot;echo &#39;Hello world&#39;&quot;   2 minutes ago   Exited (0) 2 minutes ago             competent_davinci</span>
</code></pre></div>
<p>Para listar las imágenes que ya tenemos descargadas:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>images
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="go">REPOSITORY    TAG       IMAGE ID       CREATED        SIZE</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="go">ubuntu        latest    27941809078c   2 days ago     77.8MB</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="go">hello-world   latest    feb5d9fea6a5   8 months ago   13.3kB</span>
</code></pre></div>
<h3 id="ejecutando-un-contenedor-interactivo">Ejecutando un contenedor interactivo</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--name<span class="w"> </span>contenedor1<span class="w"> </span>ubuntu<span class="w"> </span>bash
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="gp">root@38c803b78559:/#</span>
</code></pre></div>
<p>Para volver a conectarnos al contenedor después de habernos salido:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>start<span class="w"> </span>contenedor1
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="go">contenedor1</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>attach<span class="w"> </span>contenedor1
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="gp">root@38c803b78559:/#</span>
</code></pre></div>
<p>Para ejecutar comandos sobre un contenedor en ejecución:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>start<span class="w"> </span>contenedor1
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="go">contenedor1</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>contenedor1<span class="w"> </span>ls<span class="w"> </span>-la
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="go">total 56</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="go">drwxr-xr-x   1 root root 4096 Jun  9 19:11 .</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="go">drwxr-xr-x   1 root root 4096 Jun  9 19:11 ..</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="go">-rwxr-xr-x   1 root root    0 Jun  9 19:11 .dockerenv</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="go">lrwxrwxrwx   1 root root    7 May 31 15:42 bin -&gt; usr/bin</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="go">drwxr-xr-x   2 root root 4096 Apr 18 10:28 boot</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="go">drwxr-xr-x   5 root root  360 Jun  9 19:24 dev</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="go">drwxr-xr-x   1 root root 4096 Jun  9 19:11 etc</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="go">drwxr-xr-x   2 root root 4096 Apr 18 10:28 home</span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="go">lrwxrwxrwx   1 root root    7 May 31 15:42 lib -&gt; usr/lib</span>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="go">lrwxrwxrwx   1 root root    9 May 31 15:42 lib32 -&gt; usr/lib32</span>
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="go">lrwxrwxrwx   1 root root    9 May 31 15:42 lib64 -&gt; usr/lib64</span>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="go">lrwxrwxrwx   1 root root   10 May 31 15:42 libx32 -&gt; usr/libx32</span>
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="go">drwxr-xr-x   2 root root 4096 May 31 15:42 media</span>
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a><span class="go">drwxr-xr-x   2 root root 4096 May 31 15:42 mnt</span>
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a><span class="go">drwxr-xr-x   2 root root 4096 May 31 15:42 opt</span>
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a><span class="go">dr-xr-xr-x 443 root root    0 Jun  9 19:24 proc</span>
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a><span class="go">drwx------   1 root root 4096 Jun  9 19:13 root</span>
<a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a><span class="go">drwxr-xr-x   5 root root 4096 May 31 15:45 run</span>
<a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a><span class="go">lrwxrwxrwx   1 root root    8 May 31 15:42 sbin -&gt; usr/sbin</span>
<a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a><span class="go">drwxr-xr-x   2 root root 4096 May 31 15:42 srv</span>
<a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a><span class="go">dr-xr-xr-x  13 root root    0 Jun  9 19:24 sys</span>
<a id="__codelineno-13-26" name="__codelineno-13-26" href="#__codelineno-13-26"></a><span class="go">drwxrwxrwt   2 root root 4096 May 31 15:45 tmp</span>
<a id="__codelineno-13-27" name="__codelineno-13-27" href="#__codelineno-13-27"></a><span class="go">drwxr-xr-x  14 root root 4096 May 31 15:42 usr</span>
<a id="__codelineno-13-28" name="__codelineno-13-28" href="#__codelineno-13-28"></a><span class="go">drwxr-xr-x  11 root root 4096 May 31 15:45 var</span>
</code></pre></div>
<p>Para reiniciar un contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>restart<span class="w"> </span>contenedor1
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="go">contenedor1</span>
</code></pre></div>
<p>Para mostrar información sobre un contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>inspect<span class="w"> </span>contenedor1
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="go">[</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="go">    {</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="go">        &quot;Id&quot;: &quot;38c803b78559b214a1e74377faf006cb1758e9bee4619c782783fd685e84b192&quot;,</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="go">        &quot;Created&quot;: &quot;2022-06-09T19:11:27.622457379Z&quot;,</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="go">        &quot;Path&quot;: &quot;bash&quot;,</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="go">        &quot;Args&quot;: [],</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="go">        &quot;State&quot;: {</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="go">            &quot;Status&quot;: &quot;running&quot;,</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="go">            &quot;Running&quot;: true,</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="go">            &quot;Paused&quot;: false,</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="go">            &quot;Restarting&quot;: false,</span>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="go">            &quot;OOMKilled&quot;: false,</span>
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="go">            &quot;Dead&quot;: false,</span>
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="go">            &quot;Pid&quot;: 22633,</span>
<a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a><span class="go">            &quot;ExitCode&quot;: 0,</span>
<a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a><span class="go">            &quot;Error&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a><span class="go">            &quot;StartedAt&quot;: &quot;2022-06-09T19:27:04.276188002Z&quot;,</span>
<a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a><span class="go">            &quot;FinishedAt&quot;: &quot;2022-06-09T19:27:03.593607062Z&quot;</span>
<a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a><span class="go">        },</span>
<a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a><span class="go">        &quot;Image&quot;: &quot;sha256:27941809078cc9b2802deb2b0bb6feed6c236cde01e487f200e24653533701ee&quot;,</span>
<a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a><span class="go">        &quot;ResolvConfPath&quot;: &quot;/var/lib/docker/containers/38c803b78559b214a1e74377faf006cb1758e9bee4619c782783fd685e84b192/resolv.conf&quot;,</span>
<a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a><span class="go">        &quot;HostnamePath&quot;: &quot;/var/lib/docker/containers/38c803b78559b214a1e74377faf006cb1758e9bee4619c782783fd685e84b192/hostname&quot;,</span>
<a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a><span class="go">        &quot;HostsPath&quot;: &quot;/var/lib/docker/containers/38c803b78559b214a1e74377faf006cb1758e9bee4619c782783fd685e84b192/hosts&quot;,</span>
<a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a><span class="go">        &quot;LogPath&quot;: &quot;/var/lib/docker/containers/38c803b78559b214a1e74377faf006cb1758e9bee4619c782783fd685e84b192/38c803b78559b214a1e74377faf006cb1758e9bee4619c782783fd685e84b192-json.log&quot;,</span>
<a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a><span class="go">        &quot;Name&quot;: &quot;/contenedor1&quot;,</span>
<a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a><span class="go">        &quot;RestartCount&quot;: 0,</span>
<a id="__codelineno-15-28" name="__codelineno-15-28" href="#__codelineno-15-28"></a><span class="go">        &quot;Driver&quot;: &quot;overlay2&quot;,</span>
<a id="__codelineno-15-29" name="__codelineno-15-29" href="#__codelineno-15-29"></a><span class="go">        &quot;Platform&quot;: &quot;linux&quot;,</span>
<a id="__codelineno-15-30" name="__codelineno-15-30" href="#__codelineno-15-30"></a><span class="go">        &quot;MountLabel&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-31" name="__codelineno-15-31" href="#__codelineno-15-31"></a><span class="go">        &quot;ProcessLabel&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-32" name="__codelineno-15-32" href="#__codelineno-15-32"></a><span class="go">        &quot;AppArmorProfile&quot;: &quot;docker-default&quot;,</span>
<a id="__codelineno-15-33" name="__codelineno-15-33" href="#__codelineno-15-33"></a><span class="go">        &quot;ExecIDs&quot;: null,</span>
<a id="__codelineno-15-34" name="__codelineno-15-34" href="#__codelineno-15-34"></a><span class="go">        &quot;HostConfig&quot;: {</span>
<a id="__codelineno-15-35" name="__codelineno-15-35" href="#__codelineno-15-35"></a><span class="go">            &quot;Binds&quot;: null,</span>
<a id="__codelineno-15-36" name="__codelineno-15-36" href="#__codelineno-15-36"></a><span class="go">            &quot;ContainerIDFile&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-37" name="__codelineno-15-37" href="#__codelineno-15-37"></a><span class="go">            &quot;LogConfig&quot;: {</span>
<a id="__codelineno-15-38" name="__codelineno-15-38" href="#__codelineno-15-38"></a><span class="go">                &quot;Type&quot;: &quot;json-file&quot;,</span>
<a id="__codelineno-15-39" name="__codelineno-15-39" href="#__codelineno-15-39"></a><span class="go">                &quot;Config&quot;: {}</span>
<a id="__codelineno-15-40" name="__codelineno-15-40" href="#__codelineno-15-40"></a><span class="go">            },</span>
<a id="__codelineno-15-41" name="__codelineno-15-41" href="#__codelineno-15-41"></a><span class="go">            &quot;NetworkMode&quot;: &quot;default&quot;,</span>
<a id="__codelineno-15-42" name="__codelineno-15-42" href="#__codelineno-15-42"></a><span class="go">            &quot;PortBindings&quot;: {},</span>
<a id="__codelineno-15-43" name="__codelineno-15-43" href="#__codelineno-15-43"></a><span class="go">            &quot;RestartPolicy&quot;: {</span>
<a id="__codelineno-15-44" name="__codelineno-15-44" href="#__codelineno-15-44"></a><span class="go">                &quot;Name&quot;: &quot;no&quot;,</span>
<a id="__codelineno-15-45" name="__codelineno-15-45" href="#__codelineno-15-45"></a><span class="go">                &quot;MaximumRetryCount&quot;: 0</span>
<a id="__codelineno-15-46" name="__codelineno-15-46" href="#__codelineno-15-46"></a><span class="go">            },</span>
<a id="__codelineno-15-47" name="__codelineno-15-47" href="#__codelineno-15-47"></a><span class="go">            &quot;AutoRemove&quot;: false,</span>
<a id="__codelineno-15-48" name="__codelineno-15-48" href="#__codelineno-15-48"></a><span class="go">            &quot;VolumeDriver&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-49" name="__codelineno-15-49" href="#__codelineno-15-49"></a><span class="go">            &quot;VolumesFrom&quot;: null,</span>
<a id="__codelineno-15-50" name="__codelineno-15-50" href="#__codelineno-15-50"></a><span class="go">            &quot;CapAdd&quot;: null,</span>
<a id="__codelineno-15-51" name="__codelineno-15-51" href="#__codelineno-15-51"></a><span class="go">            &quot;CapDrop&quot;: null,</span>
<a id="__codelineno-15-52" name="__codelineno-15-52" href="#__codelineno-15-52"></a><span class="go">            &quot;CgroupnsMode&quot;: &quot;private&quot;,</span>
<a id="__codelineno-15-53" name="__codelineno-15-53" href="#__codelineno-15-53"></a><span class="go">            &quot;Dns&quot;: [],</span>
<a id="__codelineno-15-54" name="__codelineno-15-54" href="#__codelineno-15-54"></a><span class="go">            &quot;DnsOptions&quot;: [],</span>
<a id="__codelineno-15-55" name="__codelineno-15-55" href="#__codelineno-15-55"></a><span class="go">            &quot;DnsSearch&quot;: [],</span>
<a id="__codelineno-15-56" name="__codelineno-15-56" href="#__codelineno-15-56"></a><span class="go">            &quot;ExtraHosts&quot;: null,</span>
<a id="__codelineno-15-57" name="__codelineno-15-57" href="#__codelineno-15-57"></a><span class="go">            &quot;GroupAdd&quot;: null,</span>
<a id="__codelineno-15-58" name="__codelineno-15-58" href="#__codelineno-15-58"></a><span class="go">            &quot;IpcMode&quot;: &quot;private&quot;,</span>
<a id="__codelineno-15-59" name="__codelineno-15-59" href="#__codelineno-15-59"></a><span class="go">            &quot;Cgroup&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-60" name="__codelineno-15-60" href="#__codelineno-15-60"></a><span class="go">            &quot;Links&quot;: null,</span>
<a id="__codelineno-15-61" name="__codelineno-15-61" href="#__codelineno-15-61"></a><span class="go">            &quot;OomScoreAdj&quot;: 0,</span>
<a id="__codelineno-15-62" name="__codelineno-15-62" href="#__codelineno-15-62"></a><span class="go">            &quot;PidMode&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-63" name="__codelineno-15-63" href="#__codelineno-15-63"></a><span class="go">            &quot;Privileged&quot;: false,</span>
<a id="__codelineno-15-64" name="__codelineno-15-64" href="#__codelineno-15-64"></a><span class="go">            &quot;PublishAllPorts&quot;: false,</span>
<a id="__codelineno-15-65" name="__codelineno-15-65" href="#__codelineno-15-65"></a><span class="go">            &quot;ReadonlyRootfs&quot;: false,</span>
<a id="__codelineno-15-66" name="__codelineno-15-66" href="#__codelineno-15-66"></a><span class="go">            &quot;SecurityOpt&quot;: null,</span>
<a id="__codelineno-15-67" name="__codelineno-15-67" href="#__codelineno-15-67"></a><span class="go">            &quot;UTSMode&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-68" name="__codelineno-15-68" href="#__codelineno-15-68"></a><span class="go">            &quot;UsernsMode&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-69" name="__codelineno-15-69" href="#__codelineno-15-69"></a><span class="go">            &quot;ShmSize&quot;: 67108864,</span>
<a id="__codelineno-15-70" name="__codelineno-15-70" href="#__codelineno-15-70"></a><span class="go">            &quot;Runtime&quot;: &quot;runc&quot;,</span>
<a id="__codelineno-15-71" name="__codelineno-15-71" href="#__codelineno-15-71"></a><span class="go">            &quot;ConsoleSize&quot;: [</span>
<a id="__codelineno-15-72" name="__codelineno-15-72" href="#__codelineno-15-72"></a><span class="go">                0,</span>
<a id="__codelineno-15-73" name="__codelineno-15-73" href="#__codelineno-15-73"></a><span class="go">                0</span>
<a id="__codelineno-15-74" name="__codelineno-15-74" href="#__codelineno-15-74"></a><span class="go">            ],</span>
<a id="__codelineno-15-75" name="__codelineno-15-75" href="#__codelineno-15-75"></a><span class="go">            &quot;Isolation&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-76" name="__codelineno-15-76" href="#__codelineno-15-76"></a><span class="go">            &quot;CpuShares&quot;: 0,</span>
<a id="__codelineno-15-77" name="__codelineno-15-77" href="#__codelineno-15-77"></a><span class="go">            &quot;Memory&quot;: 0,</span>
<a id="__codelineno-15-78" name="__codelineno-15-78" href="#__codelineno-15-78"></a><span class="go">            &quot;NanoCpus&quot;: 0,</span>
<a id="__codelineno-15-79" name="__codelineno-15-79" href="#__codelineno-15-79"></a><span class="go">            &quot;CgroupParent&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-80" name="__codelineno-15-80" href="#__codelineno-15-80"></a><span class="go">            &quot;BlkioWeight&quot;: 0,</span>
<a id="__codelineno-15-81" name="__codelineno-15-81" href="#__codelineno-15-81"></a><span class="go">            &quot;BlkioWeightDevice&quot;: [],</span>
<a id="__codelineno-15-82" name="__codelineno-15-82" href="#__codelineno-15-82"></a><span class="go">            &quot;BlkioDeviceReadBps&quot;: null,</span>
<a id="__codelineno-15-83" name="__codelineno-15-83" href="#__codelineno-15-83"></a><span class="go">            &quot;BlkioDeviceWriteBps&quot;: null,</span>
<a id="__codelineno-15-84" name="__codelineno-15-84" href="#__codelineno-15-84"></a><span class="go">            &quot;BlkioDeviceReadIOps&quot;: null,</span>
<a id="__codelineno-15-85" name="__codelineno-15-85" href="#__codelineno-15-85"></a><span class="go">            &quot;BlkioDeviceWriteIOps&quot;: null,</span>
<a id="__codelineno-15-86" name="__codelineno-15-86" href="#__codelineno-15-86"></a><span class="go">            &quot;CpuPeriod&quot;: 0,</span>
<a id="__codelineno-15-87" name="__codelineno-15-87" href="#__codelineno-15-87"></a><span class="go">            &quot;CpuQuota&quot;: 0,</span>
<a id="__codelineno-15-88" name="__codelineno-15-88" href="#__codelineno-15-88"></a><span class="go">            &quot;CpuRealtimePeriod&quot;: 0,</span>
<a id="__codelineno-15-89" name="__codelineno-15-89" href="#__codelineno-15-89"></a><span class="go">            &quot;CpuRealtimeRuntime&quot;: 0,</span>
<a id="__codelineno-15-90" name="__codelineno-15-90" href="#__codelineno-15-90"></a><span class="go">            &quot;CpusetCpus&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-91" name="__codelineno-15-91" href="#__codelineno-15-91"></a><span class="go">            &quot;CpusetMems&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-92" name="__codelineno-15-92" href="#__codelineno-15-92"></a><span class="go">            &quot;Devices&quot;: [],</span>
<a id="__codelineno-15-93" name="__codelineno-15-93" href="#__codelineno-15-93"></a><span class="go">            &quot;DeviceCgroupRules&quot;: null,</span>
<a id="__codelineno-15-94" name="__codelineno-15-94" href="#__codelineno-15-94"></a><span class="go">            &quot;DeviceRequests&quot;: null,</span>
<a id="__codelineno-15-95" name="__codelineno-15-95" href="#__codelineno-15-95"></a><span class="go">            &quot;KernelMemory&quot;: 0,</span>
<a id="__codelineno-15-96" name="__codelineno-15-96" href="#__codelineno-15-96"></a><span class="go">            &quot;KernelMemoryTCP&quot;: 0,</span>
<a id="__codelineno-15-97" name="__codelineno-15-97" href="#__codelineno-15-97"></a><span class="go">            &quot;MemoryReservation&quot;: 0,</span>
<a id="__codelineno-15-98" name="__codelineno-15-98" href="#__codelineno-15-98"></a><span class="go">            &quot;MemorySwap&quot;: 0,</span>
<a id="__codelineno-15-99" name="__codelineno-15-99" href="#__codelineno-15-99"></a><span class="go">            &quot;MemorySwappiness&quot;: null,</span>
<a id="__codelineno-15-100" name="__codelineno-15-100" href="#__codelineno-15-100"></a><span class="go">            &quot;OomKillDisable&quot;: null,</span>
<a id="__codelineno-15-101" name="__codelineno-15-101" href="#__codelineno-15-101"></a><span class="go">            &quot;PidsLimit&quot;: null,</span>
<a id="__codelineno-15-102" name="__codelineno-15-102" href="#__codelineno-15-102"></a><span class="go">            &quot;Ulimits&quot;: null,</span>
<a id="__codelineno-15-103" name="__codelineno-15-103" href="#__codelineno-15-103"></a><span class="go">            &quot;CpuCount&quot;: 0,</span>
<a id="__codelineno-15-104" name="__codelineno-15-104" href="#__codelineno-15-104"></a><span class="go">            &quot;CpuPercent&quot;: 0,</span>
<a id="__codelineno-15-105" name="__codelineno-15-105" href="#__codelineno-15-105"></a><span class="go">            &quot;IOMaximumIOps&quot;: 0,</span>
<a id="__codelineno-15-106" name="__codelineno-15-106" href="#__codelineno-15-106"></a><span class="go">            &quot;IOMaximumBandwidth&quot;: 0,</span>
<a id="__codelineno-15-107" name="__codelineno-15-107" href="#__codelineno-15-107"></a><span class="go">            &quot;MaskedPaths&quot;: [</span>
<a id="__codelineno-15-108" name="__codelineno-15-108" href="#__codelineno-15-108"></a><span class="go">                &quot;/proc/asound&quot;,</span>
<a id="__codelineno-15-109" name="__codelineno-15-109" href="#__codelineno-15-109"></a><span class="go">                &quot;/proc/acpi&quot;,</span>
<a id="__codelineno-15-110" name="__codelineno-15-110" href="#__codelineno-15-110"></a><span class="go">                &quot;/proc/kcore&quot;,</span>
<a id="__codelineno-15-111" name="__codelineno-15-111" href="#__codelineno-15-111"></a><span class="go">                &quot;/proc/keys&quot;,</span>
<a id="__codelineno-15-112" name="__codelineno-15-112" href="#__codelineno-15-112"></a><span class="go">                &quot;/proc/latency_stats&quot;,</span>
<a id="__codelineno-15-113" name="__codelineno-15-113" href="#__codelineno-15-113"></a><span class="go">                &quot;/proc/timer_list&quot;,</span>
<a id="__codelineno-15-114" name="__codelineno-15-114" href="#__codelineno-15-114"></a><span class="go">                &quot;/proc/timer_stats&quot;,</span>
<a id="__codelineno-15-115" name="__codelineno-15-115" href="#__codelineno-15-115"></a><span class="go">                &quot;/proc/sched_debug&quot;,</span>
<a id="__codelineno-15-116" name="__codelineno-15-116" href="#__codelineno-15-116"></a><span class="go">                &quot;/proc/scsi&quot;,</span>
<a id="__codelineno-15-117" name="__codelineno-15-117" href="#__codelineno-15-117"></a><span class="go">                &quot;/sys/firmware&quot;</span>
<a id="__codelineno-15-118" name="__codelineno-15-118" href="#__codelineno-15-118"></a><span class="go">            ],</span>
<a id="__codelineno-15-119" name="__codelineno-15-119" href="#__codelineno-15-119"></a><span class="go">            &quot;ReadonlyPaths&quot;: [</span>
<a id="__codelineno-15-120" name="__codelineno-15-120" href="#__codelineno-15-120"></a><span class="go">                &quot;/proc/bus&quot;,</span>
<a id="__codelineno-15-121" name="__codelineno-15-121" href="#__codelineno-15-121"></a><span class="go">                &quot;/proc/fs&quot;,</span>
<a id="__codelineno-15-122" name="__codelineno-15-122" href="#__codelineno-15-122"></a><span class="go">                &quot;/proc/irq&quot;,</span>
<a id="__codelineno-15-123" name="__codelineno-15-123" href="#__codelineno-15-123"></a><span class="go">                &quot;/proc/sys&quot;,</span>
<a id="__codelineno-15-124" name="__codelineno-15-124" href="#__codelineno-15-124"></a><span class="go">                &quot;/proc/sysrq-trigger&quot;</span>
<a id="__codelineno-15-125" name="__codelineno-15-125" href="#__codelineno-15-125"></a><span class="go">            ]</span>
<a id="__codelineno-15-126" name="__codelineno-15-126" href="#__codelineno-15-126"></a><span class="go">        },</span>
<a id="__codelineno-15-127" name="__codelineno-15-127" href="#__codelineno-15-127"></a><span class="go">        &quot;GraphDriver&quot;: {</span>
<a id="__codelineno-15-128" name="__codelineno-15-128" href="#__codelineno-15-128"></a><span class="go">            &quot;Data&quot;: {</span>
<a id="__codelineno-15-129" name="__codelineno-15-129" href="#__codelineno-15-129"></a><span class="go">                &quot;LowerDir&quot;: &quot;/var/lib/docker/overlay2/9fad5d5cd99a61193d036952be9856f4306065f1f2b98eec3069c1c4c25c2242-init/diff:/var/lib/docker/overlay2/4c732dfff53d5fd606c32c363b213c57a8926899ca739453ebaa448ac601efed/diff&quot;,</span>
<a id="__codelineno-15-130" name="__codelineno-15-130" href="#__codelineno-15-130"></a><span class="go">                &quot;MergedDir&quot;: &quot;/var/lib/docker/overlay2/9fad5d5cd99a61193d036952be9856f4306065f1f2b98eec3069c1c4c25c2242/merged&quot;,</span>
<a id="__codelineno-15-131" name="__codelineno-15-131" href="#__codelineno-15-131"></a><span class="go">                &quot;UpperDir&quot;: &quot;/var/lib/docker/overlay2/9fad5d5cd99a61193d036952be9856f4306065f1f2b98eec3069c1c4c25c2242/diff&quot;,</span>
<a id="__codelineno-15-132" name="__codelineno-15-132" href="#__codelineno-15-132"></a><span class="go">                &quot;WorkDir&quot;: &quot;/var/lib/docker/overlay2/9fad5d5cd99a61193d036952be9856f4306065f1f2b98eec3069c1c4c25c2242/work&quot;</span>
<a id="__codelineno-15-133" name="__codelineno-15-133" href="#__codelineno-15-133"></a><span class="go">            },</span>
<a id="__codelineno-15-134" name="__codelineno-15-134" href="#__codelineno-15-134"></a><span class="go">            &quot;Name&quot;: &quot;overlay2&quot;</span>
<a id="__codelineno-15-135" name="__codelineno-15-135" href="#__codelineno-15-135"></a><span class="go">        },</span>
<a id="__codelineno-15-136" name="__codelineno-15-136" href="#__codelineno-15-136"></a><span class="go">        &quot;Mounts&quot;: [],</span>
<a id="__codelineno-15-137" name="__codelineno-15-137" href="#__codelineno-15-137"></a><span class="go">        &quot;Config&quot;: {</span>
<a id="__codelineno-15-138" name="__codelineno-15-138" href="#__codelineno-15-138"></a><span class="go">            &quot;Hostname&quot;: &quot;38c803b78559&quot;,</span>
<a id="__codelineno-15-139" name="__codelineno-15-139" href="#__codelineno-15-139"></a><span class="go">            &quot;Domainname&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-140" name="__codelineno-15-140" href="#__codelineno-15-140"></a><span class="go">            &quot;User&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-141" name="__codelineno-15-141" href="#__codelineno-15-141"></a><span class="go">            &quot;AttachStdin&quot;: true,</span>
<a id="__codelineno-15-142" name="__codelineno-15-142" href="#__codelineno-15-142"></a><span class="go">            &quot;AttachStdout&quot;: true,</span>
<a id="__codelineno-15-143" name="__codelineno-15-143" href="#__codelineno-15-143"></a><span class="go">            &quot;AttachStderr&quot;: true,</span>
<a id="__codelineno-15-144" name="__codelineno-15-144" href="#__codelineno-15-144"></a><span class="go">            &quot;Tty&quot;: true,</span>
<a id="__codelineno-15-145" name="__codelineno-15-145" href="#__codelineno-15-145"></a><span class="go">            &quot;OpenStdin&quot;: true,</span>
<a id="__codelineno-15-146" name="__codelineno-15-146" href="#__codelineno-15-146"></a><span class="go">            &quot;StdinOnce&quot;: true,</span>
<a id="__codelineno-15-147" name="__codelineno-15-147" href="#__codelineno-15-147"></a><span class="go">            &quot;Env&quot;: [</span>
<a id="__codelineno-15-148" name="__codelineno-15-148" href="#__codelineno-15-148"></a><span class="go">                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span>
<a id="__codelineno-15-149" name="__codelineno-15-149" href="#__codelineno-15-149"></a><span class="go">            ],</span>
<a id="__codelineno-15-150" name="__codelineno-15-150" href="#__codelineno-15-150"></a><span class="go">            &quot;Cmd&quot;: [</span>
<a id="__codelineno-15-151" name="__codelineno-15-151" href="#__codelineno-15-151"></a><span class="go">                &quot;bash&quot;</span>
<a id="__codelineno-15-152" name="__codelineno-15-152" href="#__codelineno-15-152"></a><span class="go">            ],</span>
<a id="__codelineno-15-153" name="__codelineno-15-153" href="#__codelineno-15-153"></a><span class="go">            &quot;Image&quot;: &quot;ubuntu&quot;,</span>
<a id="__codelineno-15-154" name="__codelineno-15-154" href="#__codelineno-15-154"></a><span class="go">            &quot;Volumes&quot;: null,</span>
<a id="__codelineno-15-155" name="__codelineno-15-155" href="#__codelineno-15-155"></a><span class="go">            &quot;WorkingDir&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-156" name="__codelineno-15-156" href="#__codelineno-15-156"></a><span class="go">            &quot;Entrypoint&quot;: null,</span>
<a id="__codelineno-15-157" name="__codelineno-15-157" href="#__codelineno-15-157"></a><span class="go">            &quot;OnBuild&quot;: null,</span>
<a id="__codelineno-15-158" name="__codelineno-15-158" href="#__codelineno-15-158"></a><span class="go">            &quot;Labels&quot;: {}</span>
<a id="__codelineno-15-159" name="__codelineno-15-159" href="#__codelineno-15-159"></a><span class="go">        },</span>
<a id="__codelineno-15-160" name="__codelineno-15-160" href="#__codelineno-15-160"></a><span class="go">        &quot;NetworkSettings&quot;: {</span>
<a id="__codelineno-15-161" name="__codelineno-15-161" href="#__codelineno-15-161"></a><span class="go">            &quot;Bridge&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-162" name="__codelineno-15-162" href="#__codelineno-15-162"></a><span class="go">            &quot;SandboxID&quot;: &quot;ddca79ac78e8d67018fe07a11ca7c316e2a74e58e11aca41ef07cb44a960aacd&quot;,</span>
<a id="__codelineno-15-163" name="__codelineno-15-163" href="#__codelineno-15-163"></a><span class="go">            &quot;HairpinMode&quot;: false,</span>
<a id="__codelineno-15-164" name="__codelineno-15-164" href="#__codelineno-15-164"></a><span class="go">            &quot;LinkLocalIPv6Address&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-165" name="__codelineno-15-165" href="#__codelineno-15-165"></a><span class="go">            &quot;LinkLocalIPv6PrefixLen&quot;: 0,</span>
<a id="__codelineno-15-166" name="__codelineno-15-166" href="#__codelineno-15-166"></a><span class="go">            &quot;Ports&quot;: {},</span>
<a id="__codelineno-15-167" name="__codelineno-15-167" href="#__codelineno-15-167"></a><span class="go">            &quot;SandboxKey&quot;: &quot;/var/run/docker/netns/ddca79ac78e8&quot;,</span>
<a id="__codelineno-15-168" name="__codelineno-15-168" href="#__codelineno-15-168"></a><span class="go">            &quot;SecondaryIPAddresses&quot;: null,</span>
<a id="__codelineno-15-169" name="__codelineno-15-169" href="#__codelineno-15-169"></a><span class="go">            &quot;SecondaryIPv6Addresses&quot;: null,</span>
<a id="__codelineno-15-170" name="__codelineno-15-170" href="#__codelineno-15-170"></a><span class="go">            &quot;EndpointID&quot;: &quot;868b39bc434bcdc04637157879fcf3b5bee0a09c5f44e6a438ddbb7f05e2802d&quot;,</span>
<a id="__codelineno-15-171" name="__codelineno-15-171" href="#__codelineno-15-171"></a><span class="go">            &quot;Gateway&quot;: &quot;172.17.0.1&quot;,</span>
<a id="__codelineno-15-172" name="__codelineno-15-172" href="#__codelineno-15-172"></a><span class="go">            &quot;GlobalIPv6Address&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-173" name="__codelineno-15-173" href="#__codelineno-15-173"></a><span class="go">            &quot;GlobalIPv6PrefixLen&quot;: 0,</span>
<a id="__codelineno-15-174" name="__codelineno-15-174" href="#__codelineno-15-174"></a><span class="go">            &quot;IPAddress&quot;: &quot;172.17.0.2&quot;,</span>
<a id="__codelineno-15-175" name="__codelineno-15-175" href="#__codelineno-15-175"></a><span class="go">            &quot;IPPrefixLen&quot;: 16,</span>
<a id="__codelineno-15-176" name="__codelineno-15-176" href="#__codelineno-15-176"></a><span class="go">            &quot;IPv6Gateway&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-177" name="__codelineno-15-177" href="#__codelineno-15-177"></a><span class="go">            &quot;MacAddress&quot;: &quot;02:42:ac:11:00:02&quot;,</span>
<a id="__codelineno-15-178" name="__codelineno-15-178" href="#__codelineno-15-178"></a><span class="go">            &quot;Networks&quot;: {</span>
<a id="__codelineno-15-179" name="__codelineno-15-179" href="#__codelineno-15-179"></a><span class="go">                &quot;bridge&quot;: {</span>
<a id="__codelineno-15-180" name="__codelineno-15-180" href="#__codelineno-15-180"></a><span class="go">                    &quot;IPAMConfig&quot;: null,</span>
<a id="__codelineno-15-181" name="__codelineno-15-181" href="#__codelineno-15-181"></a><span class="go">                    &quot;Links&quot;: null,</span>
<a id="__codelineno-15-182" name="__codelineno-15-182" href="#__codelineno-15-182"></a><span class="go">                    &quot;Aliases&quot;: null,</span>
<a id="__codelineno-15-183" name="__codelineno-15-183" href="#__codelineno-15-183"></a><span class="go">                    &quot;NetworkID&quot;: &quot;d9afc200992598b8c58b8b9387d37f9d4575203de95b19a0d9c0b643073c8759&quot;,</span>
<a id="__codelineno-15-184" name="__codelineno-15-184" href="#__codelineno-15-184"></a><span class="go">                    &quot;EndpointID&quot;: &quot;868b39bc434bcdc04637157879fcf3b5bee0a09c5f44e6a438ddbb7f05e2802d&quot;,</span>
<a id="__codelineno-15-185" name="__codelineno-15-185" href="#__codelineno-15-185"></a><span class="go">                    &quot;Gateway&quot;: &quot;172.17.0.1&quot;,</span>
<a id="__codelineno-15-186" name="__codelineno-15-186" href="#__codelineno-15-186"></a><span class="go">                    &quot;IPAddress&quot;: &quot;172.17.0.2&quot;,</span>
<a id="__codelineno-15-187" name="__codelineno-15-187" href="#__codelineno-15-187"></a><span class="go">                    &quot;IPPrefixLen&quot;: 16,</span>
<a id="__codelineno-15-188" name="__codelineno-15-188" href="#__codelineno-15-188"></a><span class="go">                    &quot;IPv6Gateway&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-189" name="__codelineno-15-189" href="#__codelineno-15-189"></a><span class="go">                    &quot;GlobalIPv6Address&quot;: &quot;&quot;,</span>
<a id="__codelineno-15-190" name="__codelineno-15-190" href="#__codelineno-15-190"></a><span class="go">                    &quot;GlobalIPv6PrefixLen&quot;: 0,</span>
<a id="__codelineno-15-191" name="__codelineno-15-191" href="#__codelineno-15-191"></a><span class="go">                    &quot;MacAddress&quot;: &quot;02:42:ac:11:00:02&quot;,</span>
<a id="__codelineno-15-192" name="__codelineno-15-192" href="#__codelineno-15-192"></a><span class="go">                    &quot;DriverOpts&quot;: null</span>
<a id="__codelineno-15-193" name="__codelineno-15-193" href="#__codelineno-15-193"></a><span class="go">                }</span>
<a id="__codelineno-15-194" name="__codelineno-15-194" href="#__codelineno-15-194"></a><span class="go">            }</span>
<a id="__codelineno-15-195" name="__codelineno-15-195" href="#__codelineno-15-195"></a><span class="go">        }</span>
<a id="__codelineno-15-196" name="__codelineno-15-196" href="#__codelineno-15-196"></a><span class="go">    }</span>
<a id="__codelineno-15-197" name="__codelineno-15-197" href="#__codelineno-15-197"></a><span class="go">]</span>
</code></pre></div>
<p>Todas las imágenes tienen definidas un proceso que se ejecuta. La imagen ubuntu tiene definida por defecto el proceso bash, por lo que podríamos haber ejecutado:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--name<span class="w"> </span>contenedor1<span class="w"> </span>ubuntu
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="gp">root@09f0527e808f:/#</span>
</code></pre></div>
<h3 id="creando-un-contenedor-demonio">Creando un contenedor demonio</h3>
<p>Para ejecutar un comando en un contenedor en segundo plano:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>contenedor2<span class="w"> </span>ubuntu<span class="w"> </span>bash<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;while true; do echo hello world; sleep 1; done&quot;</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="go">29039571153e129b1f4d901a2e9a270385fee1905c877dda3c13de53b7ad9eb4</span>
</code></pre></div>
<p>Comprobar que el contenedor se sigue ejecutando:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>ps
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="go">CONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS     NAMES</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="go">29039571153e   ubuntu    &quot;bash -c &#39;while true…&quot;   14 minutes ago   Up 14 minutes             contenedor2</span>
</code></pre></div>
<p>Comprobar lo que está haciendo el contenedor (bucle infinito de echo):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>logs<span class="w"> </span>contenedor2<span class="w"> </span><span class="p">|</span><span class="w"> </span>more
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="go">hello world</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="go">hello world</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="go">hello world</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="go">...</span>
</code></pre></div>
<p>Paramos y borramos el contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>stop<span class="w"> </span>contenedor2
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="go">contenedor2</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>rm<span class="w"> </span>contenedor2
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="go">contenedor2</span>
</code></pre></div>
<p>Un contenedor en ejecución no puede ser eliminado, hay que pararlo y borrarlo. Se puede borrar a la fuerza:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="go">docker rm -f contenedor2</span>
</code></pre></div>
<h3 id="creando-un-contenedor-con-un-servidor-web">Creando un contenedor con un servidor web</h3>
<p>Para lanzar un contenedor con apache en segundo plano:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>my-apache-app<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span>httpd:2.4
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="go">28bd87fd47f48201f2805dc8be0a5a4a9698dd0b4289a2ed9ae0c6f11c436775</span>
</code></pre></div>
<p>Pruebo que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/66sZy1O.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="dockerapache" src="https://i.imgur.com/66sZy1O.png" /></a></p>
<p>Para ver sus logs:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>logs<span class="w"> </span>my-apache-app
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="go">AH00558: httpd: Could not reliably determine the server&#39;s fully qualified domain name, using 172.17.0.2. Set the &#39;ServerName&#39; directive globally to suppress this message</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="go">AH00558: httpd: Could not reliably determine the server&#39;s fully qualified domain name, using 172.17.0.2. Set the &#39;ServerName&#39; directive globally to suppress this message</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="go">[Fri Jun 10 10:42:47.967351 2022] [mpm_event:notice] [pid 1:tid 140566825770304] AH00489: Apache/2.4.54 (Unix) configured -- resuming normal operations</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="go">[Fri Jun 10 10:42:47.967443 2022] [core:notice] [pid 1:tid 140566825770304] AH00094: Command line: &#39;httpd -D FOREGROUND&#39;</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="go">172.17.0.1 - - [10/Jun/2022:10:45:34 +0000] &quot;GET / HTTP/1.1&quot; 200 45</span>
</code></pre></div>
<p>Logs en tiempo real:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="go">docker logs -f my-apache-app</span>
</code></pre></div>
<p>Para modificar el <code>index.html</code> accediendo al contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>my-apache-app<span class="w"> </span>bash
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="gp">root@eaee87a6a08f:/usr/local/apache2# </span><span class="nb">cd</span><span class="w"> </span>htdocs/
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="gp">root@eaee87a6a08f:/usr/local/apache2/htdocs# </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&lt;h1&gt;Curso Docker&lt;/h1&gt;&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>index.html
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="gp">root@eaee87a6a08f:/usr/local/apache2/htdocs# </span><span class="nb">exit</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="go">exit</span>
</code></pre></div>
<p>Pruebo que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/g5NzdPW.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="indexhtmlmodificadointeractivo" src="https://i.imgur.com/g5NzdPW.png" /></a></p>
<p>Para modificar el <code>index.html</code> sin acceder al contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="go">docker exec my-apache-app bash -c &#39;echo &quot;&lt;h1&gt;Curso Docker 2&lt;/h1&gt;&quot; &gt; /usr/local/apache2/htdocs/index.html&#39;</span>
</code></pre></div>
<p><a class="glightbox" href="https://i.imgur.com/7BIsvbQ.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="indexhtmlmodificado" src="https://i.imgur.com/7BIsvbQ.png" /></a></p>
<h3 id="configuracion-de-contenedores-con-variables-de-entorno">Configuración de contenedores con variables de entorno</h3>
<p>Para crear un contenedor con una variable:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--name<span class="w"> </span>prueba<span class="w"> </span>-e<span class="w"> </span><span class="nv">USUARIO</span><span class="o">=</span>prueba<span class="w"> </span>ubuntu<span class="w"> </span>bash
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="gp">root@cf492c1f8f1a:/# echo $</span>USUARIO
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="go">prueba</span>
</code></pre></div>
<p>Para lanzar un MariaDB con una variable:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>some-mariadb<span class="w"> </span>-e<span class="w"> </span><span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>my-secret-pw<span class="w"> </span>mariadb
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="go">Unable to find image &#39;mariadb:latest&#39; locally</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="go">latest: Pulling from library/mariadb</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="go">405f018f9d1d: Already exists</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="go">7a85079b8234: Pull complete</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="go">579c7ff691b1: Pull complete</span>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="go">4976663b5d6d: Pull complete</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="go">169024b1fb13: Pull complete</span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="go">c0ffe8ce897f: Pull complete</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="go">b583c09d23c3: Pull complete</span>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="go">9b9f0c08d08f: Pull complete</span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="go">9cd51f984586: Pull complete</span>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="go">d9f506bb8aca: Pull complete</span>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="go">24d689f79ba4: Pull complete</span>
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="go">Digest: sha256:88fcb7d92c7f61cd885c4d309c98461f3607aa6dbd57a2474be86e1956b36d13</span>
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="go">Status: Downloaded newer image for mariadb:latest</span>
<a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="go">fafaba08181c061d5aadbb7f79dda4e2d61cbea6dd883f80f4f51a64cecb5834</span>
<a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>ps
<a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a><span class="go">CONTAINER ID   IMAGE       COMMAND                  CREATED          STATUS          PORTS                  NAMES</span>
<a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a><span class="go">fafaba08181c   mariadb     &quot;docker-entrypoint.s…&quot;   14 seconds ago   Up 12 seconds   3306/tcp               some-mariadb</span>
<a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a><span class="go">eaee87a6a08f   httpd:2.4   &quot;httpd-foreground&quot;       7 hours ago      Up 7 hours      0.0.0.0:8080-&gt;80/tcp   my-apache-app</span>
</code></pre></div>
<p>Para ver la variable creada:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>some-mariadb<span class="w"> </span>env
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="go">PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin</span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="go">HOSTNAME=fafaba08181c</span>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="go">TERM=xterm</span>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="go">MYSQL_ROOT_PASSWORD=my-secret-pw</span>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="go">GOSU_VERSION=1.14</span>
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="go">MARIADB_MAJOR=10.8</span>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="go">MARIADB_VERSION=1:10.8.3+maria~jammy</span>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="go">HOME=/root</span>
</code></pre></div>
<p>Para acceder a la BD:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>some-mariadb<span class="w"> </span>bash
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="gp">root@fafaba08181c:/# </span>mysql<span class="w"> </span>-u<span class="w"> </span>root<span class="w"> </span>-p<span class="s2">&quot;</span><span class="nv">$MYSQL_ROOT_PASSWORD</span><span class="s2">&quot;</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="go">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="go">Your MariaDB connection id is 4</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="go">Server version: 10.8.3-MariaDB-1:10.8.3+maria~jammy mariadb.org binary distribution</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="go">Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.</span>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a>
<a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="go">Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.</span>
<a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a>
<a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a><span class="go">MariaDB [(none)]&gt;</span>
</code></pre></div>
<p>Para acceder a la BD directamente:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>some-mariadb<span class="w"> </span>mysql<span class="w"> </span>-u<span class="w"> </span>root<span class="w"> </span>-p
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="go">Enter password:</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="go">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="go">Your MariaDB connection id is 5</span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="go">Server version: 10.8.3-MariaDB-1:10.8.3+maria~jammy mariadb.org binary distribution</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="go">Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.</span>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a>
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="go">Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.</span>
<a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a>
<a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="go">MariaDB [(none)]&gt;</span>
</code></pre></div>
<p>Para eliminar el contenedor anterior:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>rm<span class="w"> </span>-f<span class="w"> </span>some-mariadb
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="go">some-mariadb</span>
</code></pre></div>
<p>Para que se pueda acceder a la BD desde el exterior:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">3306</span>:3306<span class="w"> </span>--name<span class="w"> </span>some-mariadb<span class="w"> </span>-e<span class="w"> </span><span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>my-secret-pw<span class="w"> </span>mariadb
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="go">90b5f9c312cb79a57ca1397f80daa8294f75cf6fad3cf6ae3fed8e427d845fac</span>
</code></pre></div>
<p>Para comprobar que ha funcionado el mapeo de puertos:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>ps
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="go">CONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS                    NAMES</span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="go">90b5f9c312cb   mariadb   &quot;docker-entrypoint.s…&quot;   2 minutes ago   Up 2 minutes   0.0.0.0:3306-&gt;3306/tcp   some-mariadb</span>
</code></pre></div>
<p>Nos conectamos a la BD del contenedor desde nuestro equipo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="gp">atlas@olympus:~$ </span>mysql<span class="w"> </span>-u<span class="w"> </span>root<span class="w"> </span>-p<span class="w"> </span>-h<span class="w"> </span><span class="m">127</span>.0.0.1
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="go">Enter password:</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="go">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="go">Your MariaDB connection id is 4</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="go">Server version: 10.8.3-MariaDB-1:10.8.3+maria~jammy mariadb.org binary distribution</span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="go">Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.</span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="go">Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.</span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="go">MariaDB [(none)]&gt;</span>
</code></pre></div>
<h3 id="ejercicios-introduccion">Ejercicios introducción</h3>
<p>Crear un contenedor con las siguientes características:</p>
<ul>
<li>Demonio</li>
<li>Con la imagen nginx</li>
<li>Llamado servidor_web</li>
<li>Acceso por puerto 8181</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="go">docker run -d -p 8181:80 --name servidor_web nginx</span>
</code></pre></div>
<p>Pantallazo con creación del contenedor y comprobación de que está funcionando:</p>
<p><a class="glightbox" href="https://i.imgur.com/QiKBo0w.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="pantallazocrearnginx" src="https://i.imgur.com/QiKBo0w.png" /></a></p>
<p>Pantallazo accediendo al servidor web:</p>
<p><a class="glightbox" href="https://i.imgur.com/wGAqOoe.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="pantallazoaccesonginx" src="https://i.imgur.com/wGAqOoe.png" /></a></p>
<p>Pantallazo de tus imágenes locales:</p>
<p><a class="glightbox" href="https://i.imgur.com/c9wTZ4x.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="pantallazodockerimages" src="https://i.imgur.com/c9wTZ4x.png" /></a></p>
<p>Pantallazo eliminando el contenedor:</p>
<p><a class="glightbox" href="https://i.imgur.com/TVuRTyt.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="pantallazoeliminandocontenedor" src="https://i.imgur.com/TVuRTyt.png" /></a></p>
<p>Vemos en el listado final de contenedores que ya no existe "servidor_web".</p>
<h2 id="imagenes">Imágenes</h2>
<h3 id="registros-de-imagenes-docker-hub">Registros de imágenes: Docker Hub</h3>
<p>Estructura de nombre de una imagen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="go">usuario/nombre:etiqueta</span>
</code></pre></div>
<h3 id="gestion-de-imagenes">Gestión de imágenes</h3>
<p>Para listar las imágenes locales:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>images
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="go">REPOSITORY    TAG       IMAGE ID       CREATED        SIZE</span>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="go">httpd         2.4       acd59370d8fb   2 days ago     144MB</span>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="go">mariadb       latest    ea81af801379   4 days ago     383MB</span>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="go">ubuntu        latest    27941809078c   4 days ago     77.8MB</span>
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="go">nginx         latest    0e901e68141f   2 weeks ago    142MB</span>
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="go">hello-world   latest    feb5d9fea6a5   8 months ago   13.3kB</span>
</code></pre></div>
<p>Para descargar la última versión de una imagen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>pull<span class="w"> </span>hello-world
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="go">Using default tag: latest</span>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="go">latest: Pulling from library/hello-world</span>
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="go">2db29710123e: Pull complete</span>
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="go">Digest: sha256:80f31da1ac7b312ba29d65080fddf797dd76acfb870e677f390d5acba9741b17</span>
<a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="go">Status: Downloaded newer image for hello-world:latest</span>
<a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="go">docker.io/library/hello-world:latest</span>
</code></pre></div>
<p>Para eliminar imágenes <em>sin contenedores creados</em>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>rmi<span class="w"> </span>hello-world
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="go">Untagged: hello-world:latest</span>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="go">Untagged: hello-world@sha256:80f31da1ac7b312ba29d65080fddf797dd76acfb870e677f390d5acba9741b17</span>
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="go">Deleted: sha256:feb5d9fea6a5e9606aa995e879d862b825965ba48de054caab5ef356dc6b3412</span>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="go">Deleted: sha256:e07ee1baac5fae6a26f30cabfe54a36d3402f96afda318fe0a96cec4ca393359</span>
</code></pre></div>
<p>Para buscar imágenes en Docker Hub:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>search<span class="w"> </span>hello-world
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="go">NAME                                       DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="go">hello-world                                Hello World! (an example of minimal Dockeriz…   1760      [OK]</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="go">kitematic/hello-world-nginx                A light-weight nginx container that demonstr…   152</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="go">tutum/hello-world                          Image to test docker deployments. Has Apache…   88                   [OK]</span>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="go">dockercloud/hello-world                    Hello World!                                    19                   [OK]</span>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="go">crccheck/hello-world                       Hello World web server in under 2.5 MB          15                   [OK]</span>
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="go">vad1mo/hello-world-rest                    A simple REST Service that echoes back all t…   5                    [OK]</span>
<a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="go">ppc64le/hello-world                        Hello World! (an example of minimal Dockeriz…   2</span>
<a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="go">ansibleplaybookbundle/hello-world-db-apb   An APB which deploys a sample Hello World! a…   2                    [OK]</span>
<a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a><span class="go">thomaspoignant/hello-world-rest-json       This project is a REST hello-world API to bu…   1</span>
<a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a><span class="go">rancher/hello-world                                                                        1</span>
<a id="__codelineno-41-13" name="__codelineno-41-13" href="#__codelineno-41-13"></a><span class="go">ansibleplaybookbundle/hello-world-apb      An APB which deploys a sample Hello World! a…   1                    [OK]</span>
<a id="__codelineno-41-14" name="__codelineno-41-14" href="#__codelineno-41-14"></a><span class="go">businessgeeks00/hello-world-nodejs                                                         0</span>
<a id="__codelineno-41-15" name="__codelineno-41-15" href="#__codelineno-41-15"></a><span class="go">strimzi/hello-world-producer                                                               0</span>
<a id="__codelineno-41-16" name="__codelineno-41-16" href="#__codelineno-41-16"></a><span class="go">strimzi/hello-world-consumer                                                               0</span>
<a id="__codelineno-41-17" name="__codelineno-41-17" href="#__codelineno-41-17"></a><span class="go">koudaiii/hello-world                                                                       0</span>
<a id="__codelineno-41-18" name="__codelineno-41-18" href="#__codelineno-41-18"></a><span class="go">freddiedevops/hello-world-spring-boot                                                      0</span>
<a id="__codelineno-41-19" name="__codelineno-41-19" href="#__codelineno-41-19"></a><span class="go">strimzi/hello-world-streams                                                                0</span>
<a id="__codelineno-41-20" name="__codelineno-41-20" href="#__codelineno-41-20"></a><span class="go">tsepotesting123/hello-world                                                                0</span>
<a id="__codelineno-41-21" name="__codelineno-41-21" href="#__codelineno-41-21"></a><span class="go">armswdev/c-hello-world                     Simple hello-world C program on Alpine Linux…   0</span>
<a id="__codelineno-41-22" name="__codelineno-41-22" href="#__codelineno-41-22"></a><span class="go">garystafford/hello-world                   Simple hello-world Spring Boot service for t…   0                    [OK]</span>
<a id="__codelineno-41-23" name="__codelineno-41-23" href="#__codelineno-41-23"></a><span class="go">kevindockercompany/hello-world                                                             0</span>
<a id="__codelineno-41-24" name="__codelineno-41-24" href="#__codelineno-41-24"></a><span class="go">rsperling/hello-world3                                                                     0</span>
<a id="__codelineno-41-25" name="__codelineno-41-25" href="#__codelineno-41-25"></a><span class="go">dandando/hello-world-dotnet                                                                0</span>
<a id="__codelineno-41-26" name="__codelineno-41-26" href="#__codelineno-41-26"></a><span class="go">okteto/hello-world                                                                         0</span>
<a id="__codelineno-41-27" name="__codelineno-41-27" href="#__codelineno-41-27"></a><span class="go">uniplaces/hello-world                                                                      0</span>
</code></pre></div>
<p>Para ver información sobre <em>imágenes locales</em>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>inspect<span class="w"> </span>hello-world
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="go">[</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="go">    {</span>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="go">        &quot;Id&quot;: &quot;sha256:feb5d9fea6a5e9606aa995e879d862b825965ba48de054caab5ef356dc6b3412&quot;,</span>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="go">        &quot;RepoTags&quot;: [</span>
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="go">            &quot;hello-world:latest&quot;</span>
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="go">        ],</span>
<a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a><span class="go">        &quot;RepoDigests&quot;: [</span>
<a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a><span class="go">            &quot;hello-world@sha256:80f31da1ac7b312ba29d65080fddf797dd76acfb870e677f390d5acba9741b17&quot;</span>
<a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a><span class="go">        ],</span>
<a id="__codelineno-42-11" name="__codelineno-42-11" href="#__codelineno-42-11"></a><span class="go">        &quot;Parent&quot;: &quot;&quot;,</span>
<a id="__codelineno-42-12" name="__codelineno-42-12" href="#__codelineno-42-12"></a><span class="go">        &quot;Comment&quot;: &quot;&quot;,</span>
<a id="__codelineno-42-13" name="__codelineno-42-13" href="#__codelineno-42-13"></a><span class="go">        &quot;Created&quot;: &quot;2021-09-23T23:47:57.442225064Z&quot;,</span>
<a id="__codelineno-42-14" name="__codelineno-42-14" href="#__codelineno-42-14"></a><span class="go">        &quot;Container&quot;: &quot;8746661ca3c2f215da94e6d3f7dfdcafaff5ec0b21c9aff6af3dc379a82fbc72&quot;,</span>
<a id="__codelineno-42-15" name="__codelineno-42-15" href="#__codelineno-42-15"></a><span class="go">        &quot;ContainerConfig&quot;: {</span>
<a id="__codelineno-42-16" name="__codelineno-42-16" href="#__codelineno-42-16"></a><span class="go">            &quot;Hostname&quot;: &quot;8746661ca3c2&quot;,</span>
<a id="__codelineno-42-17" name="__codelineno-42-17" href="#__codelineno-42-17"></a><span class="go">            &quot;Domainname&quot;: &quot;&quot;,</span>
<a id="__codelineno-42-18" name="__codelineno-42-18" href="#__codelineno-42-18"></a><span class="go">            &quot;User&quot;: &quot;&quot;,</span>
<a id="__codelineno-42-19" name="__codelineno-42-19" href="#__codelineno-42-19"></a><span class="go">            &quot;AttachStdin&quot;: false,</span>
<a id="__codelineno-42-20" name="__codelineno-42-20" href="#__codelineno-42-20"></a><span class="go">            &quot;AttachStdout&quot;: false,</span>
<a id="__codelineno-42-21" name="__codelineno-42-21" href="#__codelineno-42-21"></a><span class="go">            &quot;AttachStderr&quot;: false,</span>
<a id="__codelineno-42-22" name="__codelineno-42-22" href="#__codelineno-42-22"></a><span class="go">            &quot;Tty&quot;: false,</span>
<a id="__codelineno-42-23" name="__codelineno-42-23" href="#__codelineno-42-23"></a><span class="go">            &quot;OpenStdin&quot;: false,</span>
<a id="__codelineno-42-24" name="__codelineno-42-24" href="#__codelineno-42-24"></a><span class="go">            &quot;StdinOnce&quot;: false,</span>
<a id="__codelineno-42-25" name="__codelineno-42-25" href="#__codelineno-42-25"></a><span class="go">            &quot;Env&quot;: [</span>
<a id="__codelineno-42-26" name="__codelineno-42-26" href="#__codelineno-42-26"></a><span class="go">                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span>
<a id="__codelineno-42-27" name="__codelineno-42-27" href="#__codelineno-42-27"></a><span class="go">            ],</span>
<a id="__codelineno-42-28" name="__codelineno-42-28" href="#__codelineno-42-28"></a><span class="go">            &quot;Cmd&quot;: [</span>
<a id="__codelineno-42-29" name="__codelineno-42-29" href="#__codelineno-42-29"></a><span class="go">                &quot;/bin/sh&quot;,</span>
<a id="__codelineno-42-30" name="__codelineno-42-30" href="#__codelineno-42-30"></a><span class="go">                &quot;-c&quot;,</span>
<a id="__codelineno-42-31" name="__codelineno-42-31" href="#__codelineno-42-31"></a><span class="go">                &quot;#(nop) &quot;,</span>
<a id="__codelineno-42-32" name="__codelineno-42-32" href="#__codelineno-42-32"></a><span class="go">                &quot;CMD [\&quot;/hello\&quot;]&quot;</span>
<a id="__codelineno-42-33" name="__codelineno-42-33" href="#__codelineno-42-33"></a><span class="go">            ],</span>
<a id="__codelineno-42-34" name="__codelineno-42-34" href="#__codelineno-42-34"></a><span class="go">            &quot;Image&quot;: &quot;sha256:b9935d4e8431fb1a7f0989304ec86b3329a99a25f5efdc7f09f3f8c41434ca6d&quot;,</span>
<a id="__codelineno-42-35" name="__codelineno-42-35" href="#__codelineno-42-35"></a><span class="go">            &quot;Volumes&quot;: null,</span>
<a id="__codelineno-42-36" name="__codelineno-42-36" href="#__codelineno-42-36"></a><span class="go">            &quot;WorkingDir&quot;: &quot;&quot;,</span>
<a id="__codelineno-42-37" name="__codelineno-42-37" href="#__codelineno-42-37"></a><span class="go">            &quot;Entrypoint&quot;: null,</span>
<a id="__codelineno-42-38" name="__codelineno-42-38" href="#__codelineno-42-38"></a><span class="go">            &quot;OnBuild&quot;: null,</span>
<a id="__codelineno-42-39" name="__codelineno-42-39" href="#__codelineno-42-39"></a><span class="go">            &quot;Labels&quot;: {}</span>
<a id="__codelineno-42-40" name="__codelineno-42-40" href="#__codelineno-42-40"></a><span class="go">        },</span>
<a id="__codelineno-42-41" name="__codelineno-42-41" href="#__codelineno-42-41"></a><span class="go">        &quot;DockerVersion&quot;: &quot;20.10.7&quot;,</span>
<a id="__codelineno-42-42" name="__codelineno-42-42" href="#__codelineno-42-42"></a><span class="go">        &quot;Author&quot;: &quot;&quot;,</span>
<a id="__codelineno-42-43" name="__codelineno-42-43" href="#__codelineno-42-43"></a><span class="go">        &quot;Config&quot;: {</span>
<a id="__codelineno-42-44" name="__codelineno-42-44" href="#__codelineno-42-44"></a><span class="go">            &quot;Hostname&quot;: &quot;&quot;,</span>
<a id="__codelineno-42-45" name="__codelineno-42-45" href="#__codelineno-42-45"></a><span class="go">            &quot;Domainname&quot;: &quot;&quot;,</span>
<a id="__codelineno-42-46" name="__codelineno-42-46" href="#__codelineno-42-46"></a><span class="go">            &quot;User&quot;: &quot;&quot;,</span>
<a id="__codelineno-42-47" name="__codelineno-42-47" href="#__codelineno-42-47"></a><span class="go">            &quot;AttachStdin&quot;: false,</span>
<a id="__codelineno-42-48" name="__codelineno-42-48" href="#__codelineno-42-48"></a><span class="go">            &quot;AttachStdout&quot;: false,</span>
<a id="__codelineno-42-49" name="__codelineno-42-49" href="#__codelineno-42-49"></a><span class="go">            &quot;AttachStderr&quot;: false,</span>
<a id="__codelineno-42-50" name="__codelineno-42-50" href="#__codelineno-42-50"></a><span class="go">            &quot;Tty&quot;: false,</span>
<a id="__codelineno-42-51" name="__codelineno-42-51" href="#__codelineno-42-51"></a><span class="go">            &quot;OpenStdin&quot;: false,</span>
<a id="__codelineno-42-52" name="__codelineno-42-52" href="#__codelineno-42-52"></a><span class="go">            &quot;StdinOnce&quot;: false,</span>
<a id="__codelineno-42-53" name="__codelineno-42-53" href="#__codelineno-42-53"></a><span class="go">            &quot;Env&quot;: [</span>
<a id="__codelineno-42-54" name="__codelineno-42-54" href="#__codelineno-42-54"></a><span class="go">                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span>
<a id="__codelineno-42-55" name="__codelineno-42-55" href="#__codelineno-42-55"></a><span class="go">            ],</span>
<a id="__codelineno-42-56" name="__codelineno-42-56" href="#__codelineno-42-56"></a><span class="go">            &quot;Cmd&quot;: [</span>
<a id="__codelineno-42-57" name="__codelineno-42-57" href="#__codelineno-42-57"></a><span class="go">                &quot;/hello&quot;</span>
<a id="__codelineno-42-58" name="__codelineno-42-58" href="#__codelineno-42-58"></a><span class="go">            ],</span>
<a id="__codelineno-42-59" name="__codelineno-42-59" href="#__codelineno-42-59"></a><span class="go">            &quot;Image&quot;: &quot;sha256:b9935d4e8431fb1a7f0989304ec86b3329a99a25f5efdc7f09f3f8c41434ca6d&quot;,</span>
<a id="__codelineno-42-60" name="__codelineno-42-60" href="#__codelineno-42-60"></a><span class="go">            &quot;Volumes&quot;: null,</span>
<a id="__codelineno-42-61" name="__codelineno-42-61" href="#__codelineno-42-61"></a><span class="go">            &quot;WorkingDir&quot;: &quot;&quot;,</span>
<a id="__codelineno-42-62" name="__codelineno-42-62" href="#__codelineno-42-62"></a><span class="go">            &quot;Entrypoint&quot;: null,</span>
<a id="__codelineno-42-63" name="__codelineno-42-63" href="#__codelineno-42-63"></a><span class="go">            &quot;OnBuild&quot;: null,</span>
<a id="__codelineno-42-64" name="__codelineno-42-64" href="#__codelineno-42-64"></a><span class="go">            &quot;Labels&quot;: null</span>
<a id="__codelineno-42-65" name="__codelineno-42-65" href="#__codelineno-42-65"></a><span class="go">        },</span>
<a id="__codelineno-42-66" name="__codelineno-42-66" href="#__codelineno-42-66"></a><span class="go">        &quot;Architecture&quot;: &quot;amd64&quot;,</span>
<a id="__codelineno-42-67" name="__codelineno-42-67" href="#__codelineno-42-67"></a><span class="go">        &quot;Os&quot;: &quot;linux&quot;,</span>
<a id="__codelineno-42-68" name="__codelineno-42-68" href="#__codelineno-42-68"></a><span class="go">        &quot;Size&quot;: 13256,</span>
<a id="__codelineno-42-69" name="__codelineno-42-69" href="#__codelineno-42-69"></a><span class="go">        &quot;VirtualSize&quot;: 13256,</span>
<a id="__codelineno-42-70" name="__codelineno-42-70" href="#__codelineno-42-70"></a><span class="go">        &quot;GraphDriver&quot;: {</span>
<a id="__codelineno-42-71" name="__codelineno-42-71" href="#__codelineno-42-71"></a><span class="go">            &quot;Data&quot;: {</span>
<a id="__codelineno-42-72" name="__codelineno-42-72" href="#__codelineno-42-72"></a><span class="go">                &quot;MergedDir&quot;: &quot;/var/lib/docker/overlay2/d3432ee4a8fdbdb72453b41fabf1ea7d479acb51a60649810de1561a3f241b85/merged&quot;,</span>
<a id="__codelineno-42-73" name="__codelineno-42-73" href="#__codelineno-42-73"></a><span class="go">                &quot;UpperDir&quot;: &quot;/var/lib/docker/overlay2/d3432ee4a8fdbdb72453b41fabf1ea7d479acb51a60649810de1561a3f241b85/diff&quot;,</span>
<a id="__codelineno-42-74" name="__codelineno-42-74" href="#__codelineno-42-74"></a><span class="go">                &quot;WorkDir&quot;: &quot;/var/lib/docker/overlay2/d3432ee4a8fdbdb72453b41fabf1ea7d479acb51a60649810de1561a3f241b85/work&quot;</span>
<a id="__codelineno-42-75" name="__codelineno-42-75" href="#__codelineno-42-75"></a><span class="go">            },</span>
<a id="__codelineno-42-76" name="__codelineno-42-76" href="#__codelineno-42-76"></a><span class="go">            &quot;Name&quot;: &quot;overlay2&quot;</span>
<a id="__codelineno-42-77" name="__codelineno-42-77" href="#__codelineno-42-77"></a><span class="go">        },</span>
<a id="__codelineno-42-78" name="__codelineno-42-78" href="#__codelineno-42-78"></a><span class="go">        &quot;RootFS&quot;: {</span>
<a id="__codelineno-42-79" name="__codelineno-42-79" href="#__codelineno-42-79"></a><span class="go">            &quot;Type&quot;: &quot;layers&quot;,</span>
<a id="__codelineno-42-80" name="__codelineno-42-80" href="#__codelineno-42-80"></a><span class="go">            &quot;Layers&quot;: [</span>
<a id="__codelineno-42-81" name="__codelineno-42-81" href="#__codelineno-42-81"></a><span class="go">                &quot;sha256:e07ee1baac5fae6a26f30cabfe54a36d3402f96afda318fe0a96cec4ca393359&quot;</span>
<a id="__codelineno-42-82" name="__codelineno-42-82" href="#__codelineno-42-82"></a><span class="go">            ]</span>
<a id="__codelineno-42-83" name="__codelineno-42-83" href="#__codelineno-42-83"></a><span class="go">        },</span>
<a id="__codelineno-42-84" name="__codelineno-42-84" href="#__codelineno-42-84"></a><span class="go">        &quot;Metadata&quot;: {</span>
<a id="__codelineno-42-85" name="__codelineno-42-85" href="#__codelineno-42-85"></a><span class="go">            &quot;LastTagTime&quot;: &quot;0001-01-01T00:00:00Z&quot;</span>
<a id="__codelineno-42-86" name="__codelineno-42-86" href="#__codelineno-42-86"></a><span class="go">        }</span>
<a id="__codelineno-42-87" name="__codelineno-42-87" href="#__codelineno-42-87"></a><span class="go">    }</span>
<a id="__codelineno-42-88" name="__codelineno-42-88" href="#__codelineno-42-88"></a><span class="go">]</span>
</code></pre></div>
<h3 id="como-se-organizan-las-imagenes">¿Cómo se organizan las imágenes?</h3>
<p>Para ver el tamaño de las imágenes:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>images
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="go">REPOSITORY    TAG       IMAGE ID       CREATED        SIZE</span>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="go">httpd         2.4       acd59370d8fb   2 days ago     144MB</span>
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="go">mariadb       latest    ea81af801379   4 days ago     383MB</span>
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="go">ubuntu        latest    27941809078c   4 days ago     77.8MB</span>
<a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="go">nginx         latest    0e901e68141f   2 weeks ago    142MB</span>
<a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="go">hello-world   latest    feb5d9fea6a5   8 months ago   13.3kB</span>
</code></pre></div>
<p>Creo un contenedor interactivo y me salgo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--name<span class="w"> </span>contenedor1<span class="w"> </span>ubuntu<span class="w"> </span>/bin/bash
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="gp">root@d3a811e18218:/# </span><span class="nb">exit</span>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="go">exit</span>
</code></pre></div>
<p>Para visualizar los contenedores con su tamaño:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>ps<span class="w"> </span>-a<span class="w"> </span>-s
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="go">CONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS                      PORTS                    NAMES               SIZE</span>
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="go">d3a811e18218   ubuntu    &quot;/bin/bash&quot;              14 minutes ago   Exited (0) 14 minutes ago                            contenedor1         5B (virtual 77.8MB)</span>
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="go">90b5f9c312cb   mariadb   &quot;docker-entrypoint.s…&quot;   20 hours ago     Exited (255) 17 hours ago   0.0.0.0:3306-&gt;3306/tcp   some-mariadb        0B (virtual 383MB)</span>
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="go">45c6f4b0dbcc   ubuntu    &quot;echo &#39;Hello world&#39;&quot;     44 hours ago     Exited (0) 44 hours ago                              competent_davinci   0B (virtual 77.8MB)</span>
</code></pre></div>
<p>El tamaño real del contenedor es casi nulo. El virtual es el que comparte con la imagen de ubuntu.</p>
<p>Volvemos a acceder al contenedor y creamos un fichero:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>start<span class="w"> </span>contenedor1
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="go">contenedor1</span>
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>attach<span class="w"> </span>contenedor1
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="gp">root@d3a811e18218:/# </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;00000000000000000&quot;</span>&gt;file.txt
<a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="gp">root@d3a811e18218:/# </span><span class="nb">exit</span>
<a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a><span class="go">exit</span>
</code></pre></div>
<p>Vemos que ha crecido el tamaño del contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>ps<span class="w"> </span>-a<span class="w"> </span>-s
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="go">CONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS                      PORTS                    NAMES               SIZE</span>
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="go">d3a811e18218   ubuntu    &quot;/bin/bash&quot;              41 minutes ago   Exited (0) 6 minutes ago                             contenedor1         62B (virtual 77.8MB)</span>
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="go">90b5f9c312cb   mariadb   &quot;docker-entrypoint.s…&quot;   21 hours ago     Exited (255) 17 hours ago   0.0.0.0:3306-&gt;3306/tcp   some-mariadb        0B (virtual 383MB)</span>
<a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="go">45c6f4b0dbcc   ubuntu    &quot;echo &#39;Hello world&#39;&quot;     45 hours ago     Exited (0) 44 hours ago                              competent_davinci   0B (virtual 77.8MB)</span>
</code></pre></div>
<p>Para ver información sobre las capas de una imagen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="go">docker inspect ubuntu:latest</span>
</code></pre></div>
<p><a class="glightbox" href="https://i.imgur.com/HbZu9jM.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="layersubuntu" src="https://i.imgur.com/HbZu9jM.png" /></a></p>
<h3 id="creacion-de-contenedores-desde-imagenes">Creación de contenedores desde imágenes</h3>
<p>Todas las imágenes tienen definidas un proceso que se ejecuta por defecto, pero en la mayoría de los casos podemos indicar un proceso al crear un contenedor.</p>
<p>En la imagen ubuntu el proceso por defecto es bash, por lo tanto podemos ejecutar:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--name<span class="w"> </span>contenedor1<span class="w"> </span>ubuntu
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="gp">root@190f78badf0e:/#</span>
</code></pre></div>
<p>También podemos indicar el comando a ejecutar al crear un contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>ubuntu<span class="w"> </span>/bin/echo<span class="w"> </span><span class="s1">&#39;Hello world&#39;</span>
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="go">Hello world</span>
</code></pre></div>
<p>La imagen httpd:2.4 ejecuta un servidor web por defecto:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>my-apache-app<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span>httpd:2.4
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="go">d5d49317f2a978a8ee163db794f43a6bc09b1594444fd9a575e80ddecf04e469</span>
</code></pre></div>
<h3 id="ejemplo-desplegando-la-aplicacion-mediawiki">Ejemplo: Desplegando la aplicación MediaWiki</h3>
<p>Para instalar la última versión:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="go">docker run -d -p 8080:80 --name mediawiki1 mediawiki</span>
</code></pre></div>
<p>Comprobamos que funciona y es efectivamente la última versión:</p>
<p><a class="glightbox" href="https://i.imgur.com/fLQW5ct.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="mediawikilatest" src="https://i.imgur.com/fLQW5ct.png" /></a></p>
<p>Instalamos otra versión de MediaWiki, la 1.36.3:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="go">docker run -d -p 8081:80 --name mediawiki2 mediawiki:1.36.3</span>
</code></pre></div>
<p>Comprobamos que funciona y es efectivamente la versión indicada:</p>
<p><a class="glightbox" href="https://i.imgur.com/XZKlxAo.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="mediawiki1.36.3" src="https://i.imgur.com/XZKlxAo.png" /></a></p>
<p>Finalmente instalamos otra versión:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="go">docker run -d -p 8082:80 --name mediawiki3 mediawiki:1.35.5</span>
</code></pre></div>
<p>Comprobamos que funciona y es efectivamente la versión indicada:</p>
<p><a class="glightbox" href="https://i.imgur.com/nJ6wArl.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="mediawiki1.35.5" src="https://i.imgur.com/nJ6wArl.png" /></a></p>
<p>A lo largo de este ejemplo hemos podido comprobar que las capas que ya existen no se las vuelve a descargar.</p>
<h3 id="ejercicios-imagenes">Ejercicios imágenes</h3>
<h4 id="servidor-web">Servidor web</h4>
<p>Lanzar un contenedor con características:</p>
<ul>
<li>Imagen php:7.4-apache</li>
<li>Llamado web</li>
<li>Puerto 8000</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">8000</span>:80<span class="w"> </span>--name<span class="w"> </span>web<span class="w"> </span>php:7.4-apache
<a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="go">Unable to find image &#39;php:7.4-apache&#39; locally</span>
<a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="go">7.4-apache: Pulling from library/php</span>
<a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="go">42c077c10790: Already exists</span>
<a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="go">8934009a9160: Already exists</span>
<a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a><span class="go">5357ac116991: Already exists</span>
<a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a><span class="go">54ae63894b5a: Already exists</span>
<a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a><span class="go">772088206f85: Already exists</span>
<a id="__codelineno-55-9" name="__codelineno-55-9" href="#__codelineno-55-9"></a><span class="go">3b81c5474649: Already exists</span>
<a id="__codelineno-55-10" name="__codelineno-55-10" href="#__codelineno-55-10"></a><span class="go">c62a528527ae: Already exists</span>
<a id="__codelineno-55-11" name="__codelineno-55-11" href="#__codelineno-55-11"></a><span class="go">344c792709d4: Already exists</span>
<a id="__codelineno-55-12" name="__codelineno-55-12" href="#__codelineno-55-12"></a><span class="go">ef9638273c35: Already exists</span>
<a id="__codelineno-55-13" name="__codelineno-55-13" href="#__codelineno-55-13"></a><span class="go">4ec70638e42f: Already exists</span>
<a id="__codelineno-55-14" name="__codelineno-55-14" href="#__codelineno-55-14"></a><span class="go">5a0f65f5bb3b: Already exists</span>
<a id="__codelineno-55-15" name="__codelineno-55-15" href="#__codelineno-55-15"></a><span class="go">55578a5ce5e8: Already exists</span>
<a id="__codelineno-55-16" name="__codelineno-55-16" href="#__codelineno-55-16"></a><span class="go">f1dd85b4dfa5: Already exists</span>
<a id="__codelineno-55-17" name="__codelineno-55-17" href="#__codelineno-55-17"></a><span class="go">Digest: sha256:c65cd02abef32e0ab1558788dbcf855e6dde301159da14651c844f533b34a411</span>
<a id="__codelineno-55-18" name="__codelineno-55-18" href="#__codelineno-55-18"></a><span class="go">Status: Downloaded newer image for php:7.4-apache</span>
<a id="__codelineno-55-19" name="__codelineno-55-19" href="#__codelineno-55-19"></a><span class="go">a46be0b60d37a4e009c0b40934aafa72332a1da8e04c6dec8712b8354630d161</span>
</code></pre></div>
<p>Muestro que se está ejecutando:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>ps
<a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="go">CONTAINER ID   IMAGE            COMMAND                  CREATED         STATUS         PORTS                  NAMES</span>
<a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="go">a46be0b60d37   php:7.4-apache   &quot;docker-php-entrypoi…&quot;   3 minutes ago   Up 3 minutes   0.0.0.0:8000-&gt;80/tcp   web</span>
</code></pre></div>
<p>Colocar en <code>/var/www/html</code> un <code>index.html</code> con contenido <code>&lt;h1&gt;HOLA SOY ADRIAN JARAMILLO&lt;/h1&gt;</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="go">docker exec web bash -c &#39;echo &quot;&lt;h1&gt;HOLA SOY ADRIAN JARAMILLO&lt;/h1&gt;&quot; &gt; /var/www/html/index.html&#39;</span>
</code></pre></div>
<p>Muestro que ha funcionado:</p>
<p><a class="glightbox" href="https://i.imgur.com/t5ACWLl.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="indexhtmlmodificado" src="https://i.imgur.com/t5ACWLl.png" /></a></p>
<p>Colocar en <code>/var/www/html</code> un <code>index.php</code> con contenido <code>&lt;?php echo phpinfo(); ?&gt;</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="go">docker exec web bash -c &#39;echo &quot;&lt;?php echo phpinfo(); ?&gt;&quot; &gt; /var/www/html/index.php&#39;</span>
</code></pre></div>
<p>Muestro que ha funcionado:</p>
<p><a class="glightbox" href="https://i.imgur.com/FnvTKhl.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="indexphpañadido" src="https://i.imgur.com/FnvTKhl.png" /></a></p>
<p>Muestro el tamaño del contenedor <code>web</code> tras crear los dos ficheros:</p>
<p><a class="glightbox" href="https://i.imgur.com/e8rCVhr.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="tamañoweb+ficheros" src="https://i.imgur.com/e8rCVhr.png" /></a></p>
<h4 id="servidor-bd">Servidor BD</h4>
<p>Lanzar un contenedor con características:</p>
<ul>
<li>Llamado bbdd</li>
<li>Imagen mariadb</li>
<li>Puerto 3336</li>
<li>Contraseña root: root</li>
<li>Base de datos: prueba</li>
<li>Usuario: invitado</li>
<li>Contraseña: invitado</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="go">docker run -d -p 3336:3306 --name bbdd -e MARIADB_ROOT_PASSWORD=root -e MARIADB_DATABASE=prueba -e MARIADB_USER=invitado -e MARIADB_PASSWORD=invitado mariadb</span>
</code></pre></div>
<p>Mostrar el acceso a la BD desde nuestro ordenador con el usuario invitado, y mostrar la BD prueba:</p>
<p><a class="glightbox" href="https://i.imgur.com/sshonuY.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="accesobdinvitado" src="https://i.imgur.com/sshonuY.png" /></a></p>
<p>Mostrar que no se puede borrar la imagen mariadb mientras el contenedor <code>bbdd</code> existe:</p>
<p><a class="glightbox" href="https://i.imgur.com/gM8Dumo.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="intentoborradomariadbimage" src="https://i.imgur.com/gM8Dumo.png" /></a></p>
<h2 id="almacenamiento">Almacenamiento</h2>
<h3 id="los-contenedores-son-efimeros">Los contenedores son efímeros</h3>
<p>Los datos de los contenedores sobreviven a paradas pero no a destrucciones.</p>
<p>Ejemplo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>my-apache-app<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span>httpd:2.4
<a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a><span class="go">4dbe1355067367db8a435256af733a1405cab06de21b61cd67c269d0891eb48c</span>
<a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>my-apache-app<span class="w"> </span>bash<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;echo &quot;&lt;h1&gt;Hola&lt;/h1&gt;&quot; &gt; /usr/local/apache2/htdocs/index.html&#39;</span>
<a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a><span class="gp">atlas@olympus:~$ </span>curl<span class="w"> </span>http://localhost:8080
<a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a><span class="go">&lt;h1&gt;Hola&lt;/h1&gt;</span>
<a id="__codelineno-60-6" name="__codelineno-60-6" href="#__codelineno-60-6"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>rm<span class="w"> </span>-f<span class="w"> </span>my-apache-app
<a id="__codelineno-60-7" name="__codelineno-60-7" href="#__codelineno-60-7"></a><span class="go">my-apache-app</span>
<a id="__codelineno-60-8" name="__codelineno-60-8" href="#__codelineno-60-8"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>my-apache-app<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span>httpd:2.4
<a id="__codelineno-60-9" name="__codelineno-60-9" href="#__codelineno-60-9"></a><span class="go">be4204135657e6ddbeccc2d8205e5977b0fc771bddf932a21a3e0bc9b5df2b68</span>
<a id="__codelineno-60-10" name="__codelineno-60-10" href="#__codelineno-60-10"></a><span class="gp">atlas@olympus:~$ </span>curl<span class="w"> </span>http://localhost:8080
<a id="__codelineno-60-11" name="__codelineno-60-11" href="#__codelineno-60-11"></a><span class="go">&lt;html&gt;&lt;body&gt;&lt;h1&gt;It works!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;</span>
</code></pre></div>
<p>Nos damos cuenta de que el <code>index.html</code> modificado se pierde, y al lanzar otro contenedor vuelve al contenido original.</p>
<h3 id="volumenes-docker-y-bind-mount">Volúmenes docker y bind mount</h3>
<h4 id="volumenes">Volúmenes</h4>
<p>Se guardan en <code>/var/lib/docker/volumes</code></p>
<p>Para crear un volumen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>volume<span class="w"> </span>create<span class="w"> </span>my-vol
<a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="go">my-vol</span>
</code></pre></div>
<p>Para eliminar un volumen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>volume<span class="w"> </span>rm<span class="w"> </span>my-vol
<a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="go">my-vol</span>
</code></pre></div>
<p>Para eliminar volúmenes que no están siendo usados por ningún contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>volume<span class="w"> </span>prune
<a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a><span class="go">WARNING! This will remove all local volumes not used by at least one container.</span>
<a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a><span class="go">Are you sure you want to continue? [y/N] y</span>
<a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a><span class="go">Deleted Volumes:</span>
<a id="__codelineno-63-5" name="__codelineno-63-5" href="#__codelineno-63-5"></a><span class="go">ee50d8c9aa7de5fda336d094a3bb25566667f88a4c9864e3b1fd8e3bd619b0d8</span>
<a id="__codelineno-63-6" name="__codelineno-63-6" href="#__codelineno-63-6"></a><span class="go">6a3bd1b8cbc0029c01daf50080d3d682918e6f3fed56164914a81df7c09535dd</span>
<a id="__codelineno-63-7" name="__codelineno-63-7" href="#__codelineno-63-7"></a>
<a id="__codelineno-63-8" name="__codelineno-63-8" href="#__codelineno-63-8"></a><span class="go">Total reclaimed space: 295MB</span>
</code></pre></div>
<p>Para listar volúmenes:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>volume<span class="w"> </span>ls
<a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a><span class="go">DRIVER    VOLUME NAME</span>
<a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a><span class="go">local     f108fc0c5812145adaa6d4987a0afd9748876ff8bd7b5520e916eb530a3d35c3</span>
</code></pre></div>
<p>Para ver información sobre volúmenes:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>volume<span class="w"> </span>inspect<span class="w"> </span>f108fc0c5812145adaa6d4987a0afd9748876ff8bd7b5520e916eb530a3d35c3
<a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="go">[</span>
<a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a><span class="go">    {</span>
<a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a><span class="go">        &quot;CreatedAt&quot;: &quot;2022-06-12T13:34:02+02:00&quot;,</span>
<a id="__codelineno-65-5" name="__codelineno-65-5" href="#__codelineno-65-5"></a><span class="go">        &quot;Driver&quot;: &quot;local&quot;,</span>
<a id="__codelineno-65-6" name="__codelineno-65-6" href="#__codelineno-65-6"></a><span class="go">        &quot;Labels&quot;: null,</span>
<a id="__codelineno-65-7" name="__codelineno-65-7" href="#__codelineno-65-7"></a><span class="go">        &quot;Mountpoint&quot;: &quot;/var/lib/docker/volumes/f108fc0c5812145adaa6d4987a0afd9748876ff8bd7b5520e916eb530a3d35c3/_data&quot;,</span>
<a id="__codelineno-65-8" name="__codelineno-65-8" href="#__codelineno-65-8"></a><span class="go">        &quot;Name&quot;: &quot;f108fc0c5812145adaa6d4987a0afd9748876ff8bd7b5520e916eb530a3d35c3&quot;,</span>
<a id="__codelineno-65-9" name="__codelineno-65-9" href="#__codelineno-65-9"></a><span class="go">        &quot;Options&quot;: null,</span>
<a id="__codelineno-65-10" name="__codelineno-65-10" href="#__codelineno-65-10"></a><span class="go">        &quot;Scope&quot;: &quot;local&quot;</span>
<a id="__codelineno-65-11" name="__codelineno-65-11" href="#__codelineno-65-11"></a><span class="go">    }</span>
<a id="__codelineno-65-12" name="__codelineno-65-12" href="#__codelineno-65-12"></a><span class="go">]</span>
</code></pre></div>
<h4 id="bind-mounts">Bind mounts</h4>
<p>Esto es mapear/montar directorios/ficheros de mi sistema de ficheros con el contenedor.</p>
<h3 id="asociando-almacenamiento-a-los-contenedores-volumenes-docker">Asociando almacenamiento a los contenedores: volúmenes docker</h3>
<p>Ya sean volúmenes o bind mount, usaremos las mismas flags de <code>docker run</code>:</p>
<ul>
<li><code>--volume</code> o <code>-v</code></li>
<li><code>--mount</code></li>
</ul>
<p>Creamos un volumen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>volume<span class="w"> </span>create<span class="w"> </span>miweb
<a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a><span class="go">miweb</span>
</code></pre></div>
<p>Lanzamos un contenedor con el volumen asociado y modificamos el <code>index.html</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>my-apache-app<span class="w"> </span>--mount<span class="w"> </span><span class="nv">type</span><span class="o">=</span>volume,src<span class="o">=</span>miweb,dst<span class="o">=</span>/usr/local/apache2/htdocs<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span>httpd:2.4
<a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a><span class="go">4192e7c4df28ab3a7df706fa5eaad3c9fd893379a8be9705e1b714de80d284c2</span>
<a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>my-apache-app<span class="w"> </span>bash<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;echo &quot;&lt;h1&gt;Hola&lt;/h1&gt;&quot; &gt; /usr/local/apache2/htdocs/index.html&#39;</span>
<a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a><span class="gp">atlas@olympus:~$ </span>curl<span class="w"> </span>http://localhost:8080
<a id="__codelineno-67-5" name="__codelineno-67-5" href="#__codelineno-67-5"></a><span class="go">&lt;h1&gt;Hola&lt;/h1&gt;</span>
<a id="__codelineno-67-6" name="__codelineno-67-6" href="#__codelineno-67-6"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>rm<span class="w"> </span>-f<span class="w"> </span>my-apache-app
<a id="__codelineno-67-7" name="__codelineno-67-7" href="#__codelineno-67-7"></a><span class="go">my-apache-app</span>
</code></pre></div>
<p>Tras borrarlo creamos otro con el volumen asociado, pero usamos <code>-v</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>my-apache-app<span class="w"> </span>-v<span class="w"> </span>miweb:/usr/local/apache2/htdocs<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span>httpd:2.4
<a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a><span class="go">a115083f365e64e138c2fd9adf944382abff30318f685b75c8368d1d2802a89b</span>
</code></pre></div>
<p>Comprobamos que no se ha perdido la información:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="gp">atlas@olympus:~$ </span>curl<span class="w"> </span>http://localhost:8080
<a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="go">&lt;h1&gt;Hola&lt;/h1&gt;</span>
</code></pre></div>
<p>Si no indicamos volumen se crea uno nuevo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>volume<span class="w"> </span>ls
<a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a><span class="go">DRIVER    VOLUME NAME</span>
<a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a><span class="go">local     f108fc0c5812145adaa6d4987a0afd9748876ff8bd7b5520e916eb530a3d35c3</span>
<a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>my-apache-app<span class="w"> </span>--mount<span class="w"> </span><span class="nv">type</span><span class="o">=</span>volume,dst<span class="o">=</span>/usr/local/apache2/htdocs<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span>httpd:2.4
<a id="__codelineno-70-5" name="__codelineno-70-5" href="#__codelineno-70-5"></a><span class="go">151f85c244bb81b8b26734c612b3b584f76dd3638b00210a0d6b30ecf4b35066</span>
<a id="__codelineno-70-6" name="__codelineno-70-6" href="#__codelineno-70-6"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>volume<span class="w"> </span>ls
<a id="__codelineno-70-7" name="__codelineno-70-7" href="#__codelineno-70-7"></a><span class="go">DRIVER    VOLUME NAME</span>
<a id="__codelineno-70-8" name="__codelineno-70-8" href="#__codelineno-70-8"></a><span class="go">local     65eb5fc7fc9f541f1dd35effc2e456e615f6ef51670ef07a9971d2278c9dd4ee</span>
<a id="__codelineno-70-9" name="__codelineno-70-9" href="#__codelineno-70-9"></a><span class="go">local     f108fc0c5812145adaa6d4987a0afd9748876ff8bd7b5520e916eb530a3d35c3</span>
</code></pre></div>
<p>Si usamos <code>-v</code> y decimos un nombre se crea un volumen nuevo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>my-apache-app<span class="w"> </span>-v<span class="w"> </span>wwwroot:/usr/local/apache2/htdocs<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span>httpd:2.4
<a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a><span class="go">c22f12f358f1f066c33d067b3492200829cce6af11cbde07724b8058caebfc3b</span>
<a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>volume<span class="w"> </span>ls
<a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a><span class="go">DRIVER    VOLUME NAME</span>
<a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a><span class="go">local     65eb5fc7fc9f541f1dd35effc2e456e615f6ef51670ef07a9971d2278c9dd4ee</span>
<a id="__codelineno-71-6" name="__codelineno-71-6" href="#__codelineno-71-6"></a><span class="go">local     f108fc0c5812145adaa6d4987a0afd9748876ff8bd7b5520e916eb530a3d35c3</span>
<a id="__codelineno-71-7" name="__codelineno-71-7" href="#__codelineno-71-7"></a><span class="go">local     wwwroot</span>
</code></pre></div>
<p>Tanto volúmenes como bind mount sobreescribirán la carpeta destino del contenedor.</p>
<h3 id="asociando-almacenamiento-a-los-contenedores-bind-mount">Asociando almacenamiento a los contenedores: bind mount</h3>
<p>Creamos un directorio en nuestra máquina con un <code>index.html</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="gp">atlas@olympus:~$ </span>mkdir<span class="w"> </span>web
<a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a><span class="gp">atlas@olympus:~$ </span><span class="nb">cd</span><span class="w"> </span>web
<a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a><span class="gp">atlas@olympus:~/web$ </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&lt;h1&gt;Hola&lt;/h1&gt;&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>index.html
</code></pre></div>
<p>Montamos ese directorio en un contenedor con <code>-v</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="gp">atlas@olympus:~/web$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>my-apache-app<span class="w"> </span>-v<span class="w"> </span>/home/atlas/web:/usr/local/apache2/htdocs<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span>httpd:2.4
<a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a><span class="go">426d7ef55bb658c87964fd7a26589e6325163549f1053930076b0696e0751550</span>
</code></pre></div>
<p>Comprobamos que estamos sirviendo el fichero de nuestro directorio:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="gp">atlas@olympus:~/web$ </span>curl<span class="w"> </span>http://localhost:8080
<a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a><span class="go">&lt;h1&gt;Hola&lt;/h1&gt;</span>
</code></pre></div>
<p>Eliminamos el contenedor y creamos otro con el directorio montado, esta vez usando <code>--mount</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>rm<span class="w"> </span>-f<span class="w"> </span>my-apache-app
<a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a><span class="go">my-apache-app</span>
<a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>my-apache-app<span class="w"> </span>--mount<span class="w"> </span><span class="nv">type</span><span class="o">=</span>bind,src<span class="o">=</span>/home/atlas/web,dst<span class="o">=</span>/usr/local/apache2/htdocs<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span>httpd:2.4
<a id="__codelineno-75-4" name="__codelineno-75-4" href="#__codelineno-75-4"></a><span class="go">d892a24a44f42d967a3cffb218641d29812fbf258c158a676cf3fff821f9eb7e</span>
<a id="__codelineno-75-5" name="__codelineno-75-5" href="#__codelineno-75-5"></a><span class="gp">atlas@olympus:~$ </span>curl<span class="w"> </span>http://localhost:8080
<a id="__codelineno-75-6" name="__codelineno-75-6" href="#__codelineno-75-6"></a><span class="go">&lt;h1&gt;Hola&lt;/h1&gt;</span>
</code></pre></div>
<p>Podemos modificar el <code>index.html</code> aunque esté montado en el contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="gp">atlas@olympus:~$ </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&lt;h1&gt;Adios&lt;/h1&gt;&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>web/index.html
<a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a><span class="gp">atlas@olympus:~$ </span>curl<span class="w"> </span>http://localhost:8080
<a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a><span class="go">&lt;h1&gt;Adios&lt;/h1&gt;</span>
</code></pre></div>
<p>Si usamos bind mount con <code>-v</code> y la carpeta origen no existe, se crea, pero estará vacía.<br />
Si usamos bind mount con <code>--mount</code> y la carpeta origen no existe, dará un error.</p>
<h3 id="ejemplo-1-contenedor-nextcloud-con-almacenamiento-persistente">Ejemplo 1: Contenedor Nextcloud con almacenamiento persistente</h3>
<h4 id="con-volumen">Con volumen</h4>
<p>Creo uno:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>volume<span class="w"> </span>create<span class="w"> </span>nextcloud
<a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a><span class="go">nextcloud</span>
</code></pre></div>
<p>Lanzo un contenedor enlazado con el volumen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">80</span>:80<span class="w"> </span>-v<span class="w"> </span>nextcloud:/var/www/html<span class="w"> </span>--name<span class="w"> </span>contenedor_nextcloud<span class="w"> </span>nextcloud
<a id="__codelineno-78-2" name="__codelineno-78-2" href="#__codelineno-78-2"></a><span class="go">cc2e756082a06500578913dbaffdf36d6cd92e18d029f2a737737c1455a80b7d</span>
</code></pre></div>
<p>Accedemos, hacemos la instalación, y subimos un fichero:</p>
<p><a class="glightbox" href="https://i.imgur.com/5NYKH9A.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="ficheronextcloud" src="https://i.imgur.com/5NYKH9A.png" /></a></p>
<p>Eliminamos el contenedor y creamos otro con el mismo volumen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>rm<span class="w"> </span>-f<span class="w"> </span>contenedor_nextcloud
<a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a><span class="go">contenedor_nextcloud</span>
<a id="__codelineno-79-3" name="__codelineno-79-3" href="#__codelineno-79-3"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">80</span>:80<span class="w"> </span>-v<span class="w"> </span>nextcloud:/var/www/html<span class="w"> </span>--name<span class="w"> </span>contenedor_nextcloud<span class="w"> </span>nextcloud
<a id="__codelineno-79-4" name="__codelineno-79-4" href="#__codelineno-79-4"></a><span class="go">b59bf01aa8794df605ad0546571bfbc1204cb4e2dc1b74201954c122e84f5206</span>
</code></pre></div>
<p>Accedemos de nuevo y comprobamos que todo sigue igual:</p>
<p><a class="glightbox" href="https://i.imgur.com/avfGs1F.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="nextcloudrelanzado" src="https://i.imgur.com/avfGs1F.png" /></a></p>
<h4 id="con-bind-mount">Con bind mount</h4>
<p>Crearemos un directorio que luego montaremos en el contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="go">mkdir datos_nextcloud</span>
</code></pre></div>
<p>Creamos el contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">80</span>:80<span class="w"> </span>-v<span class="w"> </span>/home/atlas/datos_nextcloud:/var/www/html<span class="w"> </span>--name<span class="w"> </span>contenedor_nextcloud<span class="w"> </span>nextcloud
<a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a><span class="go">ee29347f1eafd00ba329333b232bb9020457783de5fe9d1ae561fa7fb63c85f8</span>
</code></pre></div>
<p>Volvemos a acceder, instalamos, y subimos un fichero:</p>
<p><a class="glightbox" href="https://i.imgur.com/aGMn8P4.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="ficheroenbindmount" src="https://i.imgur.com/aGMn8P4.png" /></a></p>
<p>Al usar bind mount tenemos acceso al directorio:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="gp">atlas@olympus:~$ </span><span class="nb">cd</span><span class="w"> </span>datos_nextcloud/
<a id="__codelineno-82-2" name="__codelineno-82-2" href="#__codelineno-82-2"></a><span class="gp">atlas@olympus:~/datos_nextcloud$ </span>ls<span class="w"> </span>-la
<a id="__codelineno-82-3" name="__codelineno-82-3" href="#__codelineno-82-3"></a><span class="go">total 184</span>
<a id="__codelineno-82-4" name="__codelineno-82-4" href="#__codelineno-82-4"></a><span class="go">drwxr-xr-x 15 www-data root   4096 Jun 12 19:34 .</span>
<a id="__codelineno-82-5" name="__codelineno-82-5" href="#__codelineno-82-5"></a><span class="go">drwxr-xr-x 38 atlas    atlas  4096 Jun 12 19:30 ..</span>
<a id="__codelineno-82-6" name="__codelineno-82-6" href="#__codelineno-82-6"></a><span class="go">drwxr-xr-x 43 www-data root   4096 Jun 12 19:34 3rdparty</span>
<a id="__codelineno-82-7" name="__codelineno-82-7" href="#__codelineno-82-7"></a><span class="go">drwxr-xr-x 48 www-data root   4096 Jun 12 19:34 apps</span>
<a id="__codelineno-82-8" name="__codelineno-82-8" href="#__codelineno-82-8"></a><span class="go">-rw-r--r--  1 www-data root  19327 Jun 12 19:34 AUTHORS</span>
<a id="__codelineno-82-9" name="__codelineno-82-9" href="#__codelineno-82-9"></a><span class="go">drwxr-xr-x  2 www-data root   4096 Jun 12 19:38 config</span>
<a id="__codelineno-82-10" name="__codelineno-82-10" href="#__codelineno-82-10"></a><span class="go">-rw-r--r--  1 www-data root   3924 Jun 12 19:34 console.php</span>
<a id="__codelineno-82-11" name="__codelineno-82-11" href="#__codelineno-82-11"></a><span class="go">-rw-r--r--  1 www-data root  34520 Jun 12 19:34 COPYING</span>
<a id="__codelineno-82-12" name="__codelineno-82-12" href="#__codelineno-82-12"></a><span class="go">drwxr-xr-x 22 www-data root   4096 Jun 12 19:34 core</span>
<a id="__codelineno-82-13" name="__codelineno-82-13" href="#__codelineno-82-13"></a><span class="go">-rw-r--r--  1 www-data root   6260 Jun 12 19:34 cron.php</span>
<a id="__codelineno-82-14" name="__codelineno-82-14" href="#__codelineno-82-14"></a><span class="go">drwxr-xr-x  2 www-data root   4096 Jun 12 19:34 custom_apps</span>
<a id="__codelineno-82-15" name="__codelineno-82-15" href="#__codelineno-82-15"></a><span class="go">drwxrwx---  5 www-data root   4096 Jun 12 19:41 data</span>
<a id="__codelineno-82-16" name="__codelineno-82-16" href="#__codelineno-82-16"></a><span class="go">drwxr-xr-x  2 www-data root  12288 Jun 12 19:34 dist</span>
<a id="__codelineno-82-17" name="__codelineno-82-17" href="#__codelineno-82-17"></a><span class="go">-rw-r--r--  1 www-data root   4387 Jun 12 19:38 .htaccess</span>
<a id="__codelineno-82-18" name="__codelineno-82-18" href="#__codelineno-82-18"></a><span class="go">-rw-r--r--  1 www-data root    156 Jun 12 19:34 index.html</span>
<a id="__codelineno-82-19" name="__codelineno-82-19" href="#__codelineno-82-19"></a><span class="go">-rw-r--r--  1 www-data root   3456 Jun 12 19:34 index.php</span>
<a id="__codelineno-82-20" name="__codelineno-82-20" href="#__codelineno-82-20"></a><span class="go">drwxr-xr-x  6 www-data root   4096 Jun 12 19:34 lib</span>
<a id="__codelineno-82-21" name="__codelineno-82-21" href="#__codelineno-82-21"></a><span class="go">-rwxr-xr-x  1 www-data root    283 Jun 12 19:34 occ</span>
<a id="__codelineno-82-22" name="__codelineno-82-22" href="#__codelineno-82-22"></a><span class="go">drwxr-xr-x  2 www-data root   4096 Jun 12 19:34 ocm-provider</span>
<a id="__codelineno-82-23" name="__codelineno-82-23" href="#__codelineno-82-23"></a><span class="go">drwxr-xr-x  2 www-data root   4096 Jun 12 19:34 ocs</span>
<a id="__codelineno-82-24" name="__codelineno-82-24" href="#__codelineno-82-24"></a><span class="go">drwxr-xr-x  2 www-data root   4096 Jun 12 19:34 ocs-provider</span>
<a id="__codelineno-82-25" name="__codelineno-82-25" href="#__codelineno-82-25"></a><span class="go">-rw-r--r--  1 www-data root   3139 Jun 12 19:34 public.php</span>
<a id="__codelineno-82-26" name="__codelineno-82-26" href="#__codelineno-82-26"></a><span class="go">-rw-r--r--  1 www-data root   5340 Jun 12 19:34 remote.php</span>
<a id="__codelineno-82-27" name="__codelineno-82-27" href="#__codelineno-82-27"></a><span class="go">drwxr-xr-x  4 www-data root   4096 Jun 12 19:34 resources</span>
<a id="__codelineno-82-28" name="__codelineno-82-28" href="#__codelineno-82-28"></a><span class="go">-rw-r--r--  1 www-data root     26 Jun 12 19:34 robots.txt</span>
<a id="__codelineno-82-29" name="__codelineno-82-29" href="#__codelineno-82-29"></a><span class="go">-rw-r--r--  1 www-data root   2452 Jun 12 19:34 status.php</span>
<a id="__codelineno-82-30" name="__codelineno-82-30" href="#__codelineno-82-30"></a><span class="go">drwxr-xr-x  3 www-data root   4096 Jun 12 19:34 themes</span>
<a id="__codelineno-82-31" name="__codelineno-82-31" href="#__codelineno-82-31"></a><span class="go">-rw-r--r--  1 www-data root    101 Jun 12 19:34 .user.ini</span>
<a id="__codelineno-82-32" name="__codelineno-82-32" href="#__codelineno-82-32"></a><span class="go">-rw-r--r--  1 www-data root    382 Jun 12 19:34 version.php</span>
</code></pre></div>
<p>Si eliminamos el contenedor y lo volvemos a crear con el mismo directorio bind mount, todo seguirá igual:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>rm<span class="w"> </span>-f<span class="w"> </span>contenedor_nextcloud
<a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a><span class="go">contenedor_nextcloud</span>
<a id="__codelineno-83-3" name="__codelineno-83-3" href="#__codelineno-83-3"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">80</span>:80<span class="w"> </span>-v<span class="w"> </span>/home/atlas/datos_nextcloud:/var/www/html<span class="w"> </span>--name<span class="w"> </span>contenedor_nextcloud<span class="w"> </span>nextcloud
<a id="__codelineno-83-4" name="__codelineno-83-4" href="#__codelineno-83-4"></a><span class="go">74099565d46f4ddb28547a071349a487bd511ac5e2cc47b3f29d72a6cfedd7ab</span>
</code></pre></div>
<p><a class="glightbox" href="https://i.imgur.com/yAgZWlb.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="nextcloudbindmountrecreado" src="https://i.imgur.com/yAgZWlb.png" /></a></p>
<h3 id="ejemplo-2-contenedor-mariadb-con-almacenamiento-persistente">Ejemplo 2: Contenedor MariaDB con almacenamiento persistente</h3>
<p>Lanzamos el contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>some-mariadb<span class="w"> </span>-v<span class="w"> </span>/home/atlas/datadir:/var/lib/mysql<span class="w"> </span>-e<span class="w"> </span><span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>my-secret-pw<span class="w"> </span>-d<span class="w"> </span>mariadb
<a id="__codelineno-84-2" name="__codelineno-84-2" href="#__codelineno-84-2"></a><span class="go">d12a51b521342a15b3b82cd59bab2d9de15946e5cd77a1d9149e892610121224</span>
</code></pre></div>
<p>El directorio <code>/home/atlas/datadir</code> se creará automáticamente.<br />
Si borramos el contenedor, lo volvemos a crear, e indicamos ese directorio como bind mount, todo seguirá igual.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="gp">atlas@olympus:~$ </span><span class="nb">cd</span><span class="w"> </span>datadir/
<a id="__codelineno-85-2" name="__codelineno-85-2" href="#__codelineno-85-2"></a><span class="gp">atlas@olympus:~/datadir$ </span>ls<span class="w"> </span>-la
<a id="__codelineno-85-3" name="__codelineno-85-3" href="#__codelineno-85-3"></a><span class="go">total 139260</span>
<a id="__codelineno-85-4" name="__codelineno-85-4" href="#__codelineno-85-4"></a><span class="go">drwxr-xr-x  5 systemd-coredump systemd-coredump      4096 Jun 12 20:04 .</span>
<a id="__codelineno-85-5" name="__codelineno-85-5" href="#__codelineno-85-5"></a><span class="go">drwxr-xr-x 39 atlas            atlas                 4096 Jun 12 20:04 ..</span>
<a id="__codelineno-85-6" name="__codelineno-85-6" href="#__codelineno-85-6"></a><span class="go">-rw-rw----  1 systemd-coredump systemd-coredump  16719872 Jun 12 20:04 aria_log.00000001</span>
<a id="__codelineno-85-7" name="__codelineno-85-7" href="#__codelineno-85-7"></a><span class="go">-rw-rw----  1 systemd-coredump systemd-coredump        52 Jun 12 20:04 aria_log_control</span>
<a id="__codelineno-85-8" name="__codelineno-85-8" href="#__codelineno-85-8"></a><span class="go">-rw-rw----  1 systemd-coredump systemd-coredump         9 Jun 12 20:04 ddl_recovery.log</span>
<a id="__codelineno-85-9" name="__codelineno-85-9" href="#__codelineno-85-9"></a><span class="go">-rw-rw----  1 systemd-coredump systemd-coredump       868 Jun 12 20:04 ib_buffer_pool</span>
<a id="__codelineno-85-10" name="__codelineno-85-10" href="#__codelineno-85-10"></a><span class="go">-rw-rw----  1 systemd-coredump systemd-coredump  12582912 Jun 12 20:04 ibdata1</span>
<a id="__codelineno-85-11" name="__codelineno-85-11" href="#__codelineno-85-11"></a><span class="go">-rw-rw----  1 systemd-coredump systemd-coredump 100663296 Jun 12 20:06 ib_logfile0</span>
<a id="__codelineno-85-12" name="__codelineno-85-12" href="#__codelineno-85-12"></a><span class="go">-rw-rw----  1 systemd-coredump systemd-coredump  12582912 Jun 12 20:04 ibtmp1</span>
<a id="__codelineno-85-13" name="__codelineno-85-13" href="#__codelineno-85-13"></a><span class="go">-rw-rw----  1 systemd-coredump systemd-coredump         0 Jun 12 20:04 multi-master.info</span>
<a id="__codelineno-85-14" name="__codelineno-85-14" href="#__codelineno-85-14"></a><span class="go">drwx------  2 systemd-coredump systemd-coredump      4096 Jun 12 20:04 mysql</span>
<a id="__codelineno-85-15" name="__codelineno-85-15" href="#__codelineno-85-15"></a><span class="go">-rw-r--r--  1 systemd-coredump systemd-coredump        14 Jun 12 20:04 mysql_upgrade_info</span>
<a id="__codelineno-85-16" name="__codelineno-85-16" href="#__codelineno-85-16"></a><span class="go">drwx------  2 systemd-coredump systemd-coredump      4096 Jun 12 20:04 performance_schema</span>
<a id="__codelineno-85-17" name="__codelineno-85-17" href="#__codelineno-85-17"></a><span class="go">drwx------  2 systemd-coredump systemd-coredump     12288 Jun 12 20:04 sys</span>
<a id="__codelineno-85-18" name="__codelineno-85-18" href="#__codelineno-85-18"></a><span class="gp">atlas@olympus:~/datadir$ </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>some-mariadb<span class="w"> </span>bash<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;mysql -uroot -p$MYSQL_ROOT_PASSWORD&#39;</span>
<a id="__codelineno-85-19" name="__codelineno-85-19" href="#__codelineno-85-19"></a><span class="go">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span>
<a id="__codelineno-85-20" name="__codelineno-85-20" href="#__codelineno-85-20"></a><span class="go">Your MariaDB connection id is 3</span>
<a id="__codelineno-85-21" name="__codelineno-85-21" href="#__codelineno-85-21"></a><span class="go">Server version: 10.8.3-MariaDB-1:10.8.3+maria~jammy mariadb.org binary distribution</span>
<a id="__codelineno-85-22" name="__codelineno-85-22" href="#__codelineno-85-22"></a>
<a id="__codelineno-85-23" name="__codelineno-85-23" href="#__codelineno-85-23"></a><span class="go">Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.</span>
<a id="__codelineno-85-24" name="__codelineno-85-24" href="#__codelineno-85-24"></a>
<a id="__codelineno-85-25" name="__codelineno-85-25" href="#__codelineno-85-25"></a><span class="go">Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.</span>
<a id="__codelineno-85-26" name="__codelineno-85-26" href="#__codelineno-85-26"></a>
<a id="__codelineno-85-27" name="__codelineno-85-27" href="#__codelineno-85-27"></a><span class="go">MariaDB [(none)]&gt; create database prueba;</span>
<a id="__codelineno-85-28" name="__codelineno-85-28" href="#__codelineno-85-28"></a><span class="go">Query OK, 1 row affected (0.001 sec)</span>
<a id="__codelineno-85-29" name="__codelineno-85-29" href="#__codelineno-85-29"></a>
<a id="__codelineno-85-30" name="__codelineno-85-30" href="#__codelineno-85-30"></a><span class="go">MariaDB [(none)]&gt; quit</span>
<a id="__codelineno-85-31" name="__codelineno-85-31" href="#__codelineno-85-31"></a><span class="go">Bye</span>
<a id="__codelineno-85-32" name="__codelineno-85-32" href="#__codelineno-85-32"></a><span class="gp">atlas@olympus:~/datadir$ </span>docker<span class="w"> </span>rm<span class="w"> </span>-f<span class="w"> </span>some-mariadb
<a id="__codelineno-85-33" name="__codelineno-85-33" href="#__codelineno-85-33"></a><span class="go">some-mariadb</span>
<a id="__codelineno-85-34" name="__codelineno-85-34" href="#__codelineno-85-34"></a><span class="gp">atlas@olympus:~/datadir$ </span>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>some-mariadb<span class="w"> </span>-v<span class="w"> </span>/home/atlas/datadir:/var/lib/mysql<span class="w"> </span>-e<span class="w"> </span><span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>my-secret-pw<span class="w"> </span>-d<span class="w"> </span>mariadb
<a id="__codelineno-85-35" name="__codelineno-85-35" href="#__codelineno-85-35"></a><span class="go">84fb33568b2db708442f4099d6a8cf2636a2edb676630acbb7e71ca33f4ae2cc</span>
<a id="__codelineno-85-36" name="__codelineno-85-36" href="#__codelineno-85-36"></a><span class="gp">atlas@olympus:~/datadir$ </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>some-mariadb<span class="w"> </span>bash<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;mysql -uroot -p$MYSQL_ROOT_PASSWORD&#39;</span>
<a id="__codelineno-85-37" name="__codelineno-85-37" href="#__codelineno-85-37"></a><span class="go">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span>
<a id="__codelineno-85-38" name="__codelineno-85-38" href="#__codelineno-85-38"></a><span class="go">Your MariaDB connection id is 3</span>
<a id="__codelineno-85-39" name="__codelineno-85-39" href="#__codelineno-85-39"></a><span class="go">Server version: 10.8.3-MariaDB-1:10.8.3+maria~jammy mariadb.org binary distribution</span>
<a id="__codelineno-85-40" name="__codelineno-85-40" href="#__codelineno-85-40"></a>
<a id="__codelineno-85-41" name="__codelineno-85-41" href="#__codelineno-85-41"></a><span class="go">Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.</span>
<a id="__codelineno-85-42" name="__codelineno-85-42" href="#__codelineno-85-42"></a>
<a id="__codelineno-85-43" name="__codelineno-85-43" href="#__codelineno-85-43"></a><span class="go">Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.</span>
<a id="__codelineno-85-44" name="__codelineno-85-44" href="#__codelineno-85-44"></a>
<a id="__codelineno-85-45" name="__codelineno-85-45" href="#__codelineno-85-45"></a><span class="go">MariaDB [(none)]&gt; show databases;</span>
<a id="__codelineno-85-46" name="__codelineno-85-46" href="#__codelineno-85-46"></a><span class="go">+--------------------+</span>
<a id="__codelineno-85-47" name="__codelineno-85-47" href="#__codelineno-85-47"></a><span class="go">| Database           |</span>
<a id="__codelineno-85-48" name="__codelineno-85-48" href="#__codelineno-85-48"></a><span class="go">+--------------------+</span>
<a id="__codelineno-85-49" name="__codelineno-85-49" href="#__codelineno-85-49"></a><span class="go">| information_schema |</span>
<a id="__codelineno-85-50" name="__codelineno-85-50" href="#__codelineno-85-50"></a><span class="go">| mysql              |</span>
<a id="__codelineno-85-51" name="__codelineno-85-51" href="#__codelineno-85-51"></a><span class="go">| performance_schema |</span>
<a id="__codelineno-85-52" name="__codelineno-85-52" href="#__codelineno-85-52"></a><span class="go">| prueba             |</span>
<a id="__codelineno-85-53" name="__codelineno-85-53" href="#__codelineno-85-53"></a><span class="go">| sys                |</span>
<a id="__codelineno-85-54" name="__codelineno-85-54" href="#__codelineno-85-54"></a><span class="go">+--------------------+</span>
<a id="__codelineno-85-55" name="__codelineno-85-55" href="#__codelineno-85-55"></a><span class="go">5 rows in set (0.001 sec)</span>
<a id="__codelineno-85-56" name="__codelineno-85-56" href="#__codelineno-85-56"></a>
<a id="__codelineno-85-57" name="__codelineno-85-57" href="#__codelineno-85-57"></a><span class="go">MariaDB [(none)]&gt;</span>
</code></pre></div>
<h3 id="otros-usos-del-almacenamiento">Otros usos del almacenamiento</h3>
<h4 id="compartir-informacion-entre-contenedores">Compartir información entre contenedores</h4>
<p>Tendremos un contenedor principal con un servidor web sirviendo un <code>index.html</code>. El segundo contenedor  irá actualizándolo.</p>
<p>Creamos el volumen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>volume<span class="w"> </span>create<span class="w"> </span>datos_compartidos
<a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a><span class="go">datos_compartidos</span>
</code></pre></div>
<p>Lanzamos el primer contenedor con el volumen montado en su <code>DocumentRoot</code>, en solo lectura <em>(ro)</em>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">8181</span>:80<span class="w"> </span>--name<span class="w"> </span>contenedor1<span class="w"> </span>-v<span class="w"> </span>datos_compartidos:/var/www/html:ro<span class="w"> </span>php:7.4-apache
<a id="__codelineno-87-2" name="__codelineno-87-2" href="#__codelineno-87-2"></a><span class="go">2c2eb3c74624156a94360ec93b431193a4eb39d9f8ce51f54ad5c7618e9b4fe5</span>
</code></pre></div>
<p>Lanzamos el segundo contenedor, que irá modificando <code>index.html</code> en el volumen cada segundo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>contenedor2<span class="w"> </span>-v<span class="w"> </span>datos_compartidos:/srv<span class="w"> </span>debian<span class="w"> </span>bash<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;while true; do date &gt;&gt; /srv/index.html;sleep 1;done&quot;</span>
<a id="__codelineno-88-2" name="__codelineno-88-2" href="#__codelineno-88-2"></a><span class="go">Unable to find image &#39;debian:latest&#39; locally</span>
<a id="__codelineno-88-3" name="__codelineno-88-3" href="#__codelineno-88-3"></a><span class="go">latest: Pulling from library/debian</span>
<a id="__codelineno-88-4" name="__codelineno-88-4" href="#__codelineno-88-4"></a><span class="go">e756f3fdd6a3: Pull complete</span>
<a id="__codelineno-88-5" name="__codelineno-88-5" href="#__codelineno-88-5"></a><span class="go">Digest: sha256:3f1d6c17773a45c97bd8f158d665c9709d7b29ed7917ac934086ad96f92e4510</span>
<a id="__codelineno-88-6" name="__codelineno-88-6" href="#__codelineno-88-6"></a><span class="go">Status: Downloaded newer image for debian:latest</span>
<a id="__codelineno-88-7" name="__codelineno-88-7" href="#__codelineno-88-7"></a><span class="go">33aac5ea223daf385d736bc43ea73b5e3dc0f033c050b968224b9f2a5d187f99</span>
</code></pre></div>
<p>Accedemos al servidor web y comprobamos que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/ZeBJwbn.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="indexhtmlautomatico" src="https://i.imgur.com/ZeBJwbn.png" /></a></p>
<p>También se podría haber hecho con bind mount:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">8181</span>:80<span class="w"> </span>--name<span class="w"> </span>contenedor1<span class="w"> </span>-v<span class="w"> </span>/home/atlas/compartido:/var/www/html:ro<span class="w"> </span>php:7.4-apache
<a id="__codelineno-89-2" name="__codelineno-89-2" href="#__codelineno-89-2"></a><span class="go">af6c26e17a3857d54c3c35363622412cb2381bed3f1c981add1ff4ea10713f97</span>
<a id="__codelineno-89-3" name="__codelineno-89-3" href="#__codelineno-89-3"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>contenedor2<span class="w"> </span>-v<span class="w"> </span>/home/atlas/compartido:/srv<span class="w"> </span>debian<span class="w"> </span>bash<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;while true; do date &gt;&gt; /srv/index.html;sleep 1;done&quot;</span>
<a id="__codelineno-89-4" name="__codelineno-89-4" href="#__codelineno-89-4"></a><span class="go">f4b562b1e9c38afb49b0e830e9dc9f78d3d964b7741b6937282672f7a1256247</span>
</code></pre></div>
<p>Comprobamos que sigue funcionando:</p>
<p><a class="glightbox" href="https://i.imgur.com/EZOOOyZ.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="indexhtmlautomaticobindmount" src="https://i.imgur.com/EZOOOyZ.png" /></a></p>
<p>Podríamos ver el fichero <code>~/compartido/index.html</code> en nuestra máquina:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a><span class="gp">atlas@olympus:~$ </span>ls<span class="w"> </span>-la<span class="w"> </span>compartido/
<a id="__codelineno-90-2" name="__codelineno-90-2" href="#__codelineno-90-2"></a><span class="go">total 20</span>
<a id="__codelineno-90-3" name="__codelineno-90-3" href="#__codelineno-90-3"></a><span class="go">drwxr-xr-x  2 root  root  4096 Jun 12 21:04 .</span>
<a id="__codelineno-90-4" name="__codelineno-90-4" href="#__codelineno-90-4"></a><span class="go">drwxr-xr-x 40 atlas atlas 4096 Jun 12 21:03 ..</span>
<a id="__codelineno-90-5" name="__codelineno-90-5" href="#__codelineno-90-5"></a><span class="go">-rw-r--r--  1 root  root  9280 Jun 12 21:09 index.html</span>
</code></pre></div>
<h4 id="comprobar-compatibilidad-de-codigo-entre-distintas-versiones-de-un-lenguaje-de-programacion">Comprobar compatibilidad de código entre distintas versiones de un lenguaje de programación</h4>
<p>Creamos el directorio <code>codigo</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a><span class="go">mkdir codigo</span>
</code></pre></div>
<p>Dentro creamos un <code>index.php</code> con el siguiente código:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-92-1" name="__codelineno-92-1" href="#__codelineno-92-1"></a><span class="go">&lt;?php</span>
<a id="__codelineno-92-2" name="__codelineno-92-2" href="#__codelineno-92-2"></a><span class="go">// Funciona bien en php5 ya que list hace la asignaciÃ³n desde el Ãºltimo al primero</span>
<a id="__codelineno-92-3" name="__codelineno-92-3" href="#__codelineno-92-3"></a><span class="gp">$</span><span class="nv">info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>array<span class="o">(</span><span class="s1">&#39;cafeÃ­na&#39;</span>,<span class="s1">&#39;marrÃ³n&#39;</span>,<span class="w"> </span><span class="s1">&#39;cafÃ©&#39;</span><span class="o">)</span><span class="p">;</span>
<a id="__codelineno-92-4" name="__codelineno-92-4" href="#__codelineno-92-4"></a>
<a id="__codelineno-92-5" name="__codelineno-92-5" href="#__codelineno-92-5"></a><span class="go">// Enumerar todas las variables</span>
<a id="__codelineno-92-6" name="__codelineno-92-6" href="#__codelineno-92-6"></a><span class="go">list($datos[], $datos[], $datos[]) = $info;</span>
<a id="__codelineno-92-7" name="__codelineno-92-7" href="#__codelineno-92-7"></a><span class="go">echo &quot;El $datos[0] es $datos[1] y la $datos[2] lo hace especial.\n&quot;;</span>
<a id="__codelineno-92-8" name="__codelineno-92-8" href="#__codelineno-92-8"></a><span class="go">?&gt;</span>
</code></pre></div>
<p>Lanzamos dos contenedores sirviendo este código pero con imágenes distintas y puertos distintos:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-93-1" name="__codelineno-93-1" href="#__codelineno-93-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">8081</span>:80<span class="w"> </span>--name<span class="w"> </span>php56<span class="w"> </span>-v<span class="w"> </span>/home/atlas/codigo:/var/www/html:ro<span class="w"> </span>php:5.6-apache
<a id="__codelineno-93-2" name="__codelineno-93-2" href="#__codelineno-93-2"></a><span class="go">Unable to find image &#39;php:5.6-apache&#39; locally</span>
<a id="__codelineno-93-3" name="__codelineno-93-3" href="#__codelineno-93-3"></a><span class="go">5.6-apache: Pulling from library/php</span>
<a id="__codelineno-93-4" name="__codelineno-93-4" href="#__codelineno-93-4"></a><span class="go">5e6ec7f28fb7: Pull complete</span>
<a id="__codelineno-93-5" name="__codelineno-93-5" href="#__codelineno-93-5"></a><span class="go">cf165947b5b7: Pull complete</span>
<a id="__codelineno-93-6" name="__codelineno-93-6" href="#__codelineno-93-6"></a><span class="go">7bd37682846d: Pull complete</span>
<a id="__codelineno-93-7" name="__codelineno-93-7" href="#__codelineno-93-7"></a><span class="go">99daf8e838e1: Pull complete</span>
<a id="__codelineno-93-8" name="__codelineno-93-8" href="#__codelineno-93-8"></a><span class="go">ae320713efba: Pull complete</span>
<a id="__codelineno-93-9" name="__codelineno-93-9" href="#__codelineno-93-9"></a><span class="go">ebcb99c48d8c: Pull complete</span>
<a id="__codelineno-93-10" name="__codelineno-93-10" href="#__codelineno-93-10"></a><span class="go">9867e71b4ab6: Pull complete</span>
<a id="__codelineno-93-11" name="__codelineno-93-11" href="#__codelineno-93-11"></a><span class="go">936eb418164a: Pull complete</span>
<a id="__codelineno-93-12" name="__codelineno-93-12" href="#__codelineno-93-12"></a><span class="go">bc298e7adaf7: Pull complete</span>
<a id="__codelineno-93-13" name="__codelineno-93-13" href="#__codelineno-93-13"></a><span class="go">ccd61b587bcd: Pull complete</span>
<a id="__codelineno-93-14" name="__codelineno-93-14" href="#__codelineno-93-14"></a><span class="go">b2d4b347f67c: Pull complete</span>
<a id="__codelineno-93-15" name="__codelineno-93-15" href="#__codelineno-93-15"></a><span class="go">56e9dde34152: Pull complete</span>
<a id="__codelineno-93-16" name="__codelineno-93-16" href="#__codelineno-93-16"></a><span class="go">9ad99b17eb78: Pull complete</span>
<a id="__codelineno-93-17" name="__codelineno-93-17" href="#__codelineno-93-17"></a><span class="go">Digest: sha256:0a40fd273961b99d8afe69a61a68c73c04bc0caa9de384d3b2dd9e7986eec86d</span>
<a id="__codelineno-93-18" name="__codelineno-93-18" href="#__codelineno-93-18"></a><span class="go">Status: Downloaded newer image for php:5.6-apache</span>
<a id="__codelineno-93-19" name="__codelineno-93-19" href="#__codelineno-93-19"></a><span class="go">368c1d95a662014540b74505b892d5f0e9df214aa6708c9a10c132bb6ce03972</span>
<a id="__codelineno-93-20" name="__codelineno-93-20" href="#__codelineno-93-20"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">8082</span>:80<span class="w"> </span>--name<span class="w"> </span>php74<span class="w"> </span>-v<span class="w"> </span>/home/atlas/codigo:/var/www/html:ro<span class="w"> </span>php:7.4-apache
<a id="__codelineno-93-21" name="__codelineno-93-21" href="#__codelineno-93-21"></a><span class="go">ae94d1294cdc62c9af7d71c383c63be295ede4eb626907cd037124a8b5f8fc47</span>
</code></pre></div>
<p>Ya podemos acceder a cada puerto y comparar:</p>
<p><a class="glightbox" href="https://i.imgur.com/V6DAndH.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="codigophp5" src="https://i.imgur.com/V6DAndH.png" /></a></p>
<p><a class="glightbox" href="https://i.imgur.com/c3hHOTM.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="codigophp7" src="https://i.imgur.com/c3hHOTM.png" /></a></p>
<h3 id="ejercicios-almacenamiento">Ejercicios almacenamiento</h3>
<p>Creo los siguientes volúmenes:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-94-1" name="__codelineno-94-1" href="#__codelineno-94-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>volume<span class="w"> </span>create<span class="w"> </span>volumen_datos
<a id="__codelineno-94-2" name="__codelineno-94-2" href="#__codelineno-94-2"></a><span class="go">volumen_datos</span>
<a id="__codelineno-94-3" name="__codelineno-94-3" href="#__codelineno-94-3"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>volume<span class="w"> </span>create<span class="w"> </span>volumen_web
<a id="__codelineno-94-4" name="__codelineno-94-4" href="#__codelineno-94-4"></a><span class="go">volumen_web</span>
</code></pre></div>
<p><a class="glightbox" href="https://i.imgur.com/m0Gw3Uv.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="volumenescreados" src="https://i.imgur.com/m0Gw3Uv.png" /></a></p>
<p>Lanzo el primer contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-95-1" name="__codelineno-95-1" href="#__codelineno-95-1"></a><span class="go">docker run -d -p 8080:80 --name c1 -v volumen_web:/var/www/html php:7.4-apache</span>
</code></pre></div>
<p><a class="glightbox" href="https://i.imgur.com/HNL1LE1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="c1lanzado" src="https://i.imgur.com/HNL1LE1.png" /></a></p>
<p>Lanzo el segundo contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-96-1" name="__codelineno-96-1" href="#__codelineno-96-1"></a><span class="go">docker run -d --name c2 -v volumen_datos:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=admin mariadb</span>
</code></pre></div>
<p><a class="glightbox" href="https://i.imgur.com/5MVBdjr.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="c2lanzado" src="https://i.imgur.com/5MVBdjr.png" /></a></p>
<p>Paramos y borramos <code>c2</code>, luego borramos <code>volumen_datos</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-97-1" name="__codelineno-97-1" href="#__codelineno-97-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>stop<span class="w"> </span>c2
<a id="__codelineno-97-2" name="__codelineno-97-2" href="#__codelineno-97-2"></a><span class="go">c2</span>
<a id="__codelineno-97-3" name="__codelineno-97-3" href="#__codelineno-97-3"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>rm<span class="w"> </span>c2
<a id="__codelineno-97-4" name="__codelineno-97-4" href="#__codelineno-97-4"></a><span class="go">c2</span>
<a id="__codelineno-97-5" name="__codelineno-97-5" href="#__codelineno-97-5"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>volume<span class="w"> </span>rm<span class="w"> </span>volumen_datos
<a id="__codelineno-97-6" name="__codelineno-97-6" href="#__codelineno-97-6"></a><span class="go">volumen_datos</span>
</code></pre></div>
<p><a class="glightbox" href="https://i.imgur.com/s9tvCBv.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="volumendatosborrado" src="https://i.imgur.com/s9tvCBv.png" /></a></p>
<p>Creamos un <code>index.html</code> en <code>c1</code> y comprobamos que funciona:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-98-1" name="__codelineno-98-1" href="#__codelineno-98-1"></a><span class="go">docker exec c1 bash -c &#39;echo &quot;&lt;h1&gt;Web C1&lt;/h1&gt;&quot; &gt; /var/www/html/index.html&#39;</span>
</code></pre></div>
<p><a class="glightbox" href="https://i.imgur.com/u1IpP0A.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="indexhtmlc1" src="https://i.imgur.com/u1IpP0A.png" /></a></p>
<p>Borramos <code>c1</code> y creamos <code>c3</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-99-1" name="__codelineno-99-1" href="#__codelineno-99-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>stop<span class="w"> </span>c1
<a id="__codelineno-99-2" name="__codelineno-99-2" href="#__codelineno-99-2"></a><span class="go">c1</span>
<a id="__codelineno-99-3" name="__codelineno-99-3" href="#__codelineno-99-3"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>rm<span class="w"> </span>c1
<a id="__codelineno-99-4" name="__codelineno-99-4" href="#__codelineno-99-4"></a><span class="go">c1</span>
<a id="__codelineno-99-5" name="__codelineno-99-5" href="#__codelineno-99-5"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">8081</span>:80<span class="w"> </span>--name<span class="w"> </span>c3<span class="w"> </span>-v<span class="w"> </span>volumen_web:/var/www/html<span class="w"> </span>php:7.4-apache
<a id="__codelineno-99-6" name="__codelineno-99-6" href="#__codelineno-99-6"></a><span class="go">7c401c786a6aac6aa4c1ec8874066fb63b943554b273637e996ef4d5b6fc6e2a</span>
</code></pre></div>
<p><a class="glightbox" href="https://i.imgur.com/Hetp5OS.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="creadoc3" src="https://i.imgur.com/Hetp5OS.png" /></a></p>
<p>Comprobamos que el <code>index.html</code> anterior sigue funcionando en <code>c3</code>:</p>
<p><a class="glightbox" href="https://i.imgur.com/t0gpHKn.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="c3funcionando" src="https://i.imgur.com/t0gpHKn.png" /></a></p>
<h2 id="redes">Redes</h2>
<h3 id="introduccion-a-las-redes-en-docker">Introducción a las redes en Docker</h3>
<p>Lanzo un contenedor que se borrará al pararse <em>(--rm)</em>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-100-1" name="__codelineno-100-1" href="#__codelineno-100-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--name<span class="w"> </span>contenedor1<span class="w"> </span>--rm<span class="w"> </span>debian<span class="w"> </span>bash
<a id="__codelineno-100-2" name="__codelineno-100-2" href="#__codelineno-100-2"></a><span class="gp">root@222b4c0ff2cd:/#</span>
</code></pre></div>
<p>Para ver la IP asignada:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-101-1" name="__codelineno-101-1" href="#__codelineno-101-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>inspect<span class="w"> </span>-f<span class="w"> </span><span class="s1">&#39;{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}&#39;</span><span class="w"> </span>contenedor1
<a id="__codelineno-101-2" name="__codelineno-101-2" href="#__codelineno-101-2"></a><span class="go">172.17.0.2</span>
</code></pre></div>
<p>El bridge <code>docker0</code> en nuestro host es al que se conectan todos los contenedores por defecto:</p>
<p><a class="glightbox" href="https://i.imgur.com/sihaLm1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="docker0mostrado" src="https://i.imgur.com/sihaLm1.png" /></a></p>
<p>Docker nos modifica el cortafuegos:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-102-1" name="__codelineno-102-1" href="#__codelineno-102-1"></a><span class="gp">atlas@olympus:~$ </span>sudo<span class="w"> </span>iptables<span class="w"> </span>-L<span class="w"> </span>-n
<a id="__codelineno-102-2" name="__codelineno-102-2" href="#__codelineno-102-2"></a><span class="go">Chain INPUT (policy ACCEPT)</span>
<a id="__codelineno-102-3" name="__codelineno-102-3" href="#__codelineno-102-3"></a><span class="go">target     prot opt source               destination</span>
<a id="__codelineno-102-4" name="__codelineno-102-4" href="#__codelineno-102-4"></a>
<a id="__codelineno-102-5" name="__codelineno-102-5" href="#__codelineno-102-5"></a><span class="go">Chain FORWARD (policy DROP)</span>
<a id="__codelineno-102-6" name="__codelineno-102-6" href="#__codelineno-102-6"></a><span class="go">target     prot opt source               destination</span>
<a id="__codelineno-102-7" name="__codelineno-102-7" href="#__codelineno-102-7"></a><span class="go">DOCKER-USER  all  --  0.0.0.0/0            0.0.0.0/0</span>
<a id="__codelineno-102-8" name="__codelineno-102-8" href="#__codelineno-102-8"></a><span class="go">DOCKER-ISOLATION-STAGE-1  all  --  0.0.0.0/0            0.0.0.0/0</span>
<a id="__codelineno-102-9" name="__codelineno-102-9" href="#__codelineno-102-9"></a><span class="go">ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0            ctstate RELATED,ESTABLISHED</span>
<a id="__codelineno-102-10" name="__codelineno-102-10" href="#__codelineno-102-10"></a><span class="go">DOCKER     all  --  0.0.0.0/0            0.0.0.0/0</span>
<a id="__codelineno-102-11" name="__codelineno-102-11" href="#__codelineno-102-11"></a><span class="go">ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0</span>
<a id="__codelineno-102-12" name="__codelineno-102-12" href="#__codelineno-102-12"></a><span class="go">ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0</span>
<a id="__codelineno-102-13" name="__codelineno-102-13" href="#__codelineno-102-13"></a>
<a id="__codelineno-102-14" name="__codelineno-102-14" href="#__codelineno-102-14"></a><span class="go">Chain OUTPUT (policy ACCEPT)</span>
<a id="__codelineno-102-15" name="__codelineno-102-15" href="#__codelineno-102-15"></a><span class="go">target     prot opt source               destination</span>
<a id="__codelineno-102-16" name="__codelineno-102-16" href="#__codelineno-102-16"></a>
<a id="__codelineno-102-17" name="__codelineno-102-17" href="#__codelineno-102-17"></a><span class="go">Chain DOCKER (1 references)</span>
<a id="__codelineno-102-18" name="__codelineno-102-18" href="#__codelineno-102-18"></a><span class="go">target     prot opt source               destination</span>
<a id="__codelineno-102-19" name="__codelineno-102-19" href="#__codelineno-102-19"></a>
<a id="__codelineno-102-20" name="__codelineno-102-20" href="#__codelineno-102-20"></a><span class="go">Chain DOCKER-ISOLATION-STAGE-1 (1 references)</span>
<a id="__codelineno-102-21" name="__codelineno-102-21" href="#__codelineno-102-21"></a><span class="go">target     prot opt source               destination</span>
<a id="__codelineno-102-22" name="__codelineno-102-22" href="#__codelineno-102-22"></a><span class="go">DOCKER-ISOLATION-STAGE-2  all  --  0.0.0.0/0            0.0.0.0/0</span>
<a id="__codelineno-102-23" name="__codelineno-102-23" href="#__codelineno-102-23"></a><span class="go">RETURN     all  --  0.0.0.0/0            0.0.0.0/0</span>
<a id="__codelineno-102-24" name="__codelineno-102-24" href="#__codelineno-102-24"></a>
<a id="__codelineno-102-25" name="__codelineno-102-25" href="#__codelineno-102-25"></a><span class="go">Chain DOCKER-ISOLATION-STAGE-2 (1 references)</span>
<a id="__codelineno-102-26" name="__codelineno-102-26" href="#__codelineno-102-26"></a><span class="go">target     prot opt source               destination</span>
<a id="__codelineno-102-27" name="__codelineno-102-27" href="#__codelineno-102-27"></a><span class="go">DROP       all  --  0.0.0.0/0            0.0.0.0/0</span>
<a id="__codelineno-102-28" name="__codelineno-102-28" href="#__codelineno-102-28"></a><span class="go">RETURN     all  --  0.0.0.0/0            0.0.0.0/0</span>
<a id="__codelineno-102-29" name="__codelineno-102-29" href="#__codelineno-102-29"></a>
<a id="__codelineno-102-30" name="__codelineno-102-30" href="#__codelineno-102-30"></a><span class="go">Chain DOCKER-USER (1 references)</span>
<a id="__codelineno-102-31" name="__codelineno-102-31" href="#__codelineno-102-31"></a><span class="go">target     prot opt source               destination</span>
<a id="__codelineno-102-32" name="__codelineno-102-32" href="#__codelineno-102-32"></a><span class="go">RETURN     all  --  0.0.0.0/0            0.0.0.0/0</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-103-1" name="__codelineno-103-1" href="#__codelineno-103-1"></a><span class="gp">atlas@olympus:~$ </span>sudo<span class="w"> </span>iptables<span class="w"> </span>-L<span class="w"> </span>-n<span class="w"> </span>-t<span class="w"> </span>nat
<a id="__codelineno-103-2" name="__codelineno-103-2" href="#__codelineno-103-2"></a><span class="go">Chain PREROUTING (policy ACCEPT)</span>
<a id="__codelineno-103-3" name="__codelineno-103-3" href="#__codelineno-103-3"></a><span class="go">target     prot opt source               destination</span>
<a id="__codelineno-103-4" name="__codelineno-103-4" href="#__codelineno-103-4"></a><span class="go">DOCKER     all  --  0.0.0.0/0            0.0.0.0/0            ADDRTYPE match dst-type LOCAL</span>
<a id="__codelineno-103-5" name="__codelineno-103-5" href="#__codelineno-103-5"></a>
<a id="__codelineno-103-6" name="__codelineno-103-6" href="#__codelineno-103-6"></a><span class="go">Chain INPUT (policy ACCEPT)</span>
<a id="__codelineno-103-7" name="__codelineno-103-7" href="#__codelineno-103-7"></a><span class="go">target     prot opt source               destination</span>
<a id="__codelineno-103-8" name="__codelineno-103-8" href="#__codelineno-103-8"></a>
<a id="__codelineno-103-9" name="__codelineno-103-9" href="#__codelineno-103-9"></a><span class="go">Chain OUTPUT (policy ACCEPT)</span>
<a id="__codelineno-103-10" name="__codelineno-103-10" href="#__codelineno-103-10"></a><span class="go">target     prot opt source               destination</span>
<a id="__codelineno-103-11" name="__codelineno-103-11" href="#__codelineno-103-11"></a><span class="go">DOCKER     all  --  0.0.0.0/0           !127.0.0.0/8          ADDRTYPE match dst-type LOCAL</span>
<a id="__codelineno-103-12" name="__codelineno-103-12" href="#__codelineno-103-12"></a>
<a id="__codelineno-103-13" name="__codelineno-103-13" href="#__codelineno-103-13"></a><span class="go">Chain POSTROUTING (policy ACCEPT)</span>
<a id="__codelineno-103-14" name="__codelineno-103-14" href="#__codelineno-103-14"></a><span class="go">target     prot opt source               destination</span>
<a id="__codelineno-103-15" name="__codelineno-103-15" href="#__codelineno-103-15"></a><span class="go">MASQUERADE  all  --  172.17.0.0/16        0.0.0.0/0</span>
<a id="__codelineno-103-16" name="__codelineno-103-16" href="#__codelineno-103-16"></a>
<a id="__codelineno-103-17" name="__codelineno-103-17" href="#__codelineno-103-17"></a><span class="go">Chain DOCKER (2 references)</span>
<a id="__codelineno-103-18" name="__codelineno-103-18" href="#__codelineno-103-18"></a><span class="go">target     prot opt source               destination</span>
<a id="__codelineno-103-19" name="__codelineno-103-19" href="#__codelineno-103-19"></a><span class="go">RETURN     all  --  0.0.0.0/0            0.0.0.0/0</span>
</code></pre></div>
<h3 id="tipos-de-redes-en-docker">Tipos de redes en Docker</h3>
<p>Para listar las redes:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-104-1" name="__codelineno-104-1" href="#__codelineno-104-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>ls
<a id="__codelineno-104-2" name="__codelineno-104-2" href="#__codelineno-104-2"></a><span class="go">NETWORK ID     NAME      DRIVER    SCOPE</span>
<a id="__codelineno-104-3" name="__codelineno-104-3" href="#__codelineno-104-3"></a><span class="go">cefa7428778f   bridge    bridge    local</span>
<a id="__codelineno-104-4" name="__codelineno-104-4" href="#__codelineno-104-4"></a><span class="go">34d0a5b2368f   host      host      local</span>
<a id="__codelineno-104-5" name="__codelineno-104-5" href="#__codelineno-104-5"></a><span class="go">9e2bf2980f1b   none      null      local</span>
</code></pre></div>
<p>Por defecto los contenedores se conectan a <code>bridge</code>:</p>
<p><a class="glightbox" href="https://iesgn.github.io/curso_docker_2021/sesion4/img/bridge1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="dockerbridgenet" src="https://iesgn.github.io/curso_docker_2021/sesion4/img/bridge1.png" /></a></p>
<p>En la tipo <code>host</code> el contenedor ofrece los servicios en la IP y puertos del anfitrión. No tiene ip propia:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-105-1" name="__codelineno-105-1" href="#__codelineno-105-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>mi_servidor<span class="w"> </span>--network<span class="w"> </span>host<span class="w"> </span>josedom24/aplicacionweb:v1
<a id="__codelineno-105-2" name="__codelineno-105-2" href="#__codelineno-105-2"></a><span class="go">Unable to find image &#39;josedom24/aplicacionweb:v1&#39; locally</span>
<a id="__codelineno-105-3" name="__codelineno-105-3" href="#__codelineno-105-3"></a><span class="go">v1: Pulling from josedom24/aplicacionweb</span>
<a id="__codelineno-105-4" name="__codelineno-105-4" href="#__codelineno-105-4"></a><span class="go">c5e155d5a1d1: Pull complete</span>
<a id="__codelineno-105-5" name="__codelineno-105-5" href="#__codelineno-105-5"></a><span class="go">f2b76f8f3462: Pull complete</span>
<a id="__codelineno-105-6" name="__codelineno-105-6" href="#__codelineno-105-6"></a><span class="go">2e8f82335e4d: Pull complete</span>
<a id="__codelineno-105-7" name="__codelineno-105-7" href="#__codelineno-105-7"></a><span class="go">Digest: sha256:6c28c9bbb10ea66f08c27377bf35cbf23b6bf64f1cc71b20dcd0d39686835796</span>
<a id="__codelineno-105-8" name="__codelineno-105-8" href="#__codelineno-105-8"></a><span class="go">Status: Downloaded newer image for josedom24/aplicacionweb:v1</span>
<a id="__codelineno-105-9" name="__codelineno-105-9" href="#__codelineno-105-9"></a><span class="go">89950cbe5d6f29c9f24fac00b720cf70671396f74770d2c2d36f14ae626b7a31</span>
<a id="__codelineno-105-10" name="__codelineno-105-10" href="#__codelineno-105-10"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>ps
<a id="__codelineno-105-11" name="__codelineno-105-11" href="#__codelineno-105-11"></a><span class="go">CONTAINER ID   IMAGE                        COMMAND                  CREATED          STATUS          PORTS     NAMES</span>
<a id="__codelineno-105-12" name="__codelineno-105-12" href="#__codelineno-105-12"></a><span class="go">89950cbe5d6f   josedom24/aplicacionweb:v1   &quot;/usr/sbin/apache2ct…&quot;   37 seconds ago   Up 36 seconds             mi_servidor</span>
</code></pre></div>
<p>Podemos acceder localmente al contenedor, sin mapeo:</p>
<p><a class="glightbox" href="https://i.imgur.com/XaixYm8.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="webentiponetworkhost" src="https://i.imgur.com/XaixYm8.png" /></a></p>
<p>La red <code>none</code> no asigna IP y aísla a los contenedores, solo da loopback. Se usa para batch jobs.</p>
<h3 id="gestionando-las-redes-en-docker">Gestionando las redes en docker</h3>
<p>Bridge <code>docker0</code> por defecto ≠ Bridges definidos por el usuario.</p>
<p>Los contenedores en producción <strong>deben estar en bridges de usuario, son mejores</strong>.</p>
<p>Para listar redes:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-106-1" name="__codelineno-106-1" href="#__codelineno-106-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>ls
<a id="__codelineno-106-2" name="__codelineno-106-2" href="#__codelineno-106-2"></a><span class="go">NETWORK ID     NAME      DRIVER    SCOPE</span>
<a id="__codelineno-106-3" name="__codelineno-106-3" href="#__codelineno-106-3"></a><span class="go">cefa7428778f   bridge    bridge    local</span>
<a id="__codelineno-106-4" name="__codelineno-106-4" href="#__codelineno-106-4"></a><span class="go">34d0a5b2368f   host      host      local</span>
<a id="__codelineno-106-5" name="__codelineno-106-5" href="#__codelineno-106-5"></a><span class="go">9e2bf2980f1b   none      null      local</span>
</code></pre></div>
<p>Para crear redes:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-107-1" name="__codelineno-107-1" href="#__codelineno-107-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>red1
<a id="__codelineno-107-2" name="__codelineno-107-2" href="#__codelineno-107-2"></a><span class="go">dcec4de396e9802627a000d813e5cc65da4f0992a9cf5ace62eff12f13735da5</span>
<a id="__codelineno-107-3" name="__codelineno-107-3" href="#__codelineno-107-3"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>-d<span class="w"> </span>bridge<span class="w"> </span>--subnet<span class="w"> </span><span class="m">172</span>.24.0.0/16<span class="w"> </span>--gateway<span class="w"> </span><span class="m">172</span>.24.0.1<span class="w"> </span>red2
<a id="__codelineno-107-4" name="__codelineno-107-4" href="#__codelineno-107-4"></a><span class="go">e6cacc4df914f5cb9de6b336679ec1ed7e804407f0e56968c74a4a3e7e7a8deb</span>
<a id="__codelineno-107-5" name="__codelineno-107-5" href="#__codelineno-107-5"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>ls
<a id="__codelineno-107-6" name="__codelineno-107-6" href="#__codelineno-107-6"></a><span class="go">NETWORK ID     NAME      DRIVER    SCOPE</span>
<a id="__codelineno-107-7" name="__codelineno-107-7" href="#__codelineno-107-7"></a><span class="go">cefa7428778f   bridge    bridge    local</span>
<a id="__codelineno-107-8" name="__codelineno-107-8" href="#__codelineno-107-8"></a><span class="go">34d0a5b2368f   host      host      local</span>
<a id="__codelineno-107-9" name="__codelineno-107-9" href="#__codelineno-107-9"></a><span class="go">9e2bf2980f1b   none      null      local</span>
<a id="__codelineno-107-10" name="__codelineno-107-10" href="#__codelineno-107-10"></a><span class="go">dcec4de396e9   red1      bridge    local</span>
<a id="__codelineno-107-11" name="__codelineno-107-11" href="#__codelineno-107-11"></a><span class="go">e6cacc4df914   red2      bridge    local</span>
</code></pre></div>
<p>Para borrar redes:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-108-1" name="__codelineno-108-1" href="#__codelineno-108-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>rm<span class="w"> </span>red1
<a id="__codelineno-108-2" name="__codelineno-108-2" href="#__codelineno-108-2"></a><span class="go">red1</span>
<a id="__codelineno-108-3" name="__codelineno-108-3" href="#__codelineno-108-3"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>prune
<a id="__codelineno-108-4" name="__codelineno-108-4" href="#__codelineno-108-4"></a><span class="go">WARNING! This will remove all custom networks not used by at least one container.</span>
<a id="__codelineno-108-5" name="__codelineno-108-5" href="#__codelineno-108-5"></a><span class="go">Are you sure you want to continue? [y/N] y</span>
<a id="__codelineno-108-6" name="__codelineno-108-6" href="#__codelineno-108-6"></a><span class="go">Deleted Networks:</span>
<a id="__codelineno-108-7" name="__codelineno-108-7" href="#__codelineno-108-7"></a><span class="go">red2</span>
</code></pre></div>
<p>Para ver información de una red:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-109-1" name="__codelineno-109-1" href="#__codelineno-109-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>inspect<span class="w"> </span>bridge
<a id="__codelineno-109-2" name="__codelineno-109-2" href="#__codelineno-109-2"></a><span class="go">[</span>
<a id="__codelineno-109-3" name="__codelineno-109-3" href="#__codelineno-109-3"></a><span class="go">    {</span>
<a id="__codelineno-109-4" name="__codelineno-109-4" href="#__codelineno-109-4"></a><span class="go">        &quot;Name&quot;: &quot;bridge&quot;,</span>
<a id="__codelineno-109-5" name="__codelineno-109-5" href="#__codelineno-109-5"></a><span class="go">        &quot;Id&quot;: &quot;cefa7428778f2b0a5af1617a3659829650226ea874cb037d71efd441d80a8a79&quot;,</span>
<a id="__codelineno-109-6" name="__codelineno-109-6" href="#__codelineno-109-6"></a><span class="go">        &quot;Created&quot;: &quot;2022-06-13T17:40:22.758388059+02:00&quot;,</span>
<a id="__codelineno-109-7" name="__codelineno-109-7" href="#__codelineno-109-7"></a><span class="go">        &quot;Scope&quot;: &quot;local&quot;,</span>
<a id="__codelineno-109-8" name="__codelineno-109-8" href="#__codelineno-109-8"></a><span class="go">        &quot;Driver&quot;: &quot;bridge&quot;,</span>
<a id="__codelineno-109-9" name="__codelineno-109-9" href="#__codelineno-109-9"></a><span class="go">        &quot;EnableIPv6&quot;: false,</span>
<a id="__codelineno-109-10" name="__codelineno-109-10" href="#__codelineno-109-10"></a><span class="go">        &quot;IPAM&quot;: {</span>
<a id="__codelineno-109-11" name="__codelineno-109-11" href="#__codelineno-109-11"></a><span class="go">            &quot;Driver&quot;: &quot;default&quot;,</span>
<a id="__codelineno-109-12" name="__codelineno-109-12" href="#__codelineno-109-12"></a><span class="go">            &quot;Options&quot;: null,</span>
<a id="__codelineno-109-13" name="__codelineno-109-13" href="#__codelineno-109-13"></a><span class="go">            &quot;Config&quot;: [</span>
<a id="__codelineno-109-14" name="__codelineno-109-14" href="#__codelineno-109-14"></a><span class="go">                {</span>
<a id="__codelineno-109-15" name="__codelineno-109-15" href="#__codelineno-109-15"></a><span class="go">                    &quot;Subnet&quot;: &quot;172.17.0.0/16&quot;,</span>
<a id="__codelineno-109-16" name="__codelineno-109-16" href="#__codelineno-109-16"></a><span class="go">                    &quot;Gateway&quot;: &quot;172.17.0.1&quot;</span>
<a id="__codelineno-109-17" name="__codelineno-109-17" href="#__codelineno-109-17"></a><span class="go">                }</span>
<a id="__codelineno-109-18" name="__codelineno-109-18" href="#__codelineno-109-18"></a><span class="go">            ]</span>
<a id="__codelineno-109-19" name="__codelineno-109-19" href="#__codelineno-109-19"></a><span class="go">        },</span>
<a id="__codelineno-109-20" name="__codelineno-109-20" href="#__codelineno-109-20"></a><span class="go">        &quot;Internal&quot;: false,</span>
<a id="__codelineno-109-21" name="__codelineno-109-21" href="#__codelineno-109-21"></a><span class="go">        &quot;Attachable&quot;: false,</span>
<a id="__codelineno-109-22" name="__codelineno-109-22" href="#__codelineno-109-22"></a><span class="go">        &quot;Ingress&quot;: false,</span>
<a id="__codelineno-109-23" name="__codelineno-109-23" href="#__codelineno-109-23"></a><span class="go">        &quot;ConfigFrom&quot;: {</span>
<a id="__codelineno-109-24" name="__codelineno-109-24" href="#__codelineno-109-24"></a><span class="go">            &quot;Network&quot;: &quot;&quot;</span>
<a id="__codelineno-109-25" name="__codelineno-109-25" href="#__codelineno-109-25"></a><span class="go">        },</span>
<a id="__codelineno-109-26" name="__codelineno-109-26" href="#__codelineno-109-26"></a><span class="go">        &quot;ConfigOnly&quot;: false,</span>
<a id="__codelineno-109-27" name="__codelineno-109-27" href="#__codelineno-109-27"></a><span class="go">        &quot;Containers&quot;: {},</span>
<a id="__codelineno-109-28" name="__codelineno-109-28" href="#__codelineno-109-28"></a><span class="go">        &quot;Options&quot;: {</span>
<a id="__codelineno-109-29" name="__codelineno-109-29" href="#__codelineno-109-29"></a><span class="go">            &quot;com.docker.network.bridge.default_bridge&quot;: &quot;true&quot;,</span>
<a id="__codelineno-109-30" name="__codelineno-109-30" href="#__codelineno-109-30"></a><span class="go">            &quot;com.docker.network.bridge.enable_icc&quot;: &quot;true&quot;,</span>
<a id="__codelineno-109-31" name="__codelineno-109-31" href="#__codelineno-109-31"></a><span class="go">            &quot;com.docker.network.bridge.enable_ip_masquerade&quot;: &quot;true&quot;,</span>
<a id="__codelineno-109-32" name="__codelineno-109-32" href="#__codelineno-109-32"></a><span class="go">            &quot;com.docker.network.bridge.host_binding_ipv4&quot;: &quot;0.0.0.0&quot;,</span>
<a id="__codelineno-109-33" name="__codelineno-109-33" href="#__codelineno-109-33"></a><span class="go">            &quot;com.docker.network.bridge.name&quot;: &quot;docker0&quot;,</span>
<a id="__codelineno-109-34" name="__codelineno-109-34" href="#__codelineno-109-34"></a><span class="go">            &quot;com.docker.network.driver.mtu&quot;: &quot;1500&quot;</span>
<a id="__codelineno-109-35" name="__codelineno-109-35" href="#__codelineno-109-35"></a><span class="go">        },</span>
<a id="__codelineno-109-36" name="__codelineno-109-36" href="#__codelineno-109-36"></a><span class="go">        &quot;Labels&quot;: {}</span>
<a id="__codelineno-109-37" name="__codelineno-109-37" href="#__codelineno-109-37"></a><span class="go">    }</span>
<a id="__codelineno-109-38" name="__codelineno-109-38" href="#__codelineno-109-38"></a><span class="go">]</span>
</code></pre></div>
<p>Cada red que creamos genera un bridge como podemos ver:</p>
<p><a class="glightbox" href="https://i.imgur.com/svKbyC9.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="bridgegenerado" src="https://i.imgur.com/svKbyC9.png" /></a></p>
<h3 id="uso-de-la-red-bridge-por-defecto">Uso de la red bridge por defecto</h3>
<p>Manera no recomendada. Usaremos el obsoleto <code>--link</code>.</p>
<p>Lanzo un contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-110-1" name="__codelineno-110-1" href="#__codelineno-110-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>servidor_mariadb<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-110-2" name="__codelineno-110-2" href="#__codelineno-110-2"></a><span class="w">                </span>-e<span class="w"> </span><span class="nv">MYSQL_DATABASE</span><span class="o">=</span>mi_basededatos<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-110-3" name="__codelineno-110-3" href="#__codelineno-110-3"></a><span class="w">                </span>-e<span class="w"> </span><span class="nv">MYSQL_USER</span><span class="o">=</span>usuario<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-110-4" name="__codelineno-110-4" href="#__codelineno-110-4"></a><span class="w">                </span>-e<span class="w"> </span><span class="nv">MYSQL_PASSWORD</span><span class="o">=</span>asdasd<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-110-5" name="__codelineno-110-5" href="#__codelineno-110-5"></a><span class="w">                </span>-e<span class="w"> </span><span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>asdasd<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-110-6" name="__codelineno-110-6" href="#__codelineno-110-6"></a><span class="w">                </span>mariadb
<a id="__codelineno-110-7" name="__codelineno-110-7" href="#__codelineno-110-7"></a><span class="go">026b003f91c9289fd2d0c1da284057b77607ab62b218321630e887675fddf148</span>
</code></pre></div>
<p>Lanzo otro contenedor enlazado con el anterior:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-111-1" name="__codelineno-111-1" href="#__codelineno-111-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>servidor_web<span class="w"> </span>--link<span class="w"> </span>servidor_mariadb:mariadb<span class="w"> </span>nginx
<a id="__codelineno-111-2" name="__codelineno-111-2" href="#__codelineno-111-2"></a><span class="go">6336b40e133735e408e5b043763e5eeefea2c51f35a3447d3167fcfed17d6a0f</span>
</code></pre></div>
<p>El enlace se hace por resolución estática:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-112-1" name="__codelineno-112-1" href="#__codelineno-112-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>servidor_web<span class="w"> </span>cat<span class="w"> </span>/etc/hosts
<a id="__codelineno-112-2" name="__codelineno-112-2" href="#__codelineno-112-2"></a><span class="go">127.0.0.1   localhost</span>
<a id="__codelineno-112-3" name="__codelineno-112-3" href="#__codelineno-112-3"></a><span class="go">::1 localhost ip6-localhost ip6-loopback</span>
<a id="__codelineno-112-4" name="__codelineno-112-4" href="#__codelineno-112-4"></a><span class="go">fe00::0ip6-localnet</span>
<a id="__codelineno-112-5" name="__codelineno-112-5" href="#__codelineno-112-5"></a><span class="go">ff00::0ip6-mcastprefix</span>
<a id="__codelineno-112-6" name="__codelineno-112-6" href="#__codelineno-112-6"></a><span class="go">ff02::1ip6-allnodes</span>
<a id="__codelineno-112-7" name="__codelineno-112-7" href="#__codelineno-112-7"></a><span class="go">ff02::2ip6-allrouters</span>
<a id="__codelineno-112-8" name="__codelineno-112-8" href="#__codelineno-112-8"></a><span class="go">172.17.0.2  mariadb 026b003f91c9 servidor_mariadb</span>
<a id="__codelineno-112-9" name="__codelineno-112-9" href="#__codelineno-112-9"></a><span class="go">172.17.0.3  6336b40e1337</span>
</code></pre></div>
<p>El DNS del contenedor es el mismo que el de nuestro host = las resoluciones no se hacen con un DNS:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-113-1" name="__codelineno-113-1" href="#__codelineno-113-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>servidor_web<span class="w"> </span>cat<span class="w"> </span>/etc/resolv.conf
<a id="__codelineno-113-2" name="__codelineno-113-2" href="#__codelineno-113-2"></a><span class="gp"># </span>Generated<span class="w"> </span>by<span class="w"> </span>NetworkManager
<a id="__codelineno-113-3" name="__codelineno-113-3" href="#__codelineno-113-3"></a><span class="go">nameserver 8.8.8.8</span>
<a id="__codelineno-113-4" name="__codelineno-113-4" href="#__codelineno-113-4"></a><span class="go">nameserver 8.8.4.4</span>
</code></pre></div>
<p>Se comparten variables:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-114-1" name="__codelineno-114-1" href="#__codelineno-114-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>servidor_web<span class="w"> </span>env
<a id="__codelineno-114-2" name="__codelineno-114-2" href="#__codelineno-114-2"></a><span class="go">PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin</span>
<a id="__codelineno-114-3" name="__codelineno-114-3" href="#__codelineno-114-3"></a><span class="go">HOSTNAME=6336b40e1337</span>
<a id="__codelineno-114-4" name="__codelineno-114-4" href="#__codelineno-114-4"></a><span class="go">MARIADB_PORT=tcp://172.17.0.2:3306</span>
<a id="__codelineno-114-5" name="__codelineno-114-5" href="#__codelineno-114-5"></a><span class="go">MARIADB_PORT_3306_TCP=tcp://172.17.0.2:3306</span>
<a id="__codelineno-114-6" name="__codelineno-114-6" href="#__codelineno-114-6"></a><span class="go">MARIADB_PORT_3306_TCP_ADDR=172.17.0.2</span>
<a id="__codelineno-114-7" name="__codelineno-114-7" href="#__codelineno-114-7"></a><span class="go">MARIADB_PORT_3306_TCP_PORT=3306</span>
<a id="__codelineno-114-8" name="__codelineno-114-8" href="#__codelineno-114-8"></a><span class="go">MARIADB_PORT_3306_TCP_PROTO=tcp</span>
<a id="__codelineno-114-9" name="__codelineno-114-9" href="#__codelineno-114-9"></a><span class="go">MARIADB_NAME=/servidor_web/mariadb</span>
<a id="__codelineno-114-10" name="__codelineno-114-10" href="#__codelineno-114-10"></a><span class="go">MARIADB_ENV_MYSQL_DATABASE=mi_basededatos</span>
<a id="__codelineno-114-11" name="__codelineno-114-11" href="#__codelineno-114-11"></a><span class="go">MARIADB_ENV_MYSQL_USER=usuario</span>
<a id="__codelineno-114-12" name="__codelineno-114-12" href="#__codelineno-114-12"></a><span class="go">MARIADB_ENV_MYSQL_PASSWORD=asdasd</span>
<a id="__codelineno-114-13" name="__codelineno-114-13" href="#__codelineno-114-13"></a><span class="go">MARIADB_ENV_MYSQL_ROOT_PASSWORD=asdasd</span>
<a id="__codelineno-114-14" name="__codelineno-114-14" href="#__codelineno-114-14"></a><span class="go">MARIADB_ENV_GOSU_VERSION=1.14</span>
<a id="__codelineno-114-15" name="__codelineno-114-15" href="#__codelineno-114-15"></a><span class="go">MARIADB_ENV_MARIADB_MAJOR=10.8</span>
<a id="__codelineno-114-16" name="__codelineno-114-16" href="#__codelineno-114-16"></a><span class="go">MARIADB_ENV_MARIADB_VERSION=1:10.8.3+maria~jammy</span>
<a id="__codelineno-114-17" name="__codelineno-114-17" href="#__codelineno-114-17"></a><span class="go">NGINX_VERSION=1.21.6</span>
<a id="__codelineno-114-18" name="__codelineno-114-18" href="#__codelineno-114-18"></a><span class="go">NJS_VERSION=0.7.3</span>
<a id="__codelineno-114-19" name="__codelineno-114-19" href="#__codelineno-114-19"></a><span class="go">PKG_RELEASE=1~bullseye</span>
<a id="__codelineno-114-20" name="__codelineno-114-20" href="#__codelineno-114-20"></a><span class="go">HOME=/root</span>
</code></pre></div>
<h3 id="uso-de-las-redes-bridge-definidas-por-el-usuario">Uso de las redes bridge definidas por el usuario</h3>
<p>Para crear una:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-115-1" name="__codelineno-115-1" href="#__codelineno-115-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>red1
<a id="__codelineno-115-2" name="__codelineno-115-2" href="#__codelineno-115-2"></a><span class="go">15154211dbeb52ed33a98e45bc9220fa6ec8dd266d72bd8947188a47ac1f3192</span>
</code></pre></div>
<p>Si no indicamos direccionamiento, docker lo asigna automáticamente:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-116-1" name="__codelineno-116-1" href="#__codelineno-116-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>inspect<span class="w"> </span>red1
<a id="__codelineno-116-2" name="__codelineno-116-2" href="#__codelineno-116-2"></a><span class="go">[</span>
<a id="__codelineno-116-3" name="__codelineno-116-3" href="#__codelineno-116-3"></a><span class="go">    {</span>
<a id="__codelineno-116-4" name="__codelineno-116-4" href="#__codelineno-116-4"></a><span class="go">        &quot;Name&quot;: &quot;red1&quot;,</span>
<a id="__codelineno-116-5" name="__codelineno-116-5" href="#__codelineno-116-5"></a><span class="go">        &quot;Id&quot;: &quot;15154211dbeb52ed33a98e45bc9220fa6ec8dd266d72bd8947188a47ac1f3192&quot;,</span>
<a id="__codelineno-116-6" name="__codelineno-116-6" href="#__codelineno-116-6"></a><span class="go">        &quot;Created&quot;: &quot;2022-06-13T20:20:57.861626406+02:00&quot;,</span>
<a id="__codelineno-116-7" name="__codelineno-116-7" href="#__codelineno-116-7"></a><span class="go">        &quot;Scope&quot;: &quot;local&quot;,</span>
<a id="__codelineno-116-8" name="__codelineno-116-8" href="#__codelineno-116-8"></a><span class="go">        &quot;Driver&quot;: &quot;bridge&quot;,</span>
<a id="__codelineno-116-9" name="__codelineno-116-9" href="#__codelineno-116-9"></a><span class="go">        &quot;EnableIPv6&quot;: false,</span>
<a id="__codelineno-116-10" name="__codelineno-116-10" href="#__codelineno-116-10"></a><span class="go">        &quot;IPAM&quot;: {</span>
<a id="__codelineno-116-11" name="__codelineno-116-11" href="#__codelineno-116-11"></a><span class="go">            &quot;Driver&quot;: &quot;default&quot;,</span>
<a id="__codelineno-116-12" name="__codelineno-116-12" href="#__codelineno-116-12"></a><span class="go">            &quot;Options&quot;: {},</span>
<a id="__codelineno-116-13" name="__codelineno-116-13" href="#__codelineno-116-13"></a><span class="go">            &quot;Config&quot;: [</span>
<a id="__codelineno-116-14" name="__codelineno-116-14" href="#__codelineno-116-14"></a><span class="go">                {</span>
<a id="__codelineno-116-15" name="__codelineno-116-15" href="#__codelineno-116-15"></a><span class="go">                    &quot;Subnet&quot;: &quot;172.21.0.0/16&quot;,</span>
<a id="__codelineno-116-16" name="__codelineno-116-16" href="#__codelineno-116-16"></a><span class="go">                    &quot;Gateway&quot;: &quot;172.21.0.1&quot;</span>
<a id="__codelineno-116-17" name="__codelineno-116-17" href="#__codelineno-116-17"></a><span class="go">                }</span>
<a id="__codelineno-116-18" name="__codelineno-116-18" href="#__codelineno-116-18"></a><span class="go">            ]</span>
<a id="__codelineno-116-19" name="__codelineno-116-19" href="#__codelineno-116-19"></a><span class="go">        },</span>
<a id="__codelineno-116-20" name="__codelineno-116-20" href="#__codelineno-116-20"></a><span class="go">        &quot;Internal&quot;: false,</span>
<a id="__codelineno-116-21" name="__codelineno-116-21" href="#__codelineno-116-21"></a><span class="go">        &quot;Attachable&quot;: false,</span>
<a id="__codelineno-116-22" name="__codelineno-116-22" href="#__codelineno-116-22"></a><span class="go">        &quot;Ingress&quot;: false,</span>
<a id="__codelineno-116-23" name="__codelineno-116-23" href="#__codelineno-116-23"></a><span class="go">        &quot;ConfigFrom&quot;: {</span>
<a id="__codelineno-116-24" name="__codelineno-116-24" href="#__codelineno-116-24"></a><span class="go">            &quot;Network&quot;: &quot;&quot;</span>
<a id="__codelineno-116-25" name="__codelineno-116-25" href="#__codelineno-116-25"></a><span class="go">        },</span>
<a id="__codelineno-116-26" name="__codelineno-116-26" href="#__codelineno-116-26"></a><span class="go">        &quot;ConfigOnly&quot;: false,</span>
<a id="__codelineno-116-27" name="__codelineno-116-27" href="#__codelineno-116-27"></a><span class="go">        &quot;Containers&quot;: {},</span>
<a id="__codelineno-116-28" name="__codelineno-116-28" href="#__codelineno-116-28"></a><span class="go">        &quot;Options&quot;: {},</span>
<a id="__codelineno-116-29" name="__codelineno-116-29" href="#__codelineno-116-29"></a><span class="go">        &quot;Labels&quot;: {}</span>
<a id="__codelineno-116-30" name="__codelineno-116-30" href="#__codelineno-116-30"></a><span class="go">    }</span>
<a id="__codelineno-116-31" name="__codelineno-116-31" href="#__codelineno-116-31"></a><span class="go">]</span>
</code></pre></div>
<p>Conectaremos dos contenedores a esa red:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-117-1" name="__codelineno-117-1" href="#__codelineno-117-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>my-apache-app<span class="w"> </span>--network<span class="w"> </span>red1<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span>httpd:2.4
<a id="__codelineno-117-2" name="__codelineno-117-2" href="#__codelineno-117-2"></a><span class="go">ff7e218f3527e116d05b77c6e858b0118e49991fb71bc342b502a60a6d533a59</span>
</code></pre></div>
<p>Comprobaremos la resolución DNS:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-118-1" name="__codelineno-118-1" href="#__codelineno-118-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--name<span class="w"> </span>contenedor1<span class="w"> </span>--network<span class="w"> </span>red1<span class="w"> </span>debian<span class="w"> </span>bash
<a id="__codelineno-118-2" name="__codelineno-118-2" href="#__codelineno-118-2"></a><span class="gp">root@646845be5f23:/# </span>apt<span class="w"> </span>update
<a id="__codelineno-118-3" name="__codelineno-118-3" href="#__codelineno-118-3"></a><span class="go">Get:1 http://security.debian.org/debian-security bullseye-security InRelease [44.1 kB]</span>
<a id="__codelineno-118-4" name="__codelineno-118-4" href="#__codelineno-118-4"></a><span class="go">Get:2 http://deb.debian.org/debian bullseye InRelease [116 kB]</span>
<a id="__codelineno-118-5" name="__codelineno-118-5" href="#__codelineno-118-5"></a><span class="go">Get:3 http://deb.debian.org/debian bullseye-updates InRelease [39.4 kB]</span>
<a id="__codelineno-118-6" name="__codelineno-118-6" href="#__codelineno-118-6"></a><span class="go">Get:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8182 kB]</span>
<a id="__codelineno-118-7" name="__codelineno-118-7" href="#__codelineno-118-7"></a><span class="go">Get:5 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [154 kB]</span>
<a id="__codelineno-118-8" name="__codelineno-118-8" href="#__codelineno-118-8"></a><span class="go">Get:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [2592 B]</span>
<a id="__codelineno-118-9" name="__codelineno-118-9" href="#__codelineno-118-9"></a><span class="go">Fetched 8539 kB in 39s (218 kB/s)</span>
<a id="__codelineno-118-10" name="__codelineno-118-10" href="#__codelineno-118-10"></a><span class="go">Reading package lists... Done</span>
<a id="__codelineno-118-11" name="__codelineno-118-11" href="#__codelineno-118-11"></a><span class="go">Building dependency tree... Done</span>
<a id="__codelineno-118-12" name="__codelineno-118-12" href="#__codelineno-118-12"></a><span class="go">Reading state information... Done</span>
<a id="__codelineno-118-13" name="__codelineno-118-13" href="#__codelineno-118-13"></a><span class="go">1 package can be upgraded. Run &#39;apt list --upgradable&#39; to see it.</span>
<a id="__codelineno-118-14" name="__codelineno-118-14" href="#__codelineno-118-14"></a><span class="gp">root@646845be5f23:/# </span>apt<span class="w"> </span>install<span class="w"> </span>dnsutils<span class="w"> </span>-y
<a id="__codelineno-118-15" name="__codelineno-118-15" href="#__codelineno-118-15"></a><span class="go">Reading package lists... Done</span>
<a id="__codelineno-118-16" name="__codelineno-118-16" href="#__codelineno-118-16"></a><span class="go">Building dependency tree... Done</span>
<a id="__codelineno-118-17" name="__codelineno-118-17" href="#__codelineno-118-17"></a><span class="go">Reading state information... Done</span>
<a id="__codelineno-118-18" name="__codelineno-118-18" href="#__codelineno-118-18"></a><span class="go">The following additional packages will be installed:</span>
<a id="__codelineno-118-19" name="__codelineno-118-19" href="#__codelineno-118-19"></a><span class="go">  bind9-dnsutils bind9-host bind9-libs libbsd0 libedit2 libfstrm0 libicu67 libjson-c5 liblmdb0 libmaxminddb0 libmd0 libprotobuf-c1 libuv1 libxml2</span>
<a id="__codelineno-118-20" name="__codelineno-118-20" href="#__codelineno-118-20"></a><span class="go">Suggested packages:</span>
<a id="__codelineno-118-21" name="__codelineno-118-21" href="#__codelineno-118-21"></a><span class="go">  mmdb-bin</span>
<a id="__codelineno-118-22" name="__codelineno-118-22" href="#__codelineno-118-22"></a><span class="go">The following NEW packages will be installed:</span>
<a id="__codelineno-118-23" name="__codelineno-118-23" href="#__codelineno-118-23"></a><span class="go">  bind9-dnsutils bind9-host bind9-libs dnsutils libbsd0 libedit2 libfstrm0 libicu67 libjson-c5 liblmdb0 libmaxminddb0 libmd0 libprotobuf-c1 libuv1 libxml2</span>
<a id="__codelineno-118-24" name="__codelineno-118-24" href="#__codelineno-118-24"></a><span class="go">0 upgraded, 15 newly installed, 0 to remove and 1 not upgraded.</span>
<a id="__codelineno-118-25" name="__codelineno-118-25" href="#__codelineno-118-25"></a><span class="go">Need to get 12.2 MB of archives.</span>
<a id="__codelineno-118-26" name="__codelineno-118-26" href="#__codelineno-118-26"></a><span class="go">After this operation, 42.3 MB of additional disk space will be used.</span>
<a id="__codelineno-118-27" name="__codelineno-118-27" href="#__codelineno-118-27"></a><span class="go">Selecting previously unselected package libicu67:amd64.</span>
<a id="__codelineno-118-28" name="__codelineno-118-28" href="#__codelineno-118-28"></a><span class="go">Preparing to unpack .../06-libicu67_67.1-7_amd64.deb ...</span>
<a id="__codelineno-118-29" name="__codelineno-118-29" href="#__codelineno-118-29"></a><span class="go">Unpacking libicu67:amd64 (67.1-7) ...</span>
<a id="__codelineno-118-30" name="__codelineno-118-30" href="#__codelineno-118-30"></a><span class="go">Selecting previously unselected package libxml2:amd64.</span>
<a id="__codelineno-118-31" name="__codelineno-118-31" href="#__codelineno-118-31"></a><span class="go">Preparing to unpack .../07-libxml2_2.9.10+dfsg-6.7+deb11u2_amd64.deb ...</span>
<a id="__codelineno-118-32" name="__codelineno-118-32" href="#__codelineno-118-32"></a><span class="go">Unpacking libxml2:amd64 (2.9.10+dfsg-6.7+deb11u2) ...</span>
<a id="__codelineno-118-33" name="__codelineno-118-33" href="#__codelineno-118-33"></a><span class="go">Selecting previously unselected package bind9-libs:amd64.</span>
<a id="__codelineno-118-34" name="__codelineno-118-34" href="#__codelineno-118-34"></a><span class="go">Preparing to unpack .../08-bind9-libs_1%3a9.16.27-1~deb11u1_amd64.deb ...</span>
<a id="__codelineno-118-35" name="__codelineno-118-35" href="#__codelineno-118-35"></a><span class="go">Unpacking bind9-libs:amd64 (1:9.16.27-1~deb11u1) ...</span>
<a id="__codelineno-118-36" name="__codelineno-118-36" href="#__codelineno-118-36"></a><span class="go">Selecting previously unselected package bind9-host.</span>
<a id="__codelineno-118-37" name="__codelineno-118-37" href="#__codelineno-118-37"></a><span class="go">Preparing to unpack .../09-bind9-host_1%3a9.16.27-1~deb11u1_amd64.deb ...</span>
<a id="__codelineno-118-38" name="__codelineno-118-38" href="#__codelineno-118-38"></a><span class="go">Unpacking bind9-host (1:9.16.27-1~deb11u1) ...</span>
<a id="__codelineno-118-39" name="__codelineno-118-39" href="#__codelineno-118-39"></a><span class="go">Selecting previously unselected package libmd0:amd64.</span>
<a id="__codelineno-118-40" name="__codelineno-118-40" href="#__codelineno-118-40"></a><span class="go">Preparing to unpack .../10-libmd0_1.0.3-3_amd64.deb ...</span>
<a id="__codelineno-118-41" name="__codelineno-118-41" href="#__codelineno-118-41"></a><span class="go">Unpacking libmd0:amd64 (1.0.3-3) ...</span>
<a id="__codelineno-118-42" name="__codelineno-118-42" href="#__codelineno-118-42"></a><span class="go">Selecting previously unselected package libbsd0:amd64.</span>
<a id="__codelineno-118-43" name="__codelineno-118-43" href="#__codelineno-118-43"></a><span class="go">Preparing to unpack .../11-libbsd0_0.11.3-1_amd64.deb ...</span>
<a id="__codelineno-118-44" name="__codelineno-118-44" href="#__codelineno-118-44"></a><span class="go">Unpacking libbsd0:amd64 (0.11.3-1) ...</span>
<a id="__codelineno-118-45" name="__codelineno-118-45" href="#__codelineno-118-45"></a><span class="go">Selecting previously unselected package libedit2:amd64.</span>
<a id="__codelineno-118-46" name="__codelineno-118-46" href="#__codelineno-118-46"></a><span class="go">Preparing to unpack .../12-libedit2_3.1-20191231-2+b1_amd64.deb ...</span>
<a id="__codelineno-118-47" name="__codelineno-118-47" href="#__codelineno-118-47"></a><span class="go">Unpacking libedit2:amd64 (3.1-20191231-2+b1) ...</span>
<a id="__codelineno-118-48" name="__codelineno-118-48" href="#__codelineno-118-48"></a><span class="go">Selecting previously unselected package bind9-dnsutils.</span>
<a id="__codelineno-118-49" name="__codelineno-118-49" href="#__codelineno-118-49"></a><span class="go">Preparing to unpack .../13-bind9-dnsutils_1%3a9.16.27-1~deb11u1_amd64.deb ...</span>
<a id="__codelineno-118-50" name="__codelineno-118-50" href="#__codelineno-118-50"></a><span class="go">Unpacking bind9-dnsutils (1:9.16.27-1~deb11u1) ...</span>
<a id="__codelineno-118-51" name="__codelineno-118-51" href="#__codelineno-118-51"></a><span class="go">Selecting previously unselected package dnsutils.</span>
<a id="__codelineno-118-52" name="__codelineno-118-52" href="#__codelineno-118-52"></a><span class="go">Preparing to unpack .../14-dnsutils_1%3a9.16.27-1~deb11u1_all.deb ...</span>
<a id="__codelineno-118-53" name="__codelineno-118-53" href="#__codelineno-118-53"></a><span class="go">Unpacking dnsutils (1:9.16.27-1~deb11u1) ...</span>
<a id="__codelineno-118-54" name="__codelineno-118-54" href="#__codelineno-118-54"></a><span class="go">Setting up liblmdb0:amd64 (0.9.24-1) ...</span>
<a id="__codelineno-118-55" name="__codelineno-118-55" href="#__codelineno-118-55"></a><span class="go">Setting up libicu67:amd64 (67.1-7) ...</span>
<a id="__codelineno-118-56" name="__codelineno-118-56" href="#__codelineno-118-56"></a><span class="go">Setting up libmaxminddb0:amd64 (1.5.2-1) ...</span>
<a id="__codelineno-118-57" name="__codelineno-118-57" href="#__codelineno-118-57"></a><span class="go">Setting up libfstrm0:amd64 (0.6.0-1+b1) ...</span>
<a id="__codelineno-118-58" name="__codelineno-118-58" href="#__codelineno-118-58"></a><span class="go">Setting up libprotobuf-c1:amd64 (1.3.3-1+b2) ...</span>
<a id="__codelineno-118-59" name="__codelineno-118-59" href="#__codelineno-118-59"></a><span class="go">Setting up libuv1:amd64 (1.40.0-2) ...</span>
<a id="__codelineno-118-60" name="__codelineno-118-60" href="#__codelineno-118-60"></a><span class="go">Setting up libmd0:amd64 (1.0.3-3) ...</span>
<a id="__codelineno-118-61" name="__codelineno-118-61" href="#__codelineno-118-61"></a><span class="go">Setting up libbsd0:amd64 (0.11.3-1) ...</span>
<a id="__codelineno-118-62" name="__codelineno-118-62" href="#__codelineno-118-62"></a><span class="go">Setting up libjson-c5:amd64 (0.15-2) ...</span>
<a id="__codelineno-118-63" name="__codelineno-118-63" href="#__codelineno-118-63"></a><span class="go">Setting up libxml2:amd64 (2.9.10+dfsg-6.7+deb11u2) ...</span>
<a id="__codelineno-118-64" name="__codelineno-118-64" href="#__codelineno-118-64"></a><span class="go">Setting up bind9-libs:amd64 (1:9.16.27-1~deb11u1) ...</span>
<a id="__codelineno-118-65" name="__codelineno-118-65" href="#__codelineno-118-65"></a><span class="go">Setting up libedit2:amd64 (3.1-20191231-2+b1) ...</span>
<a id="__codelineno-118-66" name="__codelineno-118-66" href="#__codelineno-118-66"></a><span class="go">Setting up bind9-host (1:9.16.27-1~deb11u1) ...</span>
<a id="__codelineno-118-67" name="__codelineno-118-67" href="#__codelineno-118-67"></a><span class="go">Setting up bind9-dnsutils (1:9.16.27-1~deb11u1) ...</span>
<a id="__codelineno-118-68" name="__codelineno-118-68" href="#__codelineno-118-68"></a><span class="go">Setting up dnsutils (1:9.16.27-1~deb11u1) ...</span>
<a id="__codelineno-118-69" name="__codelineno-118-69" href="#__codelineno-118-69"></a><span class="go">Processing triggers for libc-bin (2.31-13+deb11u3) ...</span>
<a id="__codelineno-118-70" name="__codelineno-118-70" href="#__codelineno-118-70"></a><span class="gp">root@646845be5f23:/# </span>dig<span class="w"> </span>my-apache-app
<a id="__codelineno-118-71" name="__codelineno-118-71" href="#__codelineno-118-71"></a>
<a id="__codelineno-118-72" name="__codelineno-118-72" href="#__codelineno-118-72"></a><span class="go">; &lt;&lt;&gt;&gt; DiG 9.16.27-Debian &lt;&lt;&gt;&gt; my-apache-app</span>
<a id="__codelineno-118-73" name="__codelineno-118-73" href="#__codelineno-118-73"></a><span class="go">;; global options: +cmd</span>
<a id="__codelineno-118-74" name="__codelineno-118-74" href="#__codelineno-118-74"></a><span class="go">;; Got answer:</span>
<a id="__codelineno-118-75" name="__codelineno-118-75" href="#__codelineno-118-75"></a><span class="go">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 52630</span>
<a id="__codelineno-118-76" name="__codelineno-118-76" href="#__codelineno-118-76"></a><span class="go">;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0</span>
<a id="__codelineno-118-77" name="__codelineno-118-77" href="#__codelineno-118-77"></a>
<a id="__codelineno-118-78" name="__codelineno-118-78" href="#__codelineno-118-78"></a><span class="go">;; QUESTION SECTION:</span>
<a id="__codelineno-118-79" name="__codelineno-118-79" href="#__codelineno-118-79"></a><span class="go">;my-apache-app.         IN  A</span>
<a id="__codelineno-118-80" name="__codelineno-118-80" href="#__codelineno-118-80"></a>
<a id="__codelineno-118-81" name="__codelineno-118-81" href="#__codelineno-118-81"></a><span class="go">;; ANSWER SECTION:</span>
<a id="__codelineno-118-82" name="__codelineno-118-82" href="#__codelineno-118-82"></a><span class="go">my-apache-app.          600 IN  A   172.21.0.2</span>
<a id="__codelineno-118-83" name="__codelineno-118-83" href="#__codelineno-118-83"></a>
<a id="__codelineno-118-84" name="__codelineno-118-84" href="#__codelineno-118-84"></a><span class="go">;; Query time: 0 msec</span>
<a id="__codelineno-118-85" name="__codelineno-118-85" href="#__codelineno-118-85"></a><span class="go">;; SERVER: 127.0.0.11#53(127.0.0.11)</span>
<a id="__codelineno-118-86" name="__codelineno-118-86" href="#__codelineno-118-86"></a><span class="go">;; WHEN: Mon Jun 13 19:17:31 UTC 2022</span>
<a id="__codelineno-118-87" name="__codelineno-118-87" href="#__codelineno-118-87"></a><span class="go">;; MSG SIZE  rcvd: 60</span>
</code></pre></div>
<p>Comprobaremos el servidor DNS del contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-119-1" name="__codelineno-119-1" href="#__codelineno-119-1"></a><span class="gp">root@646845be5f23:/# </span>cat<span class="w"> </span>/etc/resolv.conf
<a id="__codelineno-119-2" name="__codelineno-119-2" href="#__codelineno-119-2"></a><span class="go">nameserver 127.0.0.11</span>
<a id="__codelineno-119-3" name="__codelineno-119-3" href="#__codelineno-119-3"></a><span class="go">options ndots:0</span>
</code></pre></div>
<p>Desde los dos contenedores se pueden resolver los dos nombres:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-120-1" name="__codelineno-120-1" href="#__codelineno-120-1"></a><span class="gp">root@646845be5f23:/# </span>dig<span class="w"> </span>contenedor1
<a id="__codelineno-120-2" name="__codelineno-120-2" href="#__codelineno-120-2"></a>
<a id="__codelineno-120-3" name="__codelineno-120-3" href="#__codelineno-120-3"></a><span class="go">; &lt;&lt;&gt;&gt; DiG 9.16.27-Debian &lt;&lt;&gt;&gt; contenedor1</span>
<a id="__codelineno-120-4" name="__codelineno-120-4" href="#__codelineno-120-4"></a><span class="go">;; global options: +cmd</span>
<a id="__codelineno-120-5" name="__codelineno-120-5" href="#__codelineno-120-5"></a><span class="go">;; Got answer:</span>
<a id="__codelineno-120-6" name="__codelineno-120-6" href="#__codelineno-120-6"></a><span class="go">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 3203</span>
<a id="__codelineno-120-7" name="__codelineno-120-7" href="#__codelineno-120-7"></a><span class="go">;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0</span>
<a id="__codelineno-120-8" name="__codelineno-120-8" href="#__codelineno-120-8"></a>
<a id="__codelineno-120-9" name="__codelineno-120-9" href="#__codelineno-120-9"></a><span class="go">;; QUESTION SECTION:</span>
<a id="__codelineno-120-10" name="__codelineno-120-10" href="#__codelineno-120-10"></a><span class="go">;contenedor1.                       IN  A</span>
<a id="__codelineno-120-11" name="__codelineno-120-11" href="#__codelineno-120-11"></a>
<a id="__codelineno-120-12" name="__codelineno-120-12" href="#__codelineno-120-12"></a><span class="go">;; ANSWER SECTION:</span>
<a id="__codelineno-120-13" name="__codelineno-120-13" href="#__codelineno-120-13"></a><span class="go">contenedor1.            600 IN  A   172.21.0.3</span>
<a id="__codelineno-120-14" name="__codelineno-120-14" href="#__codelineno-120-14"></a>
<a id="__codelineno-120-15" name="__codelineno-120-15" href="#__codelineno-120-15"></a><span class="go">;; Query time: 0 msec</span>
<a id="__codelineno-120-16" name="__codelineno-120-16" href="#__codelineno-120-16"></a><span class="go">;; SERVER: 127.0.0.11#53(127.0.0.11)</span>
<a id="__codelineno-120-17" name="__codelineno-120-17" href="#__codelineno-120-17"></a><span class="go">;; WHEN: Mon Jun 13 19:24:38 UTC 2022</span>
<a id="__codelineno-120-18" name="__codelineno-120-18" href="#__codelineno-120-18"></a><span class="go">;; MSG SIZE  rcvd: 56</span>
</code></pre></div>
<h4 id="conectando-los-contenedores-a-otras-redes">Conectando los contenedores a otras redes</h4>
<p>Creamos una red bridge con direccionamiento:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-121-1" name="__codelineno-121-1" href="#__codelineno-121-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>red2<span class="w"> </span>--subnet<span class="w"> </span><span class="m">192</span>.168.100.0/24<span class="w"> </span>--gateway<span class="w"> </span><span class="m">192</span>.168.100.1
<a id="__codelineno-121-2" name="__codelineno-121-2" href="#__codelineno-121-2"></a><span class="go">8090d398ee4247a29a17946a161a6e7746d45c6af098b911f5b0334f56ddd32e</span>
</code></pre></div>
<p>Creamos un contenedor conectado a red2 y comprobamos que no tiene conectividad con red1:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-122-1" name="__codelineno-122-1" href="#__codelineno-122-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--name<span class="w"> </span>contenedor2<span class="w"> </span>--network<span class="w"> </span>red2<span class="w"> </span>debian<span class="w"> </span>bash
<a id="__codelineno-122-2" name="__codelineno-122-2" href="#__codelineno-122-2"></a><span class="gp">root@bd0dcf22141c:/# </span>ip<span class="w"> </span>a
<a id="__codelineno-122-3" name="__codelineno-122-3" href="#__codelineno-122-3"></a><span class="go">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span>
<a id="__codelineno-122-4" name="__codelineno-122-4" href="#__codelineno-122-4"></a><span class="go">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span>
<a id="__codelineno-122-5" name="__codelineno-122-5" href="#__codelineno-122-5"></a><span class="go">    inet 127.0.0.1/8 scope host lo</span>
<a id="__codelineno-122-6" name="__codelineno-122-6" href="#__codelineno-122-6"></a><span class="go">       valid_lft forever preferred_lft forever</span>
<a id="__codelineno-122-7" name="__codelineno-122-7" href="#__codelineno-122-7"></a><span class="go">11: eth0@if12: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default</span>
<a id="__codelineno-122-8" name="__codelineno-122-8" href="#__codelineno-122-8"></a><span class="go">    link/ether 02:42:c0:a8:64:02 brd ff:ff:ff:ff:ff:ff link-netnsid 0</span>
<a id="__codelineno-122-9" name="__codelineno-122-9" href="#__codelineno-122-9"></a><span class="go">    inet 192.168.100.2/24 brd 192.168.100.255 scope global eth0</span>
<a id="__codelineno-122-10" name="__codelineno-122-10" href="#__codelineno-122-10"></a><span class="go">       valid_lft forever preferred_lft forever</span>
<a id="__codelineno-122-11" name="__codelineno-122-11" href="#__codelineno-122-11"></a><span class="gp">root@bd0dcf22141c:/# </span>ping<span class="w"> </span>contenedor1
<a id="__codelineno-122-12" name="__codelineno-122-12" href="#__codelineno-122-12"></a><span class="go">ping: contenedor1: Name or service not known</span>
</code></pre></div>
<p>Conectamos un contenedor a una red:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-123-1" name="__codelineno-123-1" href="#__codelineno-123-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>connect<span class="w"> </span>red2<span class="w"> </span>contenedor1
<a id="__codelineno-123-2" name="__codelineno-123-2" href="#__codelineno-123-2"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>start<span class="w"> </span>contenedor1
<a id="__codelineno-123-3" name="__codelineno-123-3" href="#__codelineno-123-3"></a><span class="go">contenedor1</span>
<a id="__codelineno-123-4" name="__codelineno-123-4" href="#__codelineno-123-4"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>start<span class="w"> </span>contenedor2
<a id="__codelineno-123-5" name="__codelineno-123-5" href="#__codelineno-123-5"></a><span class="go">contenedor2</span>
<a id="__codelineno-123-6" name="__codelineno-123-6" href="#__codelineno-123-6"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>attach<span class="w"> </span>contenedor1
<a id="__codelineno-123-7" name="__codelineno-123-7" href="#__codelineno-123-7"></a><span class="gp">root@4dd5cddfcc4d:/# </span>ip<span class="w"> </span>a
<a id="__codelineno-123-8" name="__codelineno-123-8" href="#__codelineno-123-8"></a><span class="go">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span>
<a id="__codelineno-123-9" name="__codelineno-123-9" href="#__codelineno-123-9"></a><span class="go">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span>
<a id="__codelineno-123-10" name="__codelineno-123-10" href="#__codelineno-123-10"></a><span class="go">    inet 127.0.0.1/8 scope host lo</span>
<a id="__codelineno-123-11" name="__codelineno-123-11" href="#__codelineno-123-11"></a><span class="go">       valid_lft forever preferred_lft forever</span>
<a id="__codelineno-123-12" name="__codelineno-123-12" href="#__codelineno-123-12"></a><span class="go">13: eth0@if14: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default</span>
<a id="__codelineno-123-13" name="__codelineno-123-13" href="#__codelineno-123-13"></a><span class="go">    link/ether 02:42:ac:15:00:02 brd ff:ff:ff:ff:ff:ff link-netnsid 0</span>
<a id="__codelineno-123-14" name="__codelineno-123-14" href="#__codelineno-123-14"></a><span class="go">    inet 172.21.0.2/16 brd 172.21.255.255 scope global eth0</span>
<a id="__codelineno-123-15" name="__codelineno-123-15" href="#__codelineno-123-15"></a><span class="go">       valid_lft forever preferred_lft forever</span>
<a id="__codelineno-123-16" name="__codelineno-123-16" href="#__codelineno-123-16"></a><span class="go">15: eth1@if16: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default</span>
<a id="__codelineno-123-17" name="__codelineno-123-17" href="#__codelineno-123-17"></a><span class="go">    link/ether 02:42:c0:a8:64:02 brd ff:ff:ff:ff:ff:ff link-netnsid 0</span>
<a id="__codelineno-123-18" name="__codelineno-123-18" href="#__codelineno-123-18"></a><span class="go">    inet 192.168.100.2/24 brd 192.168.100.255 scope global eth1</span>
<a id="__codelineno-123-19" name="__codelineno-123-19" href="#__codelineno-123-19"></a><span class="go">       valid_lft forever preferred_lft forever</span>
<a id="__codelineno-123-20" name="__codelineno-123-20" href="#__codelineno-123-20"></a><span class="gp">root@4dd5cddfcc4d:/# </span>ping<span class="w"> </span>contenedor2
<a id="__codelineno-123-21" name="__codelineno-123-21" href="#__codelineno-123-21"></a><span class="go">PING contenedor2 (192.168.100.3) 56(84) bytes of data.</span>
<a id="__codelineno-123-22" name="__codelineno-123-22" href="#__codelineno-123-22"></a><span class="go">64 bytes from contenedor2.red2 (192.168.100.3): icmp_seq=1 ttl=64 time=0.200 ms</span>
<a id="__codelineno-123-23" name="__codelineno-123-23" href="#__codelineno-123-23"></a><span class="go">64 bytes from contenedor2.red2 (192.168.100.3): icmp_seq=2 ttl=64 time=0.100 ms</span>
<a id="__codelineno-123-24" name="__codelineno-123-24" href="#__codelineno-123-24"></a><span class="go">^C</span>
<a id="__codelineno-123-25" name="__codelineno-123-25" href="#__codelineno-123-25"></a><span class="go">--- contenedor2 ping statistics ---</span>
<a id="__codelineno-123-26" name="__codelineno-123-26" href="#__codelineno-123-26"></a><span class="go">2 packets transmitted, 2 received, 0% packet loss, time 1001ms</span>
<a id="__codelineno-123-27" name="__codelineno-123-27" href="#__codelineno-123-27"></a><span class="go">rtt min/avg/max/mdev = 0.100/0.150/0.200/0.050 ms</span>
</code></pre></div>
<p><code>contenedor2</code> tiene conectividad con <code>contenedor1</code>, pero no con <code>my-apache-app</code> <em>(porque no está conectado a red2)</em>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-124-1" name="__codelineno-124-1" href="#__codelineno-124-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>attach<span class="w"> </span>contenedor2
<a id="__codelineno-124-2" name="__codelineno-124-2" href="#__codelineno-124-2"></a><span class="gp">root@bd0dcf22141c:/# </span>ping<span class="w"> </span>contenedor1
<a id="__codelineno-124-3" name="__codelineno-124-3" href="#__codelineno-124-3"></a><span class="go">PING contenedor1 (192.168.100.2) 56(84) bytes of data.</span>
<a id="__codelineno-124-4" name="__codelineno-124-4" href="#__codelineno-124-4"></a><span class="go">64 bytes from contenedor1.red2 (192.168.100.2): icmp_seq=1 ttl=64 time=0.185 ms</span>
<a id="__codelineno-124-5" name="__codelineno-124-5" href="#__codelineno-124-5"></a><span class="go">^C</span>
<a id="__codelineno-124-6" name="__codelineno-124-6" href="#__codelineno-124-6"></a><span class="go">--- contenedor1 ping statistics ---</span>
<a id="__codelineno-124-7" name="__codelineno-124-7" href="#__codelineno-124-7"></a><span class="go">1 packets transmitted, 1 received, 0% packet loss, time 0ms</span>
<a id="__codelineno-124-8" name="__codelineno-124-8" href="#__codelineno-124-8"></a><span class="go">rtt min/avg/max/mdev = 0.185/0.185/0.185/0.000 ms</span>
<a id="__codelineno-124-9" name="__codelineno-124-9" href="#__codelineno-124-9"></a><span class="gp">root@bd0dcf22141c:/# </span>ping<span class="w"> </span>my-apache-app
<a id="__codelineno-124-10" name="__codelineno-124-10" href="#__codelineno-124-10"></a><span class="go">ping: my-apache-app: Name or service not known</span>
</code></pre></div>
<h4 id="mas-opciones-al-trabajar-con-redes-en-docker">Más opciones al trabajar con redes en Docker</h4>
<p>Creo una red:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-125-1" name="__codelineno-125-1" href="#__codelineno-125-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>--subnet<span class="w"> </span><span class="m">192</span>.168.100.0/24<span class="w"> </span>red3
<a id="__codelineno-125-2" name="__codelineno-125-2" href="#__codelineno-125-2"></a><span class="go">74a6c4d6fa938121164d00f5cbfeda62ffb1b6845b1446679c275c5189a77e40</span>
</code></pre></div>
<p>Lanzamos un contenedor en esta red:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-126-1" name="__codelineno-126-1" href="#__codelineno-126-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--name<span class="w"> </span>contenedor<span class="w"> </span>--network<span class="w"> </span>red3<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-126-2" name="__codelineno-126-2" href="#__codelineno-126-2"></a><span class="w">                                   </span>--ip<span class="w"> </span><span class="m">192</span>.168.100.10<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-126-3" name="__codelineno-126-3" href="#__codelineno-126-3"></a><span class="w">                                   </span>--add-host<span class="o">=</span>testing.example.com:192.168.100.20<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-126-4" name="__codelineno-126-4" href="#__codelineno-126-4"></a><span class="w">                                   </span>--dns<span class="w"> </span><span class="m">8</span>.8.8.8<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-126-5" name="__codelineno-126-5" href="#__codelineno-126-5"></a><span class="w">                                   </span>--hostname<span class="w"> </span>servidor1<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-126-6" name="__codelineno-126-6" href="#__codelineno-126-6"></a><span class="w">                                   </span>debian
<a id="__codelineno-126-7" name="__codelineno-126-7" href="#__codelineno-126-7"></a><span class="gp">root@servidor1:/#</span>
</code></pre></div>
<p><code>--hostname servidor1</code> configuró el hostname:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-127-1" name="__codelineno-127-1" href="#__codelineno-127-1"></a><span class="gp">root@servidor1:/# </span>cat<span class="w"> </span>/etc/hostname
<a id="__codelineno-127-2" name="__codelineno-127-2" href="#__codelineno-127-2"></a><span class="go">servidor1</span>
</code></pre></div>
<p><code>--ip 192.168.100.10</code> configuró la IP fija:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-128-1" name="__codelineno-128-1" href="#__codelineno-128-1"></a><span class="gp">root@servidor1:/# </span>ip<span class="w"> </span>a
<a id="__codelineno-128-2" name="__codelineno-128-2" href="#__codelineno-128-2"></a><span class="go">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span>
<a id="__codelineno-128-3" name="__codelineno-128-3" href="#__codelineno-128-3"></a><span class="go">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span>
<a id="__codelineno-128-4" name="__codelineno-128-4" href="#__codelineno-128-4"></a><span class="go">    inet 127.0.0.1/8 scope host lo</span>
<a id="__codelineno-128-5" name="__codelineno-128-5" href="#__codelineno-128-5"></a><span class="go">       valid_lft forever preferred_lft forever</span>
<a id="__codelineno-128-6" name="__codelineno-128-6" href="#__codelineno-128-6"></a><span class="go">28: eth0@if29: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default</span>
<a id="__codelineno-128-7" name="__codelineno-128-7" href="#__codelineno-128-7"></a><span class="go">    link/ether 02:42:c0:a8:64:0a brd ff:ff:ff:ff:ff:ff link-netnsid 0</span>
<a id="__codelineno-128-8" name="__codelineno-128-8" href="#__codelineno-128-8"></a><span class="go">    inet 192.168.100.10/24 brd 192.168.100.255 scope global eth0</span>
<a id="__codelineno-128-9" name="__codelineno-128-9" href="#__codelineno-128-9"></a><span class="go">       valid_lft forever preferred_lft forever</span>
</code></pre></div>
<p><code>--add-host=testing.example.com:192.168.100.20</code> configuró un host en <code>/etc/hosts</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-129-1" name="__codelineno-129-1" href="#__codelineno-129-1"></a><span class="gp">root@servidor1:/# </span>cat<span class="w"> </span>/etc/hosts
<a id="__codelineno-129-2" name="__codelineno-129-2" href="#__codelineno-129-2"></a><span class="go">127.0.0.1   localhost</span>
<a id="__codelineno-129-3" name="__codelineno-129-3" href="#__codelineno-129-3"></a><span class="go">::1 localhost ip6-localhost ip6-loopback</span>
<a id="__codelineno-129-4" name="__codelineno-129-4" href="#__codelineno-129-4"></a><span class="go">fe00::0ip6-localnet</span>
<a id="__codelineno-129-5" name="__codelineno-129-5" href="#__codelineno-129-5"></a><span class="go">ff00::0ip6-mcastprefix</span>
<a id="__codelineno-129-6" name="__codelineno-129-6" href="#__codelineno-129-6"></a><span class="go">ff02::1ip6-allnodes</span>
<a id="__codelineno-129-7" name="__codelineno-129-7" href="#__codelineno-129-7"></a><span class="go">ff02::2ip6-allrouters</span>
<a id="__codelineno-129-8" name="__codelineno-129-8" href="#__codelineno-129-8"></a><span class="go">192.168.100.20  testing.example.com</span>
<a id="__codelineno-129-9" name="__codelineno-129-9" href="#__codelineno-129-9"></a><span class="go">192.168.100.10  servidor1</span>
<a id="__codelineno-129-10" name="__codelineno-129-10" href="#__codelineno-129-10"></a><span class="gp">root@servidor1:/# </span>ping<span class="w"> </span>testing.example.com
<a id="__codelineno-129-11" name="__codelineno-129-11" href="#__codelineno-129-11"></a><span class="go">PING testing.example.com (192.168.100.20) 56(84) bytes of data.</span>
<a id="__codelineno-129-12" name="__codelineno-129-12" href="#__codelineno-129-12"></a><span class="go">^C</span>
<a id="__codelineno-129-13" name="__codelineno-129-13" href="#__codelineno-129-13"></a><span class="go">--- testing.example.com ping statistics ---</span>
<a id="__codelineno-129-14" name="__codelineno-129-14" href="#__codelineno-129-14"></a><span class="go">3 packets transmitted, 0 received, 100% packet loss, time 2029ms</span>
</code></pre></div>
<p><code>--dns 8.8.8.8</code> configuró el DNS:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-130-1" name="__codelineno-130-1" href="#__codelineno-130-1"></a><span class="gp">root@servidor1:/# </span>cat<span class="w"> </span>/etc/resolv.conf
<a id="__codelineno-130-2" name="__codelineno-130-2" href="#__codelineno-130-2"></a><span class="go">nameserver 127.0.0.11</span>
<a id="__codelineno-130-3" name="__codelineno-130-3" href="#__codelineno-130-3"></a><span class="go">options ndots:0</span>
</code></pre></div>
<p>Este DNS que vemos <em>(que siempre se crea en las redes bridge de usuario)</em> hará forward al que nosotros hemos configurado.</p>
<h3 id="convertir-el-uso-de-la-red-bridge-por-defecto-por-una-definida-por-el-usuario">Convertir el uso de la red bridge por defecto por una definida por el usuario</h3>
<p>Lanzamos un mongo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-131-1" name="__codelineno-131-1" href="#__codelineno-131-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>some-mongo<span class="w"> </span>mongo
<a id="__codelineno-131-2" name="__codelineno-131-2" href="#__codelineno-131-2"></a><span class="go">Unable to find image &#39;mongo:latest&#39; locally</span>
<a id="__codelineno-131-3" name="__codelineno-131-3" href="#__codelineno-131-3"></a><span class="go">latest: Pulling from library/mongo</span>
<a id="__codelineno-131-4" name="__codelineno-131-4" href="#__codelineno-131-4"></a><span class="go">d7bfe07ed847: Pull complete</span>
<a id="__codelineno-131-5" name="__codelineno-131-5" href="#__codelineno-131-5"></a><span class="go">97ef66a8492a: Pull complete</span>
<a id="__codelineno-131-6" name="__codelineno-131-6" href="#__codelineno-131-6"></a><span class="go">20cec14c8f9e: Pull complete</span>
<a id="__codelineno-131-7" name="__codelineno-131-7" href="#__codelineno-131-7"></a><span class="go">38c3018eb09a: Pull complete</span>
<a id="__codelineno-131-8" name="__codelineno-131-8" href="#__codelineno-131-8"></a><span class="go">ccc9e1c2556b: Pull complete</span>
<a id="__codelineno-131-9" name="__codelineno-131-9" href="#__codelineno-131-9"></a><span class="go">593c62d03532: Pull complete</span>
<a id="__codelineno-131-10" name="__codelineno-131-10" href="#__codelineno-131-10"></a><span class="go">1a103a446c3f: Pull complete</span>
<a id="__codelineno-131-11" name="__codelineno-131-11" href="#__codelineno-131-11"></a><span class="go">be887b845d3f: Pull complete</span>
<a id="__codelineno-131-12" name="__codelineno-131-12" href="#__codelineno-131-12"></a><span class="go">e5543880b183: Pull complete</span>
<a id="__codelineno-131-13" name="__codelineno-131-13" href="#__codelineno-131-13"></a><span class="go">Digest: sha256:3745209b24062a8ba670878bce47ad9c944682f550044721c4abc5b4daeb863d</span>
<a id="__codelineno-131-14" name="__codelineno-131-14" href="#__codelineno-131-14"></a><span class="go">Status: Downloaded newer image for mongo:latest</span>
<a id="__codelineno-131-15" name="__codelineno-131-15" href="#__codelineno-131-15"></a><span class="go">b369ad614dad75e83e45c1bf0faff34ea286d477d4afc7b39b98f1b0199adc5e</span>
</code></pre></div>
<p>Lanzamos un lets-chat enlazado con el mongo anterior:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-132-1" name="__codelineno-132-1" href="#__codelineno-132-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>some-letschat<span class="w"> </span>--link<span class="w"> </span>some-mongo:mongo<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:8080<span class="w"> </span>-d<span class="w"> </span>sdelements/lets-chat
<a id="__codelineno-132-2" name="__codelineno-132-2" href="#__codelineno-132-2"></a><span class="go">Unable to find image &#39;sdelements/lets-chat:latest&#39; locally</span>
<a id="__codelineno-132-3" name="__codelineno-132-3" href="#__codelineno-132-3"></a><span class="go">latest: Pulling from sdelements/lets-chat</span>
<a id="__codelineno-132-4" name="__codelineno-132-4" href="#__codelineno-132-4"></a><span class="go">6a5a5368e0c2: Pull complete</span>
<a id="__codelineno-132-5" name="__codelineno-132-5" href="#__codelineno-132-5"></a><span class="go">7b9457ec39de: Pull complete</span>
<a id="__codelineno-132-6" name="__codelineno-132-6" href="#__codelineno-132-6"></a><span class="go">22cf98377d30: Pull complete</span>
<a id="__codelineno-132-7" name="__codelineno-132-7" href="#__codelineno-132-7"></a><span class="go">01e6dd0c0aed: Pull complete</span>
<a id="__codelineno-132-8" name="__codelineno-132-8" href="#__codelineno-132-8"></a><span class="go">eef159360227: Pull complete</span>
<a id="__codelineno-132-9" name="__codelineno-132-9" href="#__codelineno-132-9"></a><span class="go">a77283727d00: Pull complete</span>
<a id="__codelineno-132-10" name="__codelineno-132-10" href="#__codelineno-132-10"></a><span class="go">050fb7768585: Pull complete</span>
<a id="__codelineno-132-11" name="__codelineno-132-11" href="#__codelineno-132-11"></a><span class="go">d2510806c35f: Pull complete</span>
<a id="__codelineno-132-12" name="__codelineno-132-12" href="#__codelineno-132-12"></a><span class="go">a75c55aa55f6: Pull complete</span>
<a id="__codelineno-132-13" name="__codelineno-132-13" href="#__codelineno-132-13"></a><span class="go">876c39157780: Pull complete</span>
<a id="__codelineno-132-14" name="__codelineno-132-14" href="#__codelineno-132-14"></a><span class="go">Digest: sha256:5b923d428176250653530fdac8a9f925043f30c511b77701662d7f8fab74961c</span>
<a id="__codelineno-132-15" name="__codelineno-132-15" href="#__codelineno-132-15"></a><span class="go">Status: Downloaded newer image for sdelements/lets-chat:latest</span>
<a id="__codelineno-132-16" name="__codelineno-132-16" href="#__codelineno-132-16"></a><span class="go">f078bbda16971fdf2eb830683e6c72688bb17b6cee07a00976130b419e7d7c7a</span>
</code></pre></div>
<p>Probamos que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/TlPKy8u.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="letschatbridgedefecto" src="https://i.imgur.com/TlPKy8u.jpg" /></a></p>
<h4 id="usando-una-red-bridge-de-usuario">Usando una red bridge de usuario</h4>
<p>Creamos la red:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-133-1" name="__codelineno-133-1" href="#__codelineno-133-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>red_letschat
<a id="__codelineno-133-2" name="__codelineno-133-2" href="#__codelineno-133-2"></a><span class="go">df63456e88c7d16a6bd0af594d4e8b0950f4e26c4b9870d067f7dc8f31dfd7db</span>
</code></pre></div>
<p>Lanzamos mongo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-134-1" name="__codelineno-134-1" href="#__codelineno-134-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--network<span class="w"> </span>red_letschat<span class="w"> </span>--name<span class="w"> </span>mongo<span class="w"> </span>mongo
<a id="__codelineno-134-2" name="__codelineno-134-2" href="#__codelineno-134-2"></a><span class="go">3583a31aa1d102886526217cb40f5bccaa088645eab416ad6ea5316dbeb7d1b5</span>
</code></pre></div>
<p>Lanzamos lets-chat:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-135-1" name="__codelineno-135-1" href="#__codelineno-135-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>some-letschat<span class="w"> </span>--network<span class="w"> </span>red_letschat<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:8080<span class="w"> </span>-d<span class="w"> </span>sdelements/lets-chat
<a id="__codelineno-135-2" name="__codelineno-135-2" href="#__codelineno-135-2"></a><span class="go">1f7157f43c7d3a60136e6908932b6fb1a6e89daf62951eed342e2d4f6dd8292e</span>
</code></pre></div>
<p>Probamos que funciona de nuevo:</p>
<p><a class="glightbox" href="https://i.imgur.com/OVFhjjQ.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="letschatbridgeusuario" src="https://i.imgur.com/OVFhjjQ.jpg" /></a></p>
<h3 id="ejemplo-1-despliegue-de-la-aplicacion-guestbook">Ejemplo 1: Despliegue de la aplicación Guestbook</h3>
<p>Creo la red:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-136-1" name="__codelineno-136-1" href="#__codelineno-136-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>red_guestbook
<a id="__codelineno-136-2" name="__codelineno-136-2" href="#__codelineno-136-2"></a><span class="go">0749760344c197032e1323c4add4a69912b444ab1ff6ce4a799f766d8e0db5e6</span>
</code></pre></div>
<p>Lanzo los contenedores:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-137-1" name="__codelineno-137-1" href="#__codelineno-137-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>redis<span class="w"> </span>--network<span class="w"> </span>red_guestbook<span class="w"> </span>redis
<a id="__codelineno-137-2" name="__codelineno-137-2" href="#__codelineno-137-2"></a><span class="go">Unable to find image &#39;redis:latest&#39; locally</span>
<a id="__codelineno-137-3" name="__codelineno-137-3" href="#__codelineno-137-3"></a><span class="go">latest: Pulling from library/redis</span>
<a id="__codelineno-137-4" name="__codelineno-137-4" href="#__codelineno-137-4"></a><span class="go">42c077c10790: Already exists</span>
<a id="__codelineno-137-5" name="__codelineno-137-5" href="#__codelineno-137-5"></a><span class="go">a300d83d65f9: Pull complete</span>
<a id="__codelineno-137-6" name="__codelineno-137-6" href="#__codelineno-137-6"></a><span class="go">ebdc3afaab5c: Pull complete</span>
<a id="__codelineno-137-7" name="__codelineno-137-7" href="#__codelineno-137-7"></a><span class="go">6ce178c713e4: Pull complete</span>
<a id="__codelineno-137-8" name="__codelineno-137-8" href="#__codelineno-137-8"></a><span class="go">949f9d8f429f: Pull complete</span>
<a id="__codelineno-137-9" name="__codelineno-137-9" href="#__codelineno-137-9"></a><span class="go">4076be5e5074: Pull complete</span>
<a id="__codelineno-137-10" name="__codelineno-137-10" href="#__codelineno-137-10"></a><span class="go">Digest: sha256:cfda0458239615720cc16d6edf6bae7905c31265f218d2033c43cdb40cd59792</span>
<a id="__codelineno-137-11" name="__codelineno-137-11" href="#__codelineno-137-11"></a><span class="go">Status: Downloaded newer image for redis:latest</span>
<a id="__codelineno-137-12" name="__codelineno-137-12" href="#__codelineno-137-12"></a><span class="go">96cf2e1a0af36d51cb58848eec71be9bbfaeb9596531fb3bb65b376796917860</span>
<a id="__codelineno-137-13" name="__codelineno-137-13" href="#__codelineno-137-13"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">80</span>:5000<span class="w"> </span>--name<span class="w"> </span>guestbook<span class="w"> </span>--network<span class="w"> </span>red_guestbook<span class="w"> </span>iesgn/guestbook
<a id="__codelineno-137-14" name="__codelineno-137-14" href="#__codelineno-137-14"></a><span class="go">Unable to find image &#39;iesgn/guestbook:latest&#39; locally</span>
<a id="__codelineno-137-15" name="__codelineno-137-15" href="#__codelineno-137-15"></a><span class="go">latest: Pulling from iesgn/guestbook</span>
<a id="__codelineno-137-16" name="__codelineno-137-16" href="#__codelineno-137-16"></a><span class="go">0ecb575e629c: Pull complete</span>
<a id="__codelineno-137-17" name="__codelineno-137-17" href="#__codelineno-137-17"></a><span class="go">7467d1831b69: Pull complete</span>
<a id="__codelineno-137-18" name="__codelineno-137-18" href="#__codelineno-137-18"></a><span class="go">feab2c490a3c: Pull complete</span>
<a id="__codelineno-137-19" name="__codelineno-137-19" href="#__codelineno-137-19"></a><span class="go">f15a0f46f8c3: Pull complete</span>
<a id="__codelineno-137-20" name="__codelineno-137-20" href="#__codelineno-137-20"></a><span class="go">937782447ff6: Pull complete</span>
<a id="__codelineno-137-21" name="__codelineno-137-21" href="#__codelineno-137-21"></a><span class="go">e78b7aaaab2c: Pull complete</span>
<a id="__codelineno-137-22" name="__codelineno-137-22" href="#__codelineno-137-22"></a><span class="go">dfce8611166c: Pull complete</span>
<a id="__codelineno-137-23" name="__codelineno-137-23" href="#__codelineno-137-23"></a><span class="go">3a6aeb6d9625: Pull complete</span>
<a id="__codelineno-137-24" name="__codelineno-137-24" href="#__codelineno-137-24"></a><span class="go">2b7e1323c92f: Pull complete</span>
<a id="__codelineno-137-25" name="__codelineno-137-25" href="#__codelineno-137-25"></a><span class="go">4bf029403d35: Pull complete</span>
<a id="__codelineno-137-26" name="__codelineno-137-26" href="#__codelineno-137-26"></a><span class="go">5e777db1f033: Pull complete</span>
<a id="__codelineno-137-27" name="__codelineno-137-27" href="#__codelineno-137-27"></a><span class="go">Digest: sha256:a1fc3e0652e324f643d1ebf8ab028d652aa10e13915bcc2c115d5dc9dd0ba7d2</span>
<a id="__codelineno-137-28" name="__codelineno-137-28" href="#__codelineno-137-28"></a><span class="go">Status: Downloaded newer image for iesgn/guestbook:latest</span>
<a id="__codelineno-137-29" name="__codelineno-137-29" href="#__codelineno-137-29"></a><span class="go">0d664c2abe850aefdb347c9101b07953409d9e8d33e2b879322effcea40234fe</span>
</code></pre></div>
<p>Probamos que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/9r5mjhY.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="guestbookdocker" src="https://i.imgur.com/9r5mjhY.png" /></a></p>
<h3 id="ejemplo-2-despliegue-de-la-aplicacion-temperaturas">Ejemplo 2: Despliegue de la aplicación Temperaturas</h3>
<p>Creo la red:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-138-1" name="__codelineno-138-1" href="#__codelineno-138-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>red_temperaturas
<a id="__codelineno-138-2" name="__codelineno-138-2" href="#__codelineno-138-2"></a><span class="go">d503820887ffa9e2543930675d235f6c56b9f9fdf02524278ec62b7c04e02678</span>
</code></pre></div>
<p>Lanzo los contenedores:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-139-1" name="__codelineno-139-1" href="#__codelineno-139-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>temperaturas-backend<span class="w"> </span>--network<span class="w"> </span>red_temperaturas<span class="w"> </span>iesgn/temperaturas_backend
<a id="__codelineno-139-2" name="__codelineno-139-2" href="#__codelineno-139-2"></a><span class="go">Unable to find image &#39;iesgn/temperaturas_backend:latest&#39; locally</span>
<a id="__codelineno-139-3" name="__codelineno-139-3" href="#__codelineno-139-3"></a><span class="go">latest: Pulling from iesgn/temperaturas_backend</span>
<a id="__codelineno-139-4" name="__codelineno-139-4" href="#__codelineno-139-4"></a><span class="go">0ecb575e629c: Already exists</span>
<a id="__codelineno-139-5" name="__codelineno-139-5" href="#__codelineno-139-5"></a><span class="go">dd4d4b42fc71: Pull complete</span>
<a id="__codelineno-139-6" name="__codelineno-139-6" href="#__codelineno-139-6"></a><span class="go">7ce5fbadeda7: Pull complete</span>
<a id="__codelineno-139-7" name="__codelineno-139-7" href="#__codelineno-139-7"></a><span class="go">54eb73ab1487: Pull complete</span>
<a id="__codelineno-139-8" name="__codelineno-139-8" href="#__codelineno-139-8"></a><span class="go">Digest: sha256:47bbcb85cfa1e21aecee7cf8fec4fce03197b7e0afd2229fa681116e4d8f422d</span>
<a id="__codelineno-139-9" name="__codelineno-139-9" href="#__codelineno-139-9"></a><span class="go">Status: Downloaded newer image for iesgn/temperaturas_backend:latest</span>
<a id="__codelineno-139-10" name="__codelineno-139-10" href="#__codelineno-139-10"></a><span class="go">ef1fbd2d31ac6c031f6bdb374983d6f7552ea8f591d4d062c57fb6ac4be43e5b</span>
<a id="__codelineno-139-11" name="__codelineno-139-11" href="#__codelineno-139-11"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">80</span>:3000<span class="w"> </span>--name<span class="w"> </span>temperaturas-frontend<span class="w"> </span>--network<span class="w"> </span>red_temperaturas<span class="w"> </span>iesgn/temperaturas_frontend
<a id="__codelineno-139-12" name="__codelineno-139-12" href="#__codelineno-139-12"></a><span class="go">Unable to find image &#39;iesgn/temperaturas_frontend:latest&#39; locally</span>
<a id="__codelineno-139-13" name="__codelineno-139-13" href="#__codelineno-139-13"></a><span class="go">latest: Pulling from iesgn/temperaturas_frontend</span>
<a id="__codelineno-139-14" name="__codelineno-139-14" href="#__codelineno-139-14"></a><span class="go">0ecb575e629c: Already exists</span>
<a id="__codelineno-139-15" name="__codelineno-139-15" href="#__codelineno-139-15"></a><span class="go">1b0ea791d129: Pull complete</span>
<a id="__codelineno-139-16" name="__codelineno-139-16" href="#__codelineno-139-16"></a><span class="go">18ffb3e704a1: Pull complete</span>
<a id="__codelineno-139-17" name="__codelineno-139-17" href="#__codelineno-139-17"></a><span class="go">d724eea63276: Pull complete</span>
<a id="__codelineno-139-18" name="__codelineno-139-18" href="#__codelineno-139-18"></a><span class="go">Digest: sha256:7a2b7b66f830e0905d2b0b7faf33a5bea3da7c12c8ea75abdc034603307c7677</span>
<a id="__codelineno-139-19" name="__codelineno-139-19" href="#__codelineno-139-19"></a><span class="go">Status: Downloaded newer image for iesgn/temperaturas_frontend:latest</span>
<a id="__codelineno-139-20" name="__codelineno-139-20" href="#__codelineno-139-20"></a><span class="go">8ffd4cf58fa19fb7f39ed690b7a724b0c2e364e66bba1359ae3ba5212e48f4ae</span>
</code></pre></div>
<p>Probamos que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/dnB3nkQ.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="temperaturasdocker" src="https://i.imgur.com/dnB3nkQ.png" /></a></p>
<h3 id="ejemplo-3-despliegue-de-wordpress-mariadb">Ejemplo 3: Despliegue de Wordpress + MariaDB</h3>
<p>Creo la red:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-140-1" name="__codelineno-140-1" href="#__codelineno-140-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>red_wp
<a id="__codelineno-140-2" name="__codelineno-140-2" href="#__codelineno-140-2"></a><span class="go">80c955b07b17dcf9eda18567b0b65cba6344bf3ac45beba35eff131e77630abf</span>
</code></pre></div>
<p>Lanzo los contenedores:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-141-1" name="__codelineno-141-1" href="#__codelineno-141-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>servidor_mysql<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-141-2" name="__codelineno-141-2" href="#__codelineno-141-2"></a><span class="w">                </span>--network<span class="w"> </span>red_wp<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-141-3" name="__codelineno-141-3" href="#__codelineno-141-3"></a><span class="w">                </span>-v<span class="w"> </span>/opt/mysql_wp:/var/lib/mysql<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-141-4" name="__codelineno-141-4" href="#__codelineno-141-4"></a><span class="w">                </span>-e<span class="w"> </span><span class="nv">MYSQL_DATABASE</span><span class="o">=</span>bd_wp<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-141-5" name="__codelineno-141-5" href="#__codelineno-141-5"></a><span class="w">                </span>-e<span class="w"> </span><span class="nv">MYSQL_USER</span><span class="o">=</span>user_wp<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-141-6" name="__codelineno-141-6" href="#__codelineno-141-6"></a><span class="w">                </span>-e<span class="w"> </span><span class="nv">MYSQL_PASSWORD</span><span class="o">=</span>asdasd<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-141-7" name="__codelineno-141-7" href="#__codelineno-141-7"></a><span class="w">                </span>-e<span class="w"> </span><span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>asdasd<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-141-8" name="__codelineno-141-8" href="#__codelineno-141-8"></a><span class="w">                </span>mariadb
<a id="__codelineno-141-9" name="__codelineno-141-9" href="#__codelineno-141-9"></a><span class="go">3d892aa3847a19b4fc877dfa2dd085e7182d07f01ccc9be42fd6aa731e20255e</span>
<a id="__codelineno-141-10" name="__codelineno-141-10" href="#__codelineno-141-10"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>servidor_wp<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-141-11" name="__codelineno-141-11" href="#__codelineno-141-11"></a><span class="w">                </span>--network<span class="w"> </span>red_wp<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-141-12" name="__codelineno-141-12" href="#__codelineno-141-12"></a><span class="w">                </span>-v<span class="w"> </span>/opt/wordpress:/var/www/html/wp-content<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-141-13" name="__codelineno-141-13" href="#__codelineno-141-13"></a><span class="w">                </span>-e<span class="w"> </span><span class="nv">WORDPRESS_DB_HOST</span><span class="o">=</span>servidor_mysql<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-141-14" name="__codelineno-141-14" href="#__codelineno-141-14"></a><span class="w">                </span>-e<span class="w"> </span><span class="nv">WORDPRESS_DB_USER</span><span class="o">=</span>user_wp<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-141-15" name="__codelineno-141-15" href="#__codelineno-141-15"></a><span class="w">                </span>-e<span class="w"> </span><span class="nv">WORDPRESS_DB_PASSWORD</span><span class="o">=</span>asdasd<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-141-16" name="__codelineno-141-16" href="#__codelineno-141-16"></a><span class="w">                </span>-e<span class="w"> </span><span class="nv">WORDPRESS_DB_NAME</span><span class="o">=</span>bd_wp<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-141-17" name="__codelineno-141-17" href="#__codelineno-141-17"></a><span class="w">                </span>-p<span class="w"> </span><span class="m">80</span>:80<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-141-18" name="__codelineno-141-18" href="#__codelineno-141-18"></a><span class="w">                </span>wordpress
<a id="__codelineno-141-19" name="__codelineno-141-19" href="#__codelineno-141-19"></a><span class="go">Unable to find image &#39;wordpress:latest&#39; locally</span>
<a id="__codelineno-141-20" name="__codelineno-141-20" href="#__codelineno-141-20"></a><span class="go">latest: Pulling from library/wordpress</span>
<a id="__codelineno-141-21" name="__codelineno-141-21" href="#__codelineno-141-21"></a><span class="go">42c077c10790: Already exists</span>
<a id="__codelineno-141-22" name="__codelineno-141-22" href="#__codelineno-141-22"></a><span class="go">8934009a9160: Already exists</span>
<a id="__codelineno-141-23" name="__codelineno-141-23" href="#__codelineno-141-23"></a><span class="go">5357ac116991: Already exists</span>
<a id="__codelineno-141-24" name="__codelineno-141-24" href="#__codelineno-141-24"></a><span class="go">54ae63894b5a: Already exists</span>
<a id="__codelineno-141-25" name="__codelineno-141-25" href="#__codelineno-141-25"></a><span class="go">772088206f85: Already exists</span>
<a id="__codelineno-141-26" name="__codelineno-141-26" href="#__codelineno-141-26"></a><span class="go">3b81c5474649: Already exists</span>
<a id="__codelineno-141-27" name="__codelineno-141-27" href="#__codelineno-141-27"></a><span class="go">c62a528527ae: Already exists</span>
<a id="__codelineno-141-28" name="__codelineno-141-28" href="#__codelineno-141-28"></a><span class="go">344c792709d4: Already exists</span>
<a id="__codelineno-141-29" name="__codelineno-141-29" href="#__codelineno-141-29"></a><span class="go">ef9638273c35: Already exists</span>
<a id="__codelineno-141-30" name="__codelineno-141-30" href="#__codelineno-141-30"></a><span class="go">4ec70638e42f: Already exists</span>
<a id="__codelineno-141-31" name="__codelineno-141-31" href="#__codelineno-141-31"></a><span class="go">5a0f65f5bb3b: Already exists</span>
<a id="__codelineno-141-32" name="__codelineno-141-32" href="#__codelineno-141-32"></a><span class="go">55578a5ce5e8: Already exists</span>
<a id="__codelineno-141-33" name="__codelineno-141-33" href="#__codelineno-141-33"></a><span class="go">f1dd85b4dfa5: Already exists</span>
<a id="__codelineno-141-34" name="__codelineno-141-34" href="#__codelineno-141-34"></a><span class="go">35dc259d9d51: Pull complete</span>
<a id="__codelineno-141-35" name="__codelineno-141-35" href="#__codelineno-141-35"></a><span class="go">48147606c534: Pull complete</span>
<a id="__codelineno-141-36" name="__codelineno-141-36" href="#__codelineno-141-36"></a><span class="go">c88c969d9899: Pull complete</span>
<a id="__codelineno-141-37" name="__codelineno-141-37" href="#__codelineno-141-37"></a><span class="go">e08b6500594a: Pull complete</span>
<a id="__codelineno-141-38" name="__codelineno-141-38" href="#__codelineno-141-38"></a><span class="go">027690aff84d: Pull complete</span>
<a id="__codelineno-141-39" name="__codelineno-141-39" href="#__codelineno-141-39"></a><span class="go">8770aef363f4: Pull complete</span>
<a id="__codelineno-141-40" name="__codelineno-141-40" href="#__codelineno-141-40"></a><span class="go">336e4cd7d982: Pull complete</span>
<a id="__codelineno-141-41" name="__codelineno-141-41" href="#__codelineno-141-41"></a><span class="go">8e0e84b1add6: Pull complete</span>
<a id="__codelineno-141-42" name="__codelineno-141-42" href="#__codelineno-141-42"></a><span class="go">Digest: sha256:92a0f6f7e92eab575659ff6c6ee3d1abb56752977d1d729de5da1a876f9f1f42</span>
<a id="__codelineno-141-43" name="__codelineno-141-43" href="#__codelineno-141-43"></a><span class="go">Status: Downloaded newer image for wordpress:latest</span>
<a id="__codelineno-141-44" name="__codelineno-141-44" href="#__codelineno-141-44"></a><span class="go">ec1b9fac1479fde88682d5071b86f198b69a9442064b29bc3ac5770ed1a07b33</span>
</code></pre></div>
<p>Muestro que están activos:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-142-1" name="__codelineno-142-1" href="#__codelineno-142-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>ps
<a id="__codelineno-142-2" name="__codelineno-142-2" href="#__codelineno-142-2"></a><span class="go">CONTAINER ID   IMAGE       COMMAND                  CREATED          STATUS          PORTS                NAMES</span>
<a id="__codelineno-142-3" name="__codelineno-142-3" href="#__codelineno-142-3"></a><span class="go">ec1b9fac1479   wordpress   &quot;docker-entrypoint.s…&quot;   57 seconds ago   Up 55 seconds   0.0.0.0:80-&gt;80/tcp   servidor_wp</span>
<a id="__codelineno-142-4" name="__codelineno-142-4" href="#__codelineno-142-4"></a><span class="go">3d892aa3847a   mariadb     &quot;docker-entrypoint.s…&quot;   2 minutes ago    Up 2 minutes    3306/tcp             servidor_mysql</span>
</code></pre></div>
<p>Probamos que funciona <em>(haré la instalación y lo mostraré directamente funcionando)</em>:</p>
<p><a class="glightbox" href="https://i.imgur.com/bJsyuQo.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="wpdocker" src="https://i.imgur.com/bJsyuQo.png" /></a></p>
<h3 id="ejemplo-4-despliegue-de-tomcat-nginx">Ejemplo 4: Despliegue de Tomcat + Nginx</h3>
<p>Creo la red:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-143-1" name="__codelineno-143-1" href="#__codelineno-143-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>red_tomcat
<a id="__codelineno-143-2" name="__codelineno-143-2" href="#__codelineno-143-2"></a><span class="go">891d29f1d2054410e0c43654924fe8400584ea1d2b411262a9d4085182e60234</span>
</code></pre></div>
<p>Creo el directorio tomcat y entro:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-144-1" name="__codelineno-144-1" href="#__codelineno-144-1"></a><span class="gp">atlas@olympus:~$ </span>mkdir<span class="w"> </span>tomcat
<a id="__codelineno-144-2" name="__codelineno-144-2" href="#__codelineno-144-2"></a><span class="gp">atlas@olympus:~$ </span><span class="nb">cd</span><span class="w"> </span>tomcat
<a id="__codelineno-144-3" name="__codelineno-144-3" href="#__codelineno-144-3"></a><span class="gp">atlas@olympus:~/tomcat$</span>
</code></pre></div>
<p>Descargo en él los 2 ficheros que necesito y muestro que los tengo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-145-1" name="__codelineno-145-1" href="#__codelineno-145-1"></a><span class="gp">atlas@olympus:~/tomcat$ </span>wget<span class="w"> </span>https://raw.githubusercontent.com/iesgn/curso_docker_2021/main/ejemplos/sesion4/ejemplo4/default.conf
<a id="__codelineno-145-2" name="__codelineno-145-2" href="#__codelineno-145-2"></a><span class="go">--2022-06-14 20:35:44--  https://raw.githubusercontent.com/iesgn/curso_docker_2021/main/ejemplos/sesion4/ejemplo4/default.conf</span>
<a id="__codelineno-145-3" name="__codelineno-145-3" href="#__codelineno-145-3"></a><span class="go">Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.108.133, 185.199.111.133, 185.199.109.133, ...</span>
<a id="__codelineno-145-4" name="__codelineno-145-4" href="#__codelineno-145-4"></a><span class="go">Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.199.108.133|:443... connected.</span>
<a id="__codelineno-145-5" name="__codelineno-145-5" href="#__codelineno-145-5"></a><span class="go">HTTP request sent, awaiting response... 200 OK</span>
<a id="__codelineno-145-6" name="__codelineno-145-6" href="#__codelineno-145-6"></a><span class="go">Length: 387 [text/plain]</span>
<a id="__codelineno-145-7" name="__codelineno-145-7" href="#__codelineno-145-7"></a><span class="go">Saving to: ‘default.conf’</span>
<a id="__codelineno-145-8" name="__codelineno-145-8" href="#__codelineno-145-8"></a>
<a id="__codelineno-145-9" name="__codelineno-145-9" href="#__codelineno-145-9"></a><span class="go">default.conf                                100%[=========================================================================================&gt;]     387  --.-KB/s    in 0s</span>
<a id="__codelineno-145-10" name="__codelineno-145-10" href="#__codelineno-145-10"></a>
<a id="__codelineno-145-11" name="__codelineno-145-11" href="#__codelineno-145-11"></a><span class="go">2022-06-14 20:35:44 (15.6 MB/s) - ‘default.conf’ saved [387/387]</span>
<a id="__codelineno-145-12" name="__codelineno-145-12" href="#__codelineno-145-12"></a><span class="gp">atlas@olympus:~/tomcat$ </span>wget<span class="w"> </span>https://github.com/iesgn/curso_docker_2021/raw/main/ejemplos/sesion4/ejemplo4/sample.war
<a id="__codelineno-145-13" name="__codelineno-145-13" href="#__codelineno-145-13"></a><span class="go">--2022-06-14 20:38:59--  https://github.com/iesgn/curso_docker_2021/raw/main/ejemplos/sesion4/ejemplo4/sample.war</span>
<a id="__codelineno-145-14" name="__codelineno-145-14" href="#__codelineno-145-14"></a><span class="go">Resolving github.com (github.com)... 140.82.121.4</span>
<a id="__codelineno-145-15" name="__codelineno-145-15" href="#__codelineno-145-15"></a><span class="go">Connecting to github.com (github.com)|140.82.121.4|:443... connected.</span>
<a id="__codelineno-145-16" name="__codelineno-145-16" href="#__codelineno-145-16"></a><span class="go">HTTP request sent, awaiting response... 302 Found</span>
<a id="__codelineno-145-17" name="__codelineno-145-17" href="#__codelineno-145-17"></a><span class="go">Location: https://raw.githubusercontent.com/iesgn/curso_docker_2021/main/ejemplos/sesion4/ejemplo4/sample.war [following]</span>
<a id="__codelineno-145-18" name="__codelineno-145-18" href="#__codelineno-145-18"></a><span class="go">--2022-06-14 20:38:59--  https://raw.githubusercontent.com/iesgn/curso_docker_2021/main/ejemplos/sesion4/ejemplo4/sample.war</span>
<a id="__codelineno-145-19" name="__codelineno-145-19" href="#__codelineno-145-19"></a><span class="go">Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.111.133, 185.199.108.133, 185.199.109.133, ...</span>
<a id="__codelineno-145-20" name="__codelineno-145-20" href="#__codelineno-145-20"></a><span class="go">Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.199.111.133|:443... connected.</span>
<a id="__codelineno-145-21" name="__codelineno-145-21" href="#__codelineno-145-21"></a><span class="go">HTTP request sent, awaiting response... 200 OK</span>
<a id="__codelineno-145-22" name="__codelineno-145-22" href="#__codelineno-145-22"></a><span class="go">Length: 4606 (4.5K) [application/octet-stream]</span>
<a id="__codelineno-145-23" name="__codelineno-145-23" href="#__codelineno-145-23"></a><span class="go">Saving to: ‘sample.war’</span>
<a id="__codelineno-145-24" name="__codelineno-145-24" href="#__codelineno-145-24"></a>
<a id="__codelineno-145-25" name="__codelineno-145-25" href="#__codelineno-145-25"></a><span class="go">sample.war                                  100%[=========================================================================================&gt;]   4.50K  --.-KB/s    in 0.002s</span>
<a id="__codelineno-145-26" name="__codelineno-145-26" href="#__codelineno-145-26"></a>
<a id="__codelineno-145-27" name="__codelineno-145-27" href="#__codelineno-145-27"></a><span class="go">2022-06-14 20:38:59 (2.21 MB/s) - ‘sample.war’ saved [4606/4606]</span>
<a id="__codelineno-145-28" name="__codelineno-145-28" href="#__codelineno-145-28"></a><span class="gp">atlas@olympus:~/tomcat$ </span>ls<span class="w"> </span>-la
<a id="__codelineno-145-29" name="__codelineno-145-29" href="#__codelineno-145-29"></a><span class="go">total 20</span>
<a id="__codelineno-145-30" name="__codelineno-145-30" href="#__codelineno-145-30"></a><span class="go">drwxr-xr-x  2 atlas atlas 4096 Jun 14 20:38 .</span>
<a id="__codelineno-145-31" name="__codelineno-145-31" href="#__codelineno-145-31"></a><span class="go">drwxr-xr-x 42 atlas atlas 4096 Jun 14 20:32 ..</span>
<a id="__codelineno-145-32" name="__codelineno-145-32" href="#__codelineno-145-32"></a><span class="go">-rw-r--r--  1 atlas atlas  387 Jun 14 20:35 default.conf</span>
<a id="__codelineno-145-33" name="__codelineno-145-33" href="#__codelineno-145-33"></a><span class="go">-rw-r--r--  1 atlas atlas 4606 Jun 14 20:38 sample.war</span>
</code></pre></div>
<p>Lanzo el contenedor de Tomcat:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-146-1" name="__codelineno-146-1" href="#__codelineno-146-1"></a><span class="gp">atlas@olympus:~/tomcat$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>aplicacionjava<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-146-2" name="__codelineno-146-2" href="#__codelineno-146-2"></a><span class="w">                </span>--network<span class="w"> </span>red_tomcat<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-146-3" name="__codelineno-146-3" href="#__codelineno-146-3"></a><span class="w">                </span>-v<span class="w"> </span>/home/atlas/tomcat/sample.war:/usr/local/tomcat/webapps/sample.war:ro<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-146-4" name="__codelineno-146-4" href="#__codelineno-146-4"></a><span class="w">                </span>tomcat:9.0
<a id="__codelineno-146-5" name="__codelineno-146-5" href="#__codelineno-146-5"></a><span class="go">Unable to find image &#39;tomcat:9.0&#39; locally</span>
<a id="__codelineno-146-6" name="__codelineno-146-6" href="#__codelineno-146-6"></a><span class="go">9.0: Pulling from library/tomcat</span>
<a id="__codelineno-146-7" name="__codelineno-146-7" href="#__codelineno-146-7"></a><span class="go">e756f3fdd6a3: Already exists</span>
<a id="__codelineno-146-8" name="__codelineno-146-8" href="#__codelineno-146-8"></a><span class="go">bf168a674899: Pull complete</span>
<a id="__codelineno-146-9" name="__codelineno-146-9" href="#__codelineno-146-9"></a><span class="go">e604223835cc: Pull complete</span>
<a id="__codelineno-146-10" name="__codelineno-146-10" href="#__codelineno-146-10"></a><span class="go">6d5c91c4cd86: Pull complete</span>
<a id="__codelineno-146-11" name="__codelineno-146-11" href="#__codelineno-146-11"></a><span class="go">5e20d165240e: Pull complete</span>
<a id="__codelineno-146-12" name="__codelineno-146-12" href="#__codelineno-146-12"></a><span class="go">1334d60df9a8: Pull complete</span>
<a id="__codelineno-146-13" name="__codelineno-146-13" href="#__codelineno-146-13"></a><span class="go">16c2728dcd90: Pull complete</span>
<a id="__codelineno-146-14" name="__codelineno-146-14" href="#__codelineno-146-14"></a><span class="go">05288798d23d: Pull complete</span>
<a id="__codelineno-146-15" name="__codelineno-146-15" href="#__codelineno-146-15"></a><span class="go">3bbce73846a1: Pull complete</span>
<a id="__codelineno-146-16" name="__codelineno-146-16" href="#__codelineno-146-16"></a><span class="go">58e753cca0c7: Pull complete</span>
<a id="__codelineno-146-17" name="__codelineno-146-17" href="#__codelineno-146-17"></a><span class="go">Digest: sha256:8558e9b51d8aa9f08d6611c54a832b1be64636e713532729fca44774d6a0765d</span>
<a id="__codelineno-146-18" name="__codelineno-146-18" href="#__codelineno-146-18"></a><span class="go">Status: Downloaded newer image for tomcat:9.0</span>
<a id="__codelineno-146-19" name="__codelineno-146-19" href="#__codelineno-146-19"></a><span class="go">bd9c22e54e6e7b96e27ab502c0db185ca24ea87635d222c8e16aed84e92dc6c6</span>
</code></pre></div>
<p>Lanzo el contenedor de Nginx:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-147-1" name="__codelineno-147-1" href="#__codelineno-147-1"></a><span class="gp">atlas@olympus:~/tomcat$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>proxy<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-147-2" name="__codelineno-147-2" href="#__codelineno-147-2"></a><span class="w">                </span>-p<span class="w"> </span><span class="m">80</span>:80<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-147-3" name="__codelineno-147-3" href="#__codelineno-147-3"></a><span class="w">                </span>--network<span class="w"> </span>red_tomcat<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-147-4" name="__codelineno-147-4" href="#__codelineno-147-4"></a><span class="w">                </span>-v<span class="w"> </span>/home/atlas/tomcat/default.conf:/etc/nginx/conf.d/default.conf:ro<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-147-5" name="__codelineno-147-5" href="#__codelineno-147-5"></a><span class="w">                </span>nginx
<a id="__codelineno-147-6" name="__codelineno-147-6" href="#__codelineno-147-6"></a><span class="go">a62ecf82ea16924e06a49bbedd7a32857a2ebebb04becde4b0e57ed8d4f31751</span>
</code></pre></div>
<p>Probamos que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/9INKo2S.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="tomcatdocker" src="https://i.imgur.com/9INKo2S.png" /></a></p>
<h3 id="ejercicios-redes">Ejercicios redes</h3>
<p>Creo <code>red1</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-148-1" name="__codelineno-148-1" href="#__codelineno-148-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>red1<span class="w"> </span>--subnet<span class="w"> </span><span class="m">172</span>.28.0.0/16<span class="w"> </span>--gateway<span class="w"> </span><span class="m">172</span>.28.0.1
<a id="__codelineno-148-2" name="__codelineno-148-2" href="#__codelineno-148-2"></a><span class="go">83eb74c0d72db336bd40fd2c48cdd6583b8b232b304ecc858fde6e5d05432709</span>
</code></pre></div>
<p>Creo <code>red2</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-149-1" name="__codelineno-149-1" href="#__codelineno-149-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>red2
<a id="__codelineno-149-2" name="__codelineno-149-2" href="#__codelineno-149-2"></a><span class="go">501db55f3c489ba353ac40105eea56c5053707f04199af73dc47b38f317e677d</span>
</code></pre></div>
<p>Lanzo el primer contenedor e instalo ping:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-150-1" name="__codelineno-150-1" href="#__codelineno-150-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--name<span class="w"> </span>u1<span class="w"> </span>--network<span class="w"> </span>red1<span class="w"> </span>--ip<span class="w"> </span><span class="m">172</span>.28.0.10<span class="w"> </span>--hostname<span class="w"> </span>host1<span class="w"> </span>ubuntu:20.04
<a id="__codelineno-150-2" name="__codelineno-150-2" href="#__codelineno-150-2"></a><span class="gp">root@host1:/# </span>apt<span class="w"> </span>update
<a id="__codelineno-150-3" name="__codelineno-150-3" href="#__codelineno-150-3"></a><span class="go">Get:1 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]</span>
<a id="__codelineno-150-4" name="__codelineno-150-4" href="#__codelineno-150-4"></a><span class="go">Get:2 http://archive.ubuntu.com/ubuntu focal InRelease [265 kB]</span>
<a id="__codelineno-150-5" name="__codelineno-150-5" href="#__codelineno-150-5"></a><span class="go">Get:3 http://archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]</span>
<a id="__codelineno-150-6" name="__codelineno-150-6" href="#__codelineno-150-6"></a><span class="go">Get:4 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 Packages [27.5 kB]</span>
<a id="__codelineno-150-7" name="__codelineno-150-7" href="#__codelineno-150-7"></a><span class="go">Get:5 http://archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]</span>
<a id="__codelineno-150-8" name="__codelineno-150-8" href="#__codelineno-150-8"></a><span class="go">Get:6 http://security.ubuntu.com/ubuntu focal-security/universe amd64 Packages [880 kB]</span>
<a id="__codelineno-150-9" name="__codelineno-150-9" href="#__codelineno-150-9"></a><span class="go">Get:7 http://security.ubuntu.com/ubuntu focal-security/main amd64 Packages [1931 kB]</span>
<a id="__codelineno-150-10" name="__codelineno-150-10" href="#__codelineno-150-10"></a><span class="go">Get:8 http://archive.ubuntu.com/ubuntu focal/main amd64 Packages [1275 kB]</span>
<a id="__codelineno-150-11" name="__codelineno-150-11" href="#__codelineno-150-11"></a><span class="go">Get:9 http://archive.ubuntu.com/ubuntu focal/universe amd64 Packages [11.3 MB]</span>
<a id="__codelineno-150-12" name="__codelineno-150-12" href="#__codelineno-150-12"></a><span class="go">Get:10 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 Packages [1286 kB]</span>
<a id="__codelineno-150-13" name="__codelineno-150-13" href="#__codelineno-150-13"></a><span class="go">Get:11 http://archive.ubuntu.com/ubuntu focal/restricted amd64 Packages [33.4 kB]</span>
<a id="__codelineno-150-14" name="__codelineno-150-14" href="#__codelineno-150-14"></a><span class="go">Get:12 http://archive.ubuntu.com/ubuntu focal/multiverse amd64 Packages [177 kB]</span>
<a id="__codelineno-150-15" name="__codelineno-150-15" href="#__codelineno-150-15"></a><span class="go">Get:13 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages [2364 kB]</span>
<a id="__codelineno-150-16" name="__codelineno-150-16" href="#__codelineno-150-16"></a><span class="go">Get:14 http://archive.ubuntu.com/ubuntu focal-updates/restricted amd64 Packages [1365 kB]</span>
<a id="__codelineno-150-17" name="__codelineno-150-17" href="#__codelineno-150-17"></a><span class="go">Get:15 http://archive.ubuntu.com/ubuntu focal-updates/universe amd64 Packages [1169 kB]</span>
<a id="__codelineno-150-18" name="__codelineno-150-18" href="#__codelineno-150-18"></a><span class="go">Get:16 http://archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 Packages [30.2 kB]</span>
<a id="__codelineno-150-19" name="__codelineno-150-19" href="#__codelineno-150-19"></a><span class="go">Get:17 http://archive.ubuntu.com/ubuntu focal-backports/universe amd64 Packages [27.1 kB]</span>
<a id="__codelineno-150-20" name="__codelineno-150-20" href="#__codelineno-150-20"></a><span class="go">Get:18 http://archive.ubuntu.com/ubuntu focal-backports/main amd64 Packages [53.8 kB]</span>
<a id="__codelineno-150-21" name="__codelineno-150-21" href="#__codelineno-150-21"></a><span class="go">Fetched 22.6 MB in 9s (2566 kB/s)</span>
<a id="__codelineno-150-22" name="__codelineno-150-22" href="#__codelineno-150-22"></a><span class="go">Reading package lists... Done</span>
<a id="__codelineno-150-23" name="__codelineno-150-23" href="#__codelineno-150-23"></a><span class="go">Building dependency tree</span>
<a id="__codelineno-150-24" name="__codelineno-150-24" href="#__codelineno-150-24"></a><span class="go">Reading state information... Done</span>
<a id="__codelineno-150-25" name="__codelineno-150-25" href="#__codelineno-150-25"></a><span class="go">7 packages can be upgraded. Run &#39;apt list --upgradable&#39; to see them.</span>
<a id="__codelineno-150-26" name="__codelineno-150-26" href="#__codelineno-150-26"></a><span class="gp">root@host1:/# </span>apt<span class="w"> </span>install<span class="w"> </span>inetutils-ping
<a id="__codelineno-150-27" name="__codelineno-150-27" href="#__codelineno-150-27"></a><span class="go">Reading package lists... Done</span>
<a id="__codelineno-150-28" name="__codelineno-150-28" href="#__codelineno-150-28"></a><span class="go">Building dependency tree</span>
<a id="__codelineno-150-29" name="__codelineno-150-29" href="#__codelineno-150-29"></a><span class="go">Reading state information... Done</span>
<a id="__codelineno-150-30" name="__codelineno-150-30" href="#__codelineno-150-30"></a><span class="go">The following additional packages will be installed:</span>
<a id="__codelineno-150-31" name="__codelineno-150-31" href="#__codelineno-150-31"></a><span class="go">  libidn11 netbase</span>
<a id="__codelineno-150-32" name="__codelineno-150-32" href="#__codelineno-150-32"></a><span class="go">The following NEW packages will be installed:</span>
<a id="__codelineno-150-33" name="__codelineno-150-33" href="#__codelineno-150-33"></a><span class="go">  inetutils-ping libidn11 netbase</span>
<a id="__codelineno-150-34" name="__codelineno-150-34" href="#__codelineno-150-34"></a><span class="go">0 upgraded, 3 newly installed, 0 to remove and 7 not upgraded.</span>
<a id="__codelineno-150-35" name="__codelineno-150-35" href="#__codelineno-150-35"></a><span class="go">Need to get 120 kB of archives.</span>
<a id="__codelineno-150-36" name="__codelineno-150-36" href="#__codelineno-150-36"></a><span class="go">After this operation, 657 kB of additional disk space will be used.</span>
<a id="__codelineno-150-37" name="__codelineno-150-37" href="#__codelineno-150-37"></a><span class="go">Do you want to continue? [Y/n] y</span>
<a id="__codelineno-150-38" name="__codelineno-150-38" href="#__codelineno-150-38"></a><span class="go">Get:1 http://archive.ubuntu.com/ubuntu focal/main amd64 netbase all 6.1 [13.1 kB]</span>
<a id="__codelineno-150-39" name="__codelineno-150-39" href="#__codelineno-150-39"></a><span class="go">Get:2 http://archive.ubuntu.com/ubuntu focal/main amd64 libidn11 amd64 1.33-2.2ubuntu2 [46.2 kB]</span>
<a id="__codelineno-150-40" name="__codelineno-150-40" href="#__codelineno-150-40"></a><span class="go">Get:3 http://archive.ubuntu.com/ubuntu focal-updates/universe amd64 inetutils-ping amd64 2:1.9.4-11ubuntu0.1 [60.7 kB]</span>
<a id="__codelineno-150-41" name="__codelineno-150-41" href="#__codelineno-150-41"></a><span class="go">Fetched 120 kB in 1s (113 kB/s)</span>
<a id="__codelineno-150-42" name="__codelineno-150-42" href="#__codelineno-150-42"></a><span class="go">debconf: delaying package configuration, since apt-utils is not installed</span>
<a id="__codelineno-150-43" name="__codelineno-150-43" href="#__codelineno-150-43"></a><span class="go">Selecting previously unselected package netbase.</span>
<a id="__codelineno-150-44" name="__codelineno-150-44" href="#__codelineno-150-44"></a><span class="gp gp-VirtualEnv">(Reading database ... 4126 files and directories currently installed.)</span>
<a id="__codelineno-150-45" name="__codelineno-150-45" href="#__codelineno-150-45"></a><span class="go">Preparing to unpack .../archives/netbase_6.1_all.deb ...</span>
<a id="__codelineno-150-46" name="__codelineno-150-46" href="#__codelineno-150-46"></a><span class="go">Unpacking netbase (6.1) ...</span>
<a id="__codelineno-150-47" name="__codelineno-150-47" href="#__codelineno-150-47"></a><span class="go">Selecting previously unselected package libidn11:amd64.</span>
<a id="__codelineno-150-48" name="__codelineno-150-48" href="#__codelineno-150-48"></a><span class="go">Preparing to unpack .../libidn11_1.33-2.2ubuntu2_amd64.deb ...</span>
<a id="__codelineno-150-49" name="__codelineno-150-49" href="#__codelineno-150-49"></a><span class="go">Unpacking libidn11:amd64 (1.33-2.2ubuntu2) ...</span>
<a id="__codelineno-150-50" name="__codelineno-150-50" href="#__codelineno-150-50"></a><span class="go">Selecting previously unselected package inetutils-ping.</span>
<a id="__codelineno-150-51" name="__codelineno-150-51" href="#__codelineno-150-51"></a><span class="go">Preparing to unpack .../inetutils-ping_2%3a1.9.4-11ubuntu0.1_amd64.deb ...</span>
<a id="__codelineno-150-52" name="__codelineno-150-52" href="#__codelineno-150-52"></a><span class="go">Unpacking inetutils-ping (2:1.9.4-11ubuntu0.1) ...</span>
<a id="__codelineno-150-53" name="__codelineno-150-53" href="#__codelineno-150-53"></a><span class="go">Setting up libidn11:amd64 (1.33-2.2ubuntu2) ...</span>
<a id="__codelineno-150-54" name="__codelineno-150-54" href="#__codelineno-150-54"></a><span class="go">Setting up netbase (6.1) ...</span>
<a id="__codelineno-150-55" name="__codelineno-150-55" href="#__codelineno-150-55"></a><span class="go">Setting up inetutils-ping (2:1.9.4-11ubuntu0.1) ...</span>
<a id="__codelineno-150-56" name="__codelineno-150-56" href="#__codelineno-150-56"></a><span class="go">Processing triggers for libc-bin (2.31-0ubuntu9.9) ...</span>
</code></pre></div>
<p>Mostrar la configuración de red de <code>u1</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-151-1" name="__codelineno-151-1" href="#__codelineno-151-1"></a><span class="go">docker inspect u1</span>
</code></pre></div>
<p><a class="glightbox" href="https://i.imgur.com/ibRoGod.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="redu1" src="https://i.imgur.com/ibRoGod.png" /></a></p>
<p>Lanzo el segundo contenedor e instalo ping:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-152-1" name="__codelineno-152-1" href="#__codelineno-152-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--name<span class="w"> </span>u2<span class="w"> </span>--network<span class="w"> </span>red2<span class="w"> </span>--hostname<span class="w"> </span>host2<span class="w"> </span>ubuntu:20.04
<a id="__codelineno-152-2" name="__codelineno-152-2" href="#__codelineno-152-2"></a><span class="gp">root@host2:/# </span>apt<span class="w"> </span>update
<a id="__codelineno-152-3" name="__codelineno-152-3" href="#__codelineno-152-3"></a><span class="go">Get:1 http://archive.ubuntu.com/ubuntu focal InRelease [265 kB]</span>
<a id="__codelineno-152-4" name="__codelineno-152-4" href="#__codelineno-152-4"></a><span class="go">Get:2 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]</span>
<a id="__codelineno-152-5" name="__codelineno-152-5" href="#__codelineno-152-5"></a><span class="go">Get:3 http://archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]</span>
<a id="__codelineno-152-6" name="__codelineno-152-6" href="#__codelineno-152-6"></a><span class="go">Get:4 http://archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]</span>
<a id="__codelineno-152-7" name="__codelineno-152-7" href="#__codelineno-152-7"></a><span class="go">Get:5 http://archive.ubuntu.com/ubuntu focal/multiverse amd64 Packages [177 kB]</span>
<a id="__codelineno-152-8" name="__codelineno-152-8" href="#__codelineno-152-8"></a><span class="go">Get:6 http://archive.ubuntu.com/ubuntu focal/main amd64 Packages [1275 kB]</span>
<a id="__codelineno-152-9" name="__codelineno-152-9" href="#__codelineno-152-9"></a><span class="go">Get:7 http://security.ubuntu.com/ubuntu focal-security/universe amd64 Packages [880 kB]</span>
<a id="__codelineno-152-10" name="__codelineno-152-10" href="#__codelineno-152-10"></a><span class="go">Get:8 http://archive.ubuntu.com/ubuntu focal/restricted amd64 Packages [33.4 kB]</span>
<a id="__codelineno-152-11" name="__codelineno-152-11" href="#__codelineno-152-11"></a><span class="go">Get:9 http://archive.ubuntu.com/ubuntu focal/universe amd64 Packages [11.3 MB]</span>
<a id="__codelineno-152-12" name="__codelineno-152-12" href="#__codelineno-152-12"></a><span class="go">Get:10 http://security.ubuntu.com/ubuntu focal-security/main amd64 Packages [1931 kB]</span>
<a id="__codelineno-152-13" name="__codelineno-152-13" href="#__codelineno-152-13"></a><span class="go">Get:11 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 Packages [27.5 kB]</span>
<a id="__codelineno-152-14" name="__codelineno-152-14" href="#__codelineno-152-14"></a><span class="go">Get:12 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 Packages [1286 kB]</span>
<a id="__codelineno-152-15" name="__codelineno-152-15" href="#__codelineno-152-15"></a><span class="go">Get:13 http://archive.ubuntu.com/ubuntu focal-updates/universe amd64 Packages [1169 kB]</span>
<a id="__codelineno-152-16" name="__codelineno-152-16" href="#__codelineno-152-16"></a><span class="go">Get:14 http://archive.ubuntu.com/ubuntu focal-updates/restricted amd64 Packages [1365 kB]</span>
<a id="__codelineno-152-17" name="__codelineno-152-17" href="#__codelineno-152-17"></a><span class="go">Get:15 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages [2364 kB]</span>
<a id="__codelineno-152-18" name="__codelineno-152-18" href="#__codelineno-152-18"></a><span class="go">Get:16 http://archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 Packages [30.2 kB]</span>
<a id="__codelineno-152-19" name="__codelineno-152-19" href="#__codelineno-152-19"></a><span class="go">Get:17 http://archive.ubuntu.com/ubuntu focal-backports/main amd64 Packages [53.8 kB]</span>
<a id="__codelineno-152-20" name="__codelineno-152-20" href="#__codelineno-152-20"></a><span class="go">Get:18 http://archive.ubuntu.com/ubuntu focal-backports/universe amd64 Packages [27.1 kB]</span>
<a id="__codelineno-152-21" name="__codelineno-152-21" href="#__codelineno-152-21"></a><span class="go">Fetched 22.6 MB in 25s (905 kB/s)</span>
<a id="__codelineno-152-22" name="__codelineno-152-22" href="#__codelineno-152-22"></a><span class="go">Reading package lists... Done</span>
<a id="__codelineno-152-23" name="__codelineno-152-23" href="#__codelineno-152-23"></a><span class="go">Building dependency tree</span>
<a id="__codelineno-152-24" name="__codelineno-152-24" href="#__codelineno-152-24"></a><span class="go">Reading state information... Done</span>
<a id="__codelineno-152-25" name="__codelineno-152-25" href="#__codelineno-152-25"></a><span class="go">7 packages can be upgraded. Run &#39;apt list --upgradable&#39; to see them.</span>
<a id="__codelineno-152-26" name="__codelineno-152-26" href="#__codelineno-152-26"></a><span class="gp">root@host2:/# </span>apt<span class="w"> </span>install<span class="w"> </span>inetutils-ping
<a id="__codelineno-152-27" name="__codelineno-152-27" href="#__codelineno-152-27"></a><span class="go">Reading package lists... Done</span>
<a id="__codelineno-152-28" name="__codelineno-152-28" href="#__codelineno-152-28"></a><span class="go">Building dependency tree</span>
<a id="__codelineno-152-29" name="__codelineno-152-29" href="#__codelineno-152-29"></a><span class="go">Reading state information... Done</span>
<a id="__codelineno-152-30" name="__codelineno-152-30" href="#__codelineno-152-30"></a><span class="go">The following additional packages will be installed:</span>
<a id="__codelineno-152-31" name="__codelineno-152-31" href="#__codelineno-152-31"></a><span class="go">  libidn11 netbase</span>
<a id="__codelineno-152-32" name="__codelineno-152-32" href="#__codelineno-152-32"></a><span class="go">The following NEW packages will be installed:</span>
<a id="__codelineno-152-33" name="__codelineno-152-33" href="#__codelineno-152-33"></a><span class="go">  inetutils-ping libidn11 netbase</span>
<a id="__codelineno-152-34" name="__codelineno-152-34" href="#__codelineno-152-34"></a><span class="go">0 upgraded, 3 newly installed, 0 to remove and 7 not upgraded.</span>
<a id="__codelineno-152-35" name="__codelineno-152-35" href="#__codelineno-152-35"></a><span class="go">Need to get 120 kB of archives.</span>
<a id="__codelineno-152-36" name="__codelineno-152-36" href="#__codelineno-152-36"></a><span class="go">After this operation, 657 kB of additional disk space will be used.</span>
<a id="__codelineno-152-37" name="__codelineno-152-37" href="#__codelineno-152-37"></a><span class="go">Do you want to continue? [Y/n] y</span>
<a id="__codelineno-152-38" name="__codelineno-152-38" href="#__codelineno-152-38"></a><span class="go">Get:1 http://archive.ubuntu.com/ubuntu focal/main amd64 netbase all 6.1 [13.1 kB]</span>
<a id="__codelineno-152-39" name="__codelineno-152-39" href="#__codelineno-152-39"></a><span class="go">Get:2 http://archive.ubuntu.com/ubuntu focal/main amd64 libidn11 amd64 1.33-2.2ubuntu2 [46.2 kB]</span>
<a id="__codelineno-152-40" name="__codelineno-152-40" href="#__codelineno-152-40"></a><span class="go">Get:3 http://archive.ubuntu.com/ubuntu focal-updates/universe amd64 inetutils-ping amd64 2:1.9.4-11ubuntu0.1 [60.7 kB]</span>
<a id="__codelineno-152-41" name="__codelineno-152-41" href="#__codelineno-152-41"></a><span class="go">Fetched 120 kB in 0s (3242 kB/s)</span>
<a id="__codelineno-152-42" name="__codelineno-152-42" href="#__codelineno-152-42"></a><span class="go">debconf: delaying package configuration, since apt-utils is not installed</span>
<a id="__codelineno-152-43" name="__codelineno-152-43" href="#__codelineno-152-43"></a><span class="go">Selecting previously unselected package netbase.</span>
<a id="__codelineno-152-44" name="__codelineno-152-44" href="#__codelineno-152-44"></a><span class="gp gp-VirtualEnv">(Reading database ... 4126 files and directories currently installed.)</span>
<a id="__codelineno-152-45" name="__codelineno-152-45" href="#__codelineno-152-45"></a><span class="go">Preparing to unpack .../archives/netbase_6.1_all.deb ...</span>
<a id="__codelineno-152-46" name="__codelineno-152-46" href="#__codelineno-152-46"></a><span class="go">Unpacking netbase (6.1) ...</span>
<a id="__codelineno-152-47" name="__codelineno-152-47" href="#__codelineno-152-47"></a><span class="go">Selecting previously unselected package libidn11:amd64.</span>
<a id="__codelineno-152-48" name="__codelineno-152-48" href="#__codelineno-152-48"></a><span class="go">Preparing to unpack .../libidn11_1.33-2.2ubuntu2_amd64.deb ...</span>
<a id="__codelineno-152-49" name="__codelineno-152-49" href="#__codelineno-152-49"></a><span class="go">Unpacking libidn11:amd64 (1.33-2.2ubuntu2) ...</span>
<a id="__codelineno-152-50" name="__codelineno-152-50" href="#__codelineno-152-50"></a><span class="go">Selecting previously unselected package inetutils-ping.</span>
<a id="__codelineno-152-51" name="__codelineno-152-51" href="#__codelineno-152-51"></a><span class="go">Preparing to unpack .../inetutils-ping_2%3a1.9.4-11ubuntu0.1_amd64.deb ...</span>
<a id="__codelineno-152-52" name="__codelineno-152-52" href="#__codelineno-152-52"></a><span class="go">Unpacking inetutils-ping (2:1.9.4-11ubuntu0.1) ...</span>
<a id="__codelineno-152-53" name="__codelineno-152-53" href="#__codelineno-152-53"></a><span class="go">Setting up libidn11:amd64 (1.33-2.2ubuntu2) ...</span>
<a id="__codelineno-152-54" name="__codelineno-152-54" href="#__codelineno-152-54"></a><span class="go">Setting up netbase (6.1) ...</span>
<a id="__codelineno-152-55" name="__codelineno-152-55" href="#__codelineno-152-55"></a><span class="go">Setting up inetutils-ping (2:1.9.4-11ubuntu0.1) ...</span>
<a id="__codelineno-152-56" name="__codelineno-152-56" href="#__codelineno-152-56"></a><span class="go">Processing triggers for libc-bin (2.31-0ubuntu9.9) ...</span>
</code></pre></div>
<p>Mostrar la configuración de red de <code>u2</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-153-1" name="__codelineno-153-1" href="#__codelineno-153-1"></a><span class="go">docker inspect u2</span>
</code></pre></div>
<p><a class="glightbox" href="https://i.postimg.cc/jjZS6Xmc/red2u2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="redu2" src="https://i.postimg.cc/jjZS6Xmc/red2u2.png" /></a></p>
<p>Compruebo que el ping IP <code>u1</code> &rarr; <code>u2</code> no funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/S1G7qRP.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="nopingipu1u2" src="https://i.imgur.com/S1G7qRP.png" /></a></p>
<p>Compruebo que el ping por nombre <code>u1</code> &rarr; <code>u2</code> no funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/B3GsOG9.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="nopingnombreu1u2" src="https://i.imgur.com/B3GsOG9.png" /></a></p>
<p>Compruebo que el ping IP <code>u2</code> &rarr; <code>u1</code> no funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/PIng3pl.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="nopingipu2u1" src="https://i.imgur.com/PIng3pl.png" /></a></p>
<p>Compruebo que el ping por nombre <code>u2</code> &rarr; <code>u1</code> no funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/C2YRHTm.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="nopingnombreu2u1" src="https://i.imgur.com/C2YRHTm.png" /></a></p>
<p>Conectamos ahora <code>u1</code> a <code>red2</code>:</p>
<p><a class="glightbox" href="https://i.imgur.com/kw5FxLr.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="u1conectadored2" src="https://i.imgur.com/kw5FxLr.png" /></a></p>
<p>Comprobamos que ahora el ping IP/nombre <code>u1</code> &rarr; <code>u2</code> funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/an6k4cm.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="u1u2funciona" src="https://i.imgur.com/an6k4cm.png" /></a></p>
<h2 id="escenarios-multicontenedor">Escenarios multicontenedor</h2>
<h3 id="instalacion-de-docker-compose">Instalación de docker-compose</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-154-1" name="__codelineno-154-1" href="#__codelineno-154-1"></a><span class="go">sudo apt install docker-compose</span>
</code></pre></div>
<h3 id="el-fichero-docker-composeyml">El fichero docker-compose.yml</h3>
<p><code>docker-compose</code> se ejecuta en el mismo directorio donde esté el <code>docker-compose.yml</code>, por lo que acabaremos teniendo un directorio por cada <code>docker-compose.yml</code>.</p>
<p>Por ejemplo, para <code>Let’s Chat</code>, podríamos tener este <code>docker-compose.yml</code> dentro de un directorio:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-155-1" name="__codelineno-155-1" href="#__codelineno-155-1"></a><span class="go">version: &#39;3.1&#39;</span>
<a id="__codelineno-155-2" name="__codelineno-155-2" href="#__codelineno-155-2"></a><span class="go">services:</span>
<a id="__codelineno-155-3" name="__codelineno-155-3" href="#__codelineno-155-3"></a><span class="go">  app:</span>
<a id="__codelineno-155-4" name="__codelineno-155-4" href="#__codelineno-155-4"></a><span class="go">    container_name: letschat</span>
<a id="__codelineno-155-5" name="__codelineno-155-5" href="#__codelineno-155-5"></a><span class="go">    image: sdelements/lets-chat</span>
<a id="__codelineno-155-6" name="__codelineno-155-6" href="#__codelineno-155-6"></a><span class="go">    restart: always</span>
<a id="__codelineno-155-7" name="__codelineno-155-7" href="#__codelineno-155-7"></a><span class="go">    environment:</span>
<a id="__codelineno-155-8" name="__codelineno-155-8" href="#__codelineno-155-8"></a><span class="go">      LCB_DATABASE_URI: mongodb://mongo/letschat</span>
<a id="__codelineno-155-9" name="__codelineno-155-9" href="#__codelineno-155-9"></a><span class="go">    ports:</span>
<a id="__codelineno-155-10" name="__codelineno-155-10" href="#__codelineno-155-10"></a><span class="go">      - 80:8080</span>
<a id="__codelineno-155-11" name="__codelineno-155-11" href="#__codelineno-155-11"></a><span class="go">    depends_on:</span>
<a id="__codelineno-155-12" name="__codelineno-155-12" href="#__codelineno-155-12"></a><span class="go">      - db</span>
<a id="__codelineno-155-13" name="__codelineno-155-13" href="#__codelineno-155-13"></a><span class="go">  db:</span>
<a id="__codelineno-155-14" name="__codelineno-155-14" href="#__codelineno-155-14"></a><span class="go">    container_name: mongo</span>
<a id="__codelineno-155-15" name="__codelineno-155-15" href="#__codelineno-155-15"></a><span class="go">    image: mongo</span>
<a id="__codelineno-155-16" name="__codelineno-155-16" href="#__codelineno-155-16"></a><span class="go">    restart: always</span>
<a id="__codelineno-155-17" name="__codelineno-155-17" href="#__codelineno-155-17"></a><span class="go">    volumes:</span>
<a id="__codelineno-155-18" name="__codelineno-155-18" href="#__codelineno-155-18"></a><span class="go">      - /opt/mongo:/data/db</span>
</code></pre></div>
<p>Cada <code>service</code> crea un contenedor.</p>
<p><code>depends_on</code> obliga a que X contenedor no se inicie hasta que otro esté iniciado.</p>
<p>Por cada escenario <code>docker-compose</code> se crea un bridge de usuario. Existirá resolución DNS para nombre de contenedor y de servicio.</p>
<h3 id="el-comando-docker-compose">El comando docker-compose</h3>
<p>Creo la estructura de directorios <code>/home/atlas/docker/letschat</code> con el siguiente <code>docker-compose.yml</code> dentro:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-156-1" name="__codelineno-156-1" href="#__codelineno-156-1"></a><span class="go">version: &#39;3.1&#39;</span>
<a id="__codelineno-156-2" name="__codelineno-156-2" href="#__codelineno-156-2"></a><span class="go">services:</span>
<a id="__codelineno-156-3" name="__codelineno-156-3" href="#__codelineno-156-3"></a><span class="go">  app:</span>
<a id="__codelineno-156-4" name="__codelineno-156-4" href="#__codelineno-156-4"></a><span class="go">    container_name: letschat</span>
<a id="__codelineno-156-5" name="__codelineno-156-5" href="#__codelineno-156-5"></a><span class="go">    image: sdelements/lets-chat</span>
<a id="__codelineno-156-6" name="__codelineno-156-6" href="#__codelineno-156-6"></a><span class="go">    restart: always</span>
<a id="__codelineno-156-7" name="__codelineno-156-7" href="#__codelineno-156-7"></a><span class="go">    environment:</span>
<a id="__codelineno-156-8" name="__codelineno-156-8" href="#__codelineno-156-8"></a><span class="go">      LCB_DATABASE_URI: mongodb://mongo/letschat</span>
<a id="__codelineno-156-9" name="__codelineno-156-9" href="#__codelineno-156-9"></a><span class="go">    ports:</span>
<a id="__codelineno-156-10" name="__codelineno-156-10" href="#__codelineno-156-10"></a><span class="go">      - 80:8080</span>
<a id="__codelineno-156-11" name="__codelineno-156-11" href="#__codelineno-156-11"></a><span class="go">    depends_on:</span>
<a id="__codelineno-156-12" name="__codelineno-156-12" href="#__codelineno-156-12"></a><span class="go">      - db</span>
<a id="__codelineno-156-13" name="__codelineno-156-13" href="#__codelineno-156-13"></a><span class="go">  db:</span>
<a id="__codelineno-156-14" name="__codelineno-156-14" href="#__codelineno-156-14"></a><span class="go">    container_name: mongo</span>
<a id="__codelineno-156-15" name="__codelineno-156-15" href="#__codelineno-156-15"></a><span class="go">    image: mongo</span>
<a id="__codelineno-156-16" name="__codelineno-156-16" href="#__codelineno-156-16"></a><span class="go">    restart: always</span>
<a id="__codelineno-156-17" name="__codelineno-156-17" href="#__codelineno-156-17"></a><span class="go">    volumes:</span>
<a id="__codelineno-156-18" name="__codelineno-156-18" href="#__codelineno-156-18"></a><span class="go">      - /opt/mongo:/data/db</span>
</code></pre></div>
<p>Lanzo el escenario:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-157-1" name="__codelineno-157-1" href="#__codelineno-157-1"></a><span class="gp">atlas@olympus:~/docker/letschat$ </span>docker-compose<span class="w"> </span>up<span class="w"> </span>-d
<a id="__codelineno-157-2" name="__codelineno-157-2" href="#__codelineno-157-2"></a><span class="go">Creating mongo ... done</span>
<a id="__codelineno-157-3" name="__codelineno-157-3" href="#__codelineno-157-3"></a><span class="go">Creating letschat ... done</span>
</code></pre></div>
<p>Comprobamos que los contenedores se están ejecutando:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-158-1" name="__codelineno-158-1" href="#__codelineno-158-1"></a><span class="gp">atlas@olympus:~/docker/letschat$ </span>docker-compose<span class="w"> </span>ps
<a id="__codelineno-158-2" name="__codelineno-158-2" href="#__codelineno-158-2"></a><span class="go">  Name               Command             State               Ports</span>
<a id="__codelineno-158-3" name="__codelineno-158-3" href="#__codelineno-158-3"></a><span class="go">-------------------------------------------------------------------------------</span>
<a id="__codelineno-158-4" name="__codelineno-158-4" href="#__codelineno-158-4"></a><span class="go">letschat   npm start                     Up      5222/tcp, 0.0.0.0:80-&gt;8080/tcp</span>
<a id="__codelineno-158-5" name="__codelineno-158-5" href="#__codelineno-158-5"></a><span class="go">mongo      docker-entrypoint.sh mongod   Up      27017/tcp</span>
</code></pre></div>
<p>Comprobamos que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/WVRmAXI.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="letschatcompose" src="https://i.imgur.com/WVRmAXI.jpg" /></a></p>
<p>Para eliminar el escenario:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-159-1" name="__codelineno-159-1" href="#__codelineno-159-1"></a><span class="gp">atlas@olympus:~/docker/letschat$ </span>docker-compose<span class="w"> </span>down
<a id="__codelineno-159-2" name="__codelineno-159-2" href="#__codelineno-159-2"></a><span class="go">Stopping letschat ... done</span>
<a id="__codelineno-159-3" name="__codelineno-159-3" href="#__codelineno-159-3"></a><span class="go">Stopping mongo    ... done</span>
<a id="__codelineno-159-4" name="__codelineno-159-4" href="#__codelineno-159-4"></a><span class="go">Removing letschat ... done</span>
<a id="__codelineno-159-5" name="__codelineno-159-5" href="#__codelineno-159-5"></a><span class="go">Removing mongo    ... done</span>
<a id="__codelineno-159-6" name="__codelineno-159-6" href="#__codelineno-159-6"></a><span class="go">Removing network letschat_default</span>
</code></pre></div>
<h3 id="almacenamiento-con-docker-compose">Almacenamiento con docker-compose</h3>
<h4 id="volumenes-docker-compose">Volúmenes docker-compose</h4>
<p>Ejemplo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-160-1" name="__codelineno-160-1" href="#__codelineno-160-1"></a><span class="go">version: &#39;3.1&#39;</span>
<a id="__codelineno-160-2" name="__codelineno-160-2" href="#__codelineno-160-2"></a><span class="go">services:</span>
<a id="__codelineno-160-3" name="__codelineno-160-3" href="#__codelineno-160-3"></a><span class="go">  db:</span>
<a id="__codelineno-160-4" name="__codelineno-160-4" href="#__codelineno-160-4"></a><span class="go">    container_name: contenedor_mariadb</span>
<a id="__codelineno-160-5" name="__codelineno-160-5" href="#__codelineno-160-5"></a><span class="go">    image: mariadb</span>
<a id="__codelineno-160-6" name="__codelineno-160-6" href="#__codelineno-160-6"></a><span class="go">    restart: always</span>
<a id="__codelineno-160-7" name="__codelineno-160-7" href="#__codelineno-160-7"></a><span class="go">    environment:</span>
<a id="__codelineno-160-8" name="__codelineno-160-8" href="#__codelineno-160-8"></a><span class="go">      MYSQL_ROOT_PASSWORD: asdasd</span>
<a id="__codelineno-160-9" name="__codelineno-160-9" href="#__codelineno-160-9"></a><span class="go">    volumes:</span>
<a id="__codelineno-160-10" name="__codelineno-160-10" href="#__codelineno-160-10"></a><span class="go">      - mariadb_data:/var/lib/mysql</span>
<a id="__codelineno-160-11" name="__codelineno-160-11" href="#__codelineno-160-11"></a><span class="go">volumes:</span>
<a id="__codelineno-160-12" name="__codelineno-160-12" href="#__codelineno-160-12"></a><span class="go">    mariadb_data:</span>
</code></pre></div>
<p>Lanzo el escenario:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-161-1" name="__codelineno-161-1" href="#__codelineno-161-1"></a><span class="gp">atlas@olympus:~/docker/volumenes$ </span>docker-compose<span class="w"> </span>up<span class="w"> </span>-d
<a id="__codelineno-161-2" name="__codelineno-161-2" href="#__codelineno-161-2"></a><span class="go">Creating network &quot;volumenes_default&quot; with the default driver</span>
<a id="__codelineno-161-3" name="__codelineno-161-3" href="#__codelineno-161-3"></a><span class="go">Creating volume &quot;volumenes_mariadb_data&quot; with default driver</span>
<a id="__codelineno-161-4" name="__codelineno-161-4" href="#__codelineno-161-4"></a><span class="go">Creating contenedor_mariadb ... done</span>
</code></pre></div>
<p>Compruebo que está activo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-162-1" name="__codelineno-162-1" href="#__codelineno-162-1"></a><span class="gp">atlas@olympus:~/docker/volumenes$ </span>docker-compose<span class="w"> </span>ps
<a id="__codelineno-162-2" name="__codelineno-162-2" href="#__codelineno-162-2"></a><span class="go">       Name                     Command              State    Ports</span>
<a id="__codelineno-162-3" name="__codelineno-162-3" href="#__codelineno-162-3"></a><span class="go">---------------------------------------------------------------------</span>
<a id="__codelineno-162-4" name="__codelineno-162-4" href="#__codelineno-162-4"></a><span class="go">contenedor_mariadb   docker-entrypoint.sh mariadbd   Up      3306/tcp</span>
</code></pre></div>
<p>Compruebo que se ha creado el volumen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-163-1" name="__codelineno-163-1" href="#__codelineno-163-1"></a><span class="gp">atlas@olympus:~/docker/volumenes$ </span>docker<span class="w"> </span>volume<span class="w"> </span>ls
<a id="__codelineno-163-2" name="__codelineno-163-2" href="#__codelineno-163-2"></a><span class="go">DRIVER    VOLUME NAME</span>
<a id="__codelineno-163-3" name="__codelineno-163-3" href="#__codelineno-163-3"></a><span class="go">local     3f39653a3a30f881672c01433725daeb04ab6ba632a723b1af18b093f50e06ae</span>
<a id="__codelineno-163-4" name="__codelineno-163-4" href="#__codelineno-163-4"></a><span class="go">local     04e463e496d920db4b021cd270aa770d27abaaf32a08d0d035d1fe03356f87b3</span>
<a id="__codelineno-163-5" name="__codelineno-163-5" href="#__codelineno-163-5"></a><span class="go">local     7df3bfbe82aaf633a16cafb30628c3d0384d48404851b99dc892cb337d530950</span>
<a id="__codelineno-163-6" name="__codelineno-163-6" href="#__codelineno-163-6"></a><span class="go">local     7e6492fdc4515b59e4d3e86d9c69f31b6e771d78e3c8231dbb0a3eed24bed33c</span>
<a id="__codelineno-163-7" name="__codelineno-163-7" href="#__codelineno-163-7"></a><span class="go">local     07c295fb652fc3ec7f0f51a3df2d13849aac8795b44e4b55e22e371dea84022d</span>
<a id="__codelineno-163-8" name="__codelineno-163-8" href="#__codelineno-163-8"></a><span class="go">local     19b03e7f9608f78aac80ee1284c4fa4c5f78afb723499cc664f7753971639753</span>
<a id="__codelineno-163-9" name="__codelineno-163-9" href="#__codelineno-163-9"></a><span class="go">local     65eb5fc7fc9f541f1dd35effc2e456e615f6ef51670ef07a9971d2278c9dd4ee</span>
<a id="__codelineno-163-10" name="__codelineno-163-10" href="#__codelineno-163-10"></a><span class="go">local     76c389c617b86588b5950575e9bfbb3f9a17316c491880f30621d3e3bcbe251f</span>
<a id="__codelineno-163-11" name="__codelineno-163-11" href="#__codelineno-163-11"></a><span class="go">local     256e88e1d29e428176b13909592ca4f124845226dec90aae73f9ddfd26021c9c</span>
<a id="__codelineno-163-12" name="__codelineno-163-12" href="#__codelineno-163-12"></a><span class="go">local     582b8ad89272ee7607a9e56dfaeae28c1eba9a7263a8052d64e82e6361b4ef1c</span>
<a id="__codelineno-163-13" name="__codelineno-163-13" href="#__codelineno-163-13"></a><span class="go">local     972306d6e9955703c733bd57d9e270d953e8a028760fd6d3af13c2085af8d1f8</span>
<a id="__codelineno-163-14" name="__codelineno-163-14" href="#__codelineno-163-14"></a><span class="go">local     d13dcfcda6c5bcbb2b75fdce9f7b74136b88d82d8d4c2e08e6b957840273b0b4</span>
<a id="__codelineno-163-15" name="__codelineno-163-15" href="#__codelineno-163-15"></a><span class="go">local     da9451ceb333f905d8a8fbe4e764ab2a057139f1641a024ffae408b81cfb72d7</span>
<a id="__codelineno-163-16" name="__codelineno-163-16" href="#__codelineno-163-16"></a><span class="go">local     datos_compartidos</span>
<a id="__codelineno-163-17" name="__codelineno-163-17" href="#__codelineno-163-17"></a><span class="go">local     e6c217e966db3c2491c2b6989789f6c7488aaa1222313415722e3d06aaedca03</span>
<a id="__codelineno-163-18" name="__codelineno-163-18" href="#__codelineno-163-18"></a><span class="go">local     f108fc0c5812145adaa6d4987a0afd9748876ff8bd7b5520e916eb530a3d35c3</span>
<a id="__codelineno-163-19" name="__codelineno-163-19" href="#__codelineno-163-19"></a><span class="go">local     f9783771ca7c6480508aab09a722d746803e0955cd6b0e8cadcebfd7f1aff44a</span>
<a id="__codelineno-163-20" name="__codelineno-163-20" href="#__codelineno-163-20"></a><span class="go">local     nextcloud</span>
<a id="__codelineno-163-21" name="__codelineno-163-21" href="#__codelineno-163-21"></a><span class="go">local     volumen_web</span>
<a id="__codelineno-163-22" name="__codelineno-163-22" href="#__codelineno-163-22"></a><span class="go">local     volumenes_mariadb_data</span>
<a id="__codelineno-163-23" name="__codelineno-163-23" href="#__codelineno-163-23"></a><span class="go">local     wwwroot</span>
</code></pre></div>
<p>Compruebo que el montaje del volumen se ha realizado en el contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-164-1" name="__codelineno-164-1" href="#__codelineno-164-1"></a><span class="go">docker inspect contenedor_mariadb</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-165-1" name="__codelineno-165-1" href="#__codelineno-165-1"></a><span class="go">        &quot;Mounts&quot;: [</span>
<a id="__codelineno-165-2" name="__codelineno-165-2" href="#__codelineno-165-2"></a><span class="go">            {</span>
<a id="__codelineno-165-3" name="__codelineno-165-3" href="#__codelineno-165-3"></a><span class="go">                &quot;Type&quot;: &quot;volume&quot;,</span>
<a id="__codelineno-165-4" name="__codelineno-165-4" href="#__codelineno-165-4"></a><span class="go">                &quot;Name&quot;: &quot;volumenes_mariadb_data&quot;,</span>
<a id="__codelineno-165-5" name="__codelineno-165-5" href="#__codelineno-165-5"></a><span class="go">                &quot;Source&quot;: &quot;/var/lib/docker/volumes/volumenes_mariadb_data/_data&quot;,</span>
<a id="__codelineno-165-6" name="__codelineno-165-6" href="#__codelineno-165-6"></a><span class="go">                &quot;Destination&quot;: &quot;/var/lib/mysql&quot;,</span>
<a id="__codelineno-165-7" name="__codelineno-165-7" href="#__codelineno-165-7"></a><span class="go">                &quot;Driver&quot;: &quot;local&quot;,</span>
<a id="__codelineno-165-8" name="__codelineno-165-8" href="#__codelineno-165-8"></a><span class="go">                &quot;Mode&quot;: &quot;rw&quot;,</span>
<a id="__codelineno-165-9" name="__codelineno-165-9" href="#__codelineno-165-9"></a><span class="go">                &quot;RW&quot;: true,</span>
<a id="__codelineno-165-10" name="__codelineno-165-10" href="#__codelineno-165-10"></a><span class="go">                &quot;Propagation&quot;: &quot;&quot;</span>
<a id="__codelineno-165-11" name="__codelineno-165-11" href="#__codelineno-165-11"></a><span class="go">            }</span>
<a id="__codelineno-165-12" name="__codelineno-165-12" href="#__codelineno-165-12"></a><span class="go">        ],</span>
</code></pre></div>
<p>Elimino escenario + posibles volúmenes:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-166-1" name="__codelineno-166-1" href="#__codelineno-166-1"></a><span class="gp">atlas@olympus:~/docker/volumenes$ </span>docker-compose<span class="w"> </span>down<span class="w"> </span>-v
<a id="__codelineno-166-2" name="__codelineno-166-2" href="#__codelineno-166-2"></a><span class="go">Stopping contenedor_mariadb ... done</span>
<a id="__codelineno-166-3" name="__codelineno-166-3" href="#__codelineno-166-3"></a><span class="go">Removing contenedor_mariadb ... done</span>
<a id="__codelineno-166-4" name="__codelineno-166-4" href="#__codelineno-166-4"></a><span class="go">Removing network volumenes_default</span>
<a id="__codelineno-166-5" name="__codelineno-166-5" href="#__codelineno-166-5"></a><span class="go">Removing volume volumenes_mariadb_data</span>
</code></pre></div>
<h4 id="bind-mount-docker-compose">Bind mount docker-compose</h4>
<p>Ejemplo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-167-1" name="__codelineno-167-1" href="#__codelineno-167-1"></a><span class="go">version: &#39;3.1&#39;</span>
<a id="__codelineno-167-2" name="__codelineno-167-2" href="#__codelineno-167-2"></a><span class="go">services:</span>
<a id="__codelineno-167-3" name="__codelineno-167-3" href="#__codelineno-167-3"></a><span class="go">  db:</span>
<a id="__codelineno-167-4" name="__codelineno-167-4" href="#__codelineno-167-4"></a><span class="go">    container_name: contenedor_mariadb</span>
<a id="__codelineno-167-5" name="__codelineno-167-5" href="#__codelineno-167-5"></a><span class="go">    image: mariadb</span>
<a id="__codelineno-167-6" name="__codelineno-167-6" href="#__codelineno-167-6"></a><span class="go">    restart: always</span>
<a id="__codelineno-167-7" name="__codelineno-167-7" href="#__codelineno-167-7"></a><span class="go">    environment:</span>
<a id="__codelineno-167-8" name="__codelineno-167-8" href="#__codelineno-167-8"></a><span class="go">      MYSQL_ROOT_PASSWORD: asdasd</span>
<a id="__codelineno-167-9" name="__codelineno-167-9" href="#__codelineno-167-9"></a><span class="go">    volumes:</span>
<a id="__codelineno-167-10" name="__codelineno-167-10" href="#__codelineno-167-10"></a><span class="go">      - ./data:/var/lib/mysql</span>
</code></pre></div>
<p>Lanzo el escenario</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-168-1" name="__codelineno-168-1" href="#__codelineno-168-1"></a><span class="gp">atlas@olympus:~/docker/bindmount$ </span>docker-compose<span class="w"> </span>up<span class="w"> </span>-d
<a id="__codelineno-168-2" name="__codelineno-168-2" href="#__codelineno-168-2"></a><span class="go">Creating network &quot;bindmount_default&quot; with the default driver</span>
<a id="__codelineno-168-3" name="__codelineno-168-3" href="#__codelineno-168-3"></a><span class="go">Creating contenedor_mariadb ... done</span>
</code></pre></div>
<p>Compruebo que se ha creado el directorio <code>data</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-169-1" name="__codelineno-169-1" href="#__codelineno-169-1"></a><span class="gp">atlas@olympus:~/docker/bindmount$ </span><span class="nb">cd</span><span class="w"> </span>data
<a id="__codelineno-169-2" name="__codelineno-169-2" href="#__codelineno-169-2"></a><span class="gp">atlas@olympus:~/docker/bindmount/data$ </span>ls<span class="w"> </span>-la
<a id="__codelineno-169-3" name="__codelineno-169-3" href="#__codelineno-169-3"></a><span class="go">total 139260</span>
<a id="__codelineno-169-4" name="__codelineno-169-4" href="#__codelineno-169-4"></a><span class="go">drwxr-xr-x 5 systemd-coredump systemd-coredump      4096 Jun 15 21:57 .</span>
<a id="__codelineno-169-5" name="__codelineno-169-5" href="#__codelineno-169-5"></a><span class="go">drwxr-xr-x 3 atlas            atlas                 4096 Jun 15 21:57 ..</span>
<a id="__codelineno-169-6" name="__codelineno-169-6" href="#__codelineno-169-6"></a><span class="go">-rw-rw---- 1 systemd-coredump systemd-coredump  16719872 Jun 15 21:57 aria_log.00000001</span>
<a id="__codelineno-169-7" name="__codelineno-169-7" href="#__codelineno-169-7"></a><span class="go">-rw-rw---- 1 systemd-coredump systemd-coredump        52 Jun 15 21:57 aria_log_control</span>
<a id="__codelineno-169-8" name="__codelineno-169-8" href="#__codelineno-169-8"></a><span class="go">-rw-rw---- 1 systemd-coredump systemd-coredump         9 Jun 15 21:57 ddl_recovery.log</span>
<a id="__codelineno-169-9" name="__codelineno-169-9" href="#__codelineno-169-9"></a><span class="go">-rw-rw---- 1 systemd-coredump systemd-coredump       868 Jun 15 21:57 ib_buffer_pool</span>
<a id="__codelineno-169-10" name="__codelineno-169-10" href="#__codelineno-169-10"></a><span class="go">-rw-rw---- 1 systemd-coredump systemd-coredump  12582912 Jun 15 21:57 ibdata1</span>
<a id="__codelineno-169-11" name="__codelineno-169-11" href="#__codelineno-169-11"></a><span class="go">-rw-rw---- 1 systemd-coredump systemd-coredump 100663296 Jun 15 21:57 ib_logfile0</span>
<a id="__codelineno-169-12" name="__codelineno-169-12" href="#__codelineno-169-12"></a><span class="go">-rw-rw---- 1 systemd-coredump systemd-coredump  12582912 Jun 15 21:57 ibtmp1</span>
<a id="__codelineno-169-13" name="__codelineno-169-13" href="#__codelineno-169-13"></a><span class="go">-rw-rw---- 1 systemd-coredump systemd-coredump         0 Jun 15 21:57 multi-master.info</span>
<a id="__codelineno-169-14" name="__codelineno-169-14" href="#__codelineno-169-14"></a><span class="go">drwx------ 2 systemd-coredump systemd-coredump      4096 Jun 15 21:57 mysql</span>
<a id="__codelineno-169-15" name="__codelineno-169-15" href="#__codelineno-169-15"></a><span class="go">-rw-r--r-- 1 systemd-coredump systemd-coredump        14 Jun 15 21:57 mysql_upgrade_info</span>
<a id="__codelineno-169-16" name="__codelineno-169-16" href="#__codelineno-169-16"></a><span class="go">drwx------ 2 systemd-coredump systemd-coredump      4096 Jun 15 21:57 performance_schema</span>
<a id="__codelineno-169-17" name="__codelineno-169-17" href="#__codelineno-169-17"></a><span class="go">drwx------ 2 systemd-coredump systemd-coredump     12288 Jun 15 21:57 sys</span>
</code></pre></div>
<h3 id="redes-con-docker-compose">Redes con docker-compose</h3>
<p>Ejemplo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-170-1" name="__codelineno-170-1" href="#__codelineno-170-1"></a><span class="go">version: &#39;3.1&#39;</span>
<a id="__codelineno-170-2" name="__codelineno-170-2" href="#__codelineno-170-2"></a><span class="go">services:</span>
<a id="__codelineno-170-3" name="__codelineno-170-3" href="#__codelineno-170-3"></a><span class="go">  app:</span>
<a id="__codelineno-170-4" name="__codelineno-170-4" href="#__codelineno-170-4"></a><span class="go">    container_name: servidor_web</span>
<a id="__codelineno-170-5" name="__codelineno-170-5" href="#__codelineno-170-5"></a><span class="go">    image: httpd:2.4</span>
<a id="__codelineno-170-6" name="__codelineno-170-6" href="#__codelineno-170-6"></a><span class="go">    restart: always</span>
<a id="__codelineno-170-7" name="__codelineno-170-7" href="#__codelineno-170-7"></a><span class="go">    ports:</span>
<a id="__codelineno-170-8" name="__codelineno-170-8" href="#__codelineno-170-8"></a><span class="go">      - 8080:80</span>
<a id="__codelineno-170-9" name="__codelineno-170-9" href="#__codelineno-170-9"></a><span class="go">    networks:</span>
<a id="__codelineno-170-10" name="__codelineno-170-10" href="#__codelineno-170-10"></a><span class="go">      red_web:</span>
<a id="__codelineno-170-11" name="__codelineno-170-11" href="#__codelineno-170-11"></a><span class="go">        ipv4_address: 192.168.10.10</span>
<a id="__codelineno-170-12" name="__codelineno-170-12" href="#__codelineno-170-12"></a><span class="go">      red_interna:</span>
<a id="__codelineno-170-13" name="__codelineno-170-13" href="#__codelineno-170-13"></a><span class="go">        ipv4_address: 192.168.20.10</span>
<a id="__codelineno-170-14" name="__codelineno-170-14" href="#__codelineno-170-14"></a><span class="go">    hostname: servidor_web</span>
<a id="__codelineno-170-15" name="__codelineno-170-15" href="#__codelineno-170-15"></a>
<a id="__codelineno-170-16" name="__codelineno-170-16" href="#__codelineno-170-16"></a><span class="go">  db:</span>
<a id="__codelineno-170-17" name="__codelineno-170-17" href="#__codelineno-170-17"></a><span class="go">    container_name: servidor_mariadb</span>
<a id="__codelineno-170-18" name="__codelineno-170-18" href="#__codelineno-170-18"></a><span class="go">    image: mariadb</span>
<a id="__codelineno-170-19" name="__codelineno-170-19" href="#__codelineno-170-19"></a><span class="go">    environment:</span>
<a id="__codelineno-170-20" name="__codelineno-170-20" href="#__codelineno-170-20"></a><span class="go">      MYSQL_ROOT_PASSWORD: asdasd</span>
<a id="__codelineno-170-21" name="__codelineno-170-21" href="#__codelineno-170-21"></a><span class="go">    restart: always</span>
<a id="__codelineno-170-22" name="__codelineno-170-22" href="#__codelineno-170-22"></a><span class="go">    networks:</span>
<a id="__codelineno-170-23" name="__codelineno-170-23" href="#__codelineno-170-23"></a><span class="go">      red_interna:</span>
<a id="__codelineno-170-24" name="__codelineno-170-24" href="#__codelineno-170-24"></a><span class="go">        ipv4_address: 192.168.20.20</span>
<a id="__codelineno-170-25" name="__codelineno-170-25" href="#__codelineno-170-25"></a><span class="go">    hostname: servidor_mariadb</span>
<a id="__codelineno-170-26" name="__codelineno-170-26" href="#__codelineno-170-26"></a><span class="go">networks:</span>
<a id="__codelineno-170-27" name="__codelineno-170-27" href="#__codelineno-170-27"></a><span class="go">    red_web:</span>
<a id="__codelineno-170-28" name="__codelineno-170-28" href="#__codelineno-170-28"></a><span class="go">        ipam:</span>
<a id="__codelineno-170-29" name="__codelineno-170-29" href="#__codelineno-170-29"></a><span class="go">            config:</span>
<a id="__codelineno-170-30" name="__codelineno-170-30" href="#__codelineno-170-30"></a><span class="go">              - subnet: 192.168.10.0/24</span>
<a id="__codelineno-170-31" name="__codelineno-170-31" href="#__codelineno-170-31"></a><span class="go">    red_interna:</span>
<a id="__codelineno-170-32" name="__codelineno-170-32" href="#__codelineno-170-32"></a><span class="go">        ipam:</span>
<a id="__codelineno-170-33" name="__codelineno-170-33" href="#__codelineno-170-33"></a><span class="go">            config:</span>
<a id="__codelineno-170-34" name="__codelineno-170-34" href="#__codelineno-170-34"></a><span class="go">              - subnet: 192.168.20.0/24</span>
</code></pre></div>
<p>Lanzo el escenario:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-171-1" name="__codelineno-171-1" href="#__codelineno-171-1"></a><span class="gp">atlas@olympus:~/docker/redes$ </span>docker-compose<span class="w"> </span>up<span class="w"> </span>-d
<a id="__codelineno-171-2" name="__codelineno-171-2" href="#__codelineno-171-2"></a><span class="go">Creating network &quot;redes_red_web&quot; with the default driver</span>
<a id="__codelineno-171-3" name="__codelineno-171-3" href="#__codelineno-171-3"></a><span class="go">Creating network &quot;redes_red_interna&quot; with the default driver</span>
<a id="__codelineno-171-4" name="__codelineno-171-4" href="#__codelineno-171-4"></a><span class="go">Creating servidor_web     ... done</span>
<a id="__codelineno-171-5" name="__codelineno-171-5" href="#__codelineno-171-5"></a><span class="go">Creating servidor_mariadb ... done</span>
</code></pre></div>
<p>Compruebo que los contenedores se están ejecutando:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-172-1" name="__codelineno-172-1" href="#__codelineno-172-1"></a><span class="gp">atlas@olympus:~/docker/redes$ </span>docker-compose<span class="w"> </span>ps
<a id="__codelineno-172-2" name="__codelineno-172-2" href="#__codelineno-172-2"></a><span class="go">      Name                    Command              State          Ports</span>
<a id="__codelineno-172-3" name="__codelineno-172-3" href="#__codelineno-172-3"></a><span class="go">-------------------------------------------------------------------------------</span>
<a id="__codelineno-172-4" name="__codelineno-172-4" href="#__codelineno-172-4"></a><span class="go">servidor_mariadb   docker-entrypoint.sh mariadbd   Up      3306/tcp</span>
<a id="__codelineno-172-5" name="__codelineno-172-5" href="#__codelineno-172-5"></a><span class="go">servidor_web       httpd-foreground                Up      0.0.0.0:8080-&gt;80/tcp</span>
</code></pre></div>
<p>Accedo a <code>servidor_web</code> e instalo paquetes para comprobaciones:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-173-1" name="__codelineno-173-1" href="#__codelineno-173-1"></a><span class="gp">atlas@olympus:~/docker/redes$ </span>docker-compose<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>app<span class="w"> </span>bash
<a id="__codelineno-173-2" name="__codelineno-173-2" href="#__codelineno-173-2"></a><span class="gp">root@servidor_web:/usr/local/apache2# </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>inetutils-ping<span class="w"> </span>iproute2<span class="w"> </span>dnsutils
<a id="__codelineno-173-3" name="__codelineno-173-3" href="#__codelineno-173-3"></a><span class="go">Get:1 http://deb.debian.org/debian bullseye InRelease [116 kB]</span>
<a id="__codelineno-173-4" name="__codelineno-173-4" href="#__codelineno-173-4"></a><span class="go">Get:2 http://security.debian.org/debian-security bullseye-security InRelease [44.1 kB]</span>
<a id="__codelineno-173-5" name="__codelineno-173-5" href="#__codelineno-173-5"></a><span class="go">Get:3 http://deb.debian.org/debian bullseye-updates InRelease [39.4 kB]</span>
<a id="__codelineno-173-6" name="__codelineno-173-6" href="#__codelineno-173-6"></a><span class="go">Get:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8182 kB]</span>
<a id="__codelineno-173-7" name="__codelineno-173-7" href="#__codelineno-173-7"></a><span class="go">Get:5 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [154 kB]</span>
<a id="__codelineno-173-8" name="__codelineno-173-8" href="#__codelineno-173-8"></a><span class="go">Get:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [2592 B]</span>
<a id="__codelineno-173-9" name="__codelineno-173-9" href="#__codelineno-173-9"></a><span class="go">Fetched 8539 kB in 4s (2245 kB/s)</span>
<a id="__codelineno-173-10" name="__codelineno-173-10" href="#__codelineno-173-10"></a><span class="go">Reading package lists... Done</span>
<a id="__codelineno-173-11" name="__codelineno-173-11" href="#__codelineno-173-11"></a><span class="go">Reading package lists... Done</span>
<a id="__codelineno-173-12" name="__codelineno-173-12" href="#__codelineno-173-12"></a><span class="go">Building dependency tree... Done</span>
<a id="__codelineno-173-13" name="__codelineno-173-13" href="#__codelineno-173-13"></a><span class="go">Reading state information... Done</span>
<a id="__codelineno-173-14" name="__codelineno-173-14" href="#__codelineno-173-14"></a><span class="go">The following additional packages will be installed:</span>
<a id="__codelineno-173-15" name="__codelineno-173-15" href="#__codelineno-173-15"></a><span class="go">  bind9-dnsutils bind9-host bind9-libs libatm1 libbpf0 libbsd0 libcap2 libcap2-bin libedit2 libelf1 libfstrm0 libjson-c5 liblmdb0 libmaxminddb0 libmd0 libmnl0 libpam-cap</span>
<a id="__codelineno-173-16" name="__codelineno-173-16" href="#__codelineno-173-16"></a><span class="go">  libprotobuf-c1 libuv1 libxtables12 netbase</span>
<a id="__codelineno-173-17" name="__codelineno-173-17" href="#__codelineno-173-17"></a><span class="go">Suggested packages:</span>
<a id="__codelineno-173-18" name="__codelineno-173-18" href="#__codelineno-173-18"></a><span class="go">  iproute2-doc mmdb-bin</span>
<a id="__codelineno-173-19" name="__codelineno-173-19" href="#__codelineno-173-19"></a><span class="go">The following NEW packages will be installed:</span>
<a id="__codelineno-173-20" name="__codelineno-173-20" href="#__codelineno-173-20"></a><span class="go">  bind9-dnsutils bind9-host bind9-libs dnsutils inetutils-ping iproute2 libatm1 libbpf0 libbsd0 libcap2 libcap2-bin libedit2 libelf1 libfstrm0 libjson-c5 liblmdb0</span>
<a id="__codelineno-173-21" name="__codelineno-173-21" href="#__codelineno-173-21"></a><span class="go">  libmaxminddb0 libmd0 libmnl0 libpam-cap libprotobuf-c1 libuv1 libxtables12 netbase</span>
<a id="__codelineno-173-22" name="__codelineno-173-22" href="#__codelineno-173-22"></a><span class="go">0 upgraded, 24 newly installed, 0 to remove and 1 not upgraded.</span>
<a id="__codelineno-173-23" name="__codelineno-173-23" href="#__codelineno-173-23"></a><span class="go">Need to get 4565 kB of archives.</span>
<a id="__codelineno-173-24" name="__codelineno-173-24" href="#__codelineno-173-24"></a><span class="go">After this operation, 11.6 MB of additional disk space will be used.</span>
<a id="__codelineno-173-25" name="__codelineno-173-25" href="#__codelineno-173-25"></a><span class="go">Get:1 http://deb.debian.org/debian bullseye/main amd64 libelf1 amd64 0.183-1 [165 kB]</span>
<a id="__codelineno-173-26" name="__codelineno-173-26" href="#__codelineno-173-26"></a><span class="go">Get:2 http://deb.debian.org/debian bullseye/main amd64 libbpf0 amd64 1:0.3-2 [98.3 kB]</span>
<a id="__codelineno-173-27" name="__codelineno-173-27" href="#__codelineno-173-27"></a><span class="go">Get:3 http://deb.debian.org/debian bullseye/main amd64 libmd0 amd64 1.0.3-3 [28.0 kB]</span>
<a id="__codelineno-173-28" name="__codelineno-173-28" href="#__codelineno-173-28"></a><span class="go">Get:4 http://deb.debian.org/debian bullseye/main amd64 libbsd0 amd64 0.11.3-1 [108 kB]</span>
<a id="__codelineno-173-29" name="__codelineno-173-29" href="#__codelineno-173-29"></a><span class="go">Get:5 http://deb.debian.org/debian bullseye/main amd64 libcap2 amd64 1:2.44-1 [23.6 kB]</span>
<a id="__codelineno-173-30" name="__codelineno-173-30" href="#__codelineno-173-30"></a><span class="go">Get:6 http://deb.debian.org/debian bullseye/main amd64 libmnl0 amd64 1.0.4-3 [12.5 kB]</span>
<a id="__codelineno-173-31" name="__codelineno-173-31" href="#__codelineno-173-31"></a><span class="go">Get:7 http://deb.debian.org/debian bullseye/main amd64 libxtables12 amd64 1.8.7-1 [45.1 kB]</span>
<a id="__codelineno-173-32" name="__codelineno-173-32" href="#__codelineno-173-32"></a><span class="go">Get:8 http://deb.debian.org/debian bullseye/main amd64 libcap2-bin amd64 1:2.44-1 [32.6 kB]</span>
<a id="__codelineno-173-33" name="__codelineno-173-33" href="#__codelineno-173-33"></a><span class="go">Get:9 http://deb.debian.org/debian bullseye/main amd64 iproute2 amd64 5.10.0-4 [930 kB]</span>
<a id="__codelineno-173-34" name="__codelineno-173-34" href="#__codelineno-173-34"></a><span class="go">Get:10 http://deb.debian.org/debian bullseye/main amd64 netbase all 6.3 [19.9 kB]</span>
<a id="__codelineno-173-35" name="__codelineno-173-35" href="#__codelineno-173-35"></a><span class="go">Get:11 http://deb.debian.org/debian bullseye/main amd64 libfstrm0 amd64 0.6.0-1+b1 [21.5 kB]</span>
<a id="__codelineno-173-36" name="__codelineno-173-36" href="#__codelineno-173-36"></a><span class="go">Get:12 http://deb.debian.org/debian bullseye/main amd64 libjson-c5 amd64 0.15-2 [42.8 kB]</span>
<a id="__codelineno-173-37" name="__codelineno-173-37" href="#__codelineno-173-37"></a><span class="go">Get:13 http://deb.debian.org/debian bullseye/main amd64 liblmdb0 amd64 0.9.24-1 [45.0 kB]</span>
<a id="__codelineno-173-38" name="__codelineno-173-38" href="#__codelineno-173-38"></a><span class="go">Get:14 http://deb.debian.org/debian bullseye/main amd64 libmaxminddb0 amd64 1.5.2-1 [29.8 kB]</span>
<a id="__codelineno-173-39" name="__codelineno-173-39" href="#__codelineno-173-39"></a><span class="go">Get:15 http://deb.debian.org/debian bullseye/main amd64 libprotobuf-c1 amd64 1.3.3-1+b2 [27.0 kB]</span>
<a id="__codelineno-173-40" name="__codelineno-173-40" href="#__codelineno-173-40"></a><span class="go">Get:16 http://deb.debian.org/debian bullseye/main amd64 libuv1 amd64 1.40.0-2 [132 kB]</span>
<a id="__codelineno-173-41" name="__codelineno-173-41" href="#__codelineno-173-41"></a><span class="go">Get:17 http://deb.debian.org/debian bullseye/main amd64 bind9-libs amd64 1:9.16.27-1~deb11u1 [1413 kB]</span>
<a id="__codelineno-173-42" name="__codelineno-173-42" href="#__codelineno-173-42"></a><span class="go">Get:18 http://deb.debian.org/debian bullseye/main amd64 bind9-host amd64 1:9.16.27-1~deb11u1 [302 kB]</span>
<a id="__codelineno-173-43" name="__codelineno-173-43" href="#__codelineno-173-43"></a><span class="go">Get:19 http://deb.debian.org/debian bullseye/main amd64 libedit2 amd64 3.1-20191231-2+b1 [96.7 kB]</span>
<a id="__codelineno-173-44" name="__codelineno-173-44" href="#__codelineno-173-44"></a><span class="go">Get:20 http://deb.debian.org/debian bullseye/main amd64 bind9-dnsutils amd64 1:9.16.27-1~deb11u1 [398 kB]</span>
<a id="__codelineno-173-45" name="__codelineno-173-45" href="#__codelineno-173-45"></a><span class="go">Get:21 http://deb.debian.org/debian bullseye/main amd64 dnsutils all 1:9.16.27-1~deb11u1 [262 kB]</span>
<a id="__codelineno-173-46" name="__codelineno-173-46" href="#__codelineno-173-46"></a><span class="go">Get:22 http://deb.debian.org/debian bullseye/main amd64 inetutils-ping amd64 2:2.0-1 [245 kB]</span>
<a id="__codelineno-173-47" name="__codelineno-173-47" href="#__codelineno-173-47"></a><span class="go">Get:23 http://deb.debian.org/debian bullseye/main amd64 libatm1 amd64 1:2.5.1-4 [71.3 kB]</span>
<a id="__codelineno-173-48" name="__codelineno-173-48" href="#__codelineno-173-48"></a><span class="go">Get:24 http://deb.debian.org/debian bullseye/main amd64 libpam-cap amd64 1:2.44-1 [15.4 kB]</span>
<a id="__codelineno-173-49" name="__codelineno-173-49" href="#__codelineno-173-49"></a><span class="go">Fetched 4565 kB in 2s (2995 kB/s)</span>
<a id="__codelineno-173-50" name="__codelineno-173-50" href="#__codelineno-173-50"></a><span class="go">debconf: delaying package configuration, since apt-utils is not installed</span>
<a id="__codelineno-173-51" name="__codelineno-173-51" href="#__codelineno-173-51"></a><span class="go">Selecting previously unselected package libelf1:amd64.</span>
<a id="__codelineno-173-52" name="__codelineno-173-52" href="#__codelineno-173-52"></a><span class="gp gp-VirtualEnv">(Reading database ... 6833 files and directories currently installed.)</span>
<a id="__codelineno-173-53" name="__codelineno-173-53" href="#__codelineno-173-53"></a><span class="go">Preparing to unpack .../00-libelf1_0.183-1_amd64.deb ...</span>
<a id="__codelineno-173-54" name="__codelineno-173-54" href="#__codelineno-173-54"></a><span class="go">Unpacking libelf1:amd64 (0.183-1) ...</span>
<a id="__codelineno-173-55" name="__codelineno-173-55" href="#__codelineno-173-55"></a><span class="go">Selecting previously unselected package libbpf0:amd64.</span>
<a id="__codelineno-173-56" name="__codelineno-173-56" href="#__codelineno-173-56"></a><span class="go">Preparing to unpack .../01-libbpf0_1%3a0.3-2_amd64.deb ...</span>
<a id="__codelineno-173-57" name="__codelineno-173-57" href="#__codelineno-173-57"></a><span class="go">Unpacking libbpf0:amd64 (1:0.3-2) ...</span>
<a id="__codelineno-173-58" name="__codelineno-173-58" href="#__codelineno-173-58"></a><span class="go">Selecting previously unselected package libmd0:amd64.</span>
<a id="__codelineno-173-59" name="__codelineno-173-59" href="#__codelineno-173-59"></a><span class="go">Preparing to unpack .../02-libmd0_1.0.3-3_amd64.deb ...</span>
<a id="__codelineno-173-60" name="__codelineno-173-60" href="#__codelineno-173-60"></a><span class="go">Unpacking libmd0:amd64 (1.0.3-3) ...</span>
<a id="__codelineno-173-61" name="__codelineno-173-61" href="#__codelineno-173-61"></a><span class="go">Selecting previously unselected package libbsd0:amd64.</span>
<a id="__codelineno-173-62" name="__codelineno-173-62" href="#__codelineno-173-62"></a><span class="go">Preparing to unpack .../03-libbsd0_0.11.3-1_amd64.deb ...</span>
<a id="__codelineno-173-63" name="__codelineno-173-63" href="#__codelineno-173-63"></a><span class="go">Unpacking libbsd0:amd64 (0.11.3-1) ...</span>
<a id="__codelineno-173-64" name="__codelineno-173-64" href="#__codelineno-173-64"></a><span class="go">Selecting previously unselected package libcap2:amd64.</span>
<a id="__codelineno-173-65" name="__codelineno-173-65" href="#__codelineno-173-65"></a><span class="go">Preparing to unpack .../04-libcap2_1%3a2.44-1_amd64.deb ...</span>
<a id="__codelineno-173-66" name="__codelineno-173-66" href="#__codelineno-173-66"></a><span class="go">Unpacking libcap2:amd64 (1:2.44-1) ...</span>
<a id="__codelineno-173-67" name="__codelineno-173-67" href="#__codelineno-173-67"></a><span class="go">Selecting previously unselected package libmnl0:amd64.</span>
<a id="__codelineno-173-68" name="__codelineno-173-68" href="#__codelineno-173-68"></a><span class="go">Preparing to unpack .../05-libmnl0_1.0.4-3_amd64.deb ...</span>
<a id="__codelineno-173-69" name="__codelineno-173-69" href="#__codelineno-173-69"></a><span class="go">Unpacking libmnl0:amd64 (1.0.4-3) ...</span>
<a id="__codelineno-173-70" name="__codelineno-173-70" href="#__codelineno-173-70"></a><span class="go">Selecting previously unselected package libxtables12:amd64.</span>
<a id="__codelineno-173-71" name="__codelineno-173-71" href="#__codelineno-173-71"></a><span class="go">Preparing to unpack .../06-libxtables12_1.8.7-1_amd64.deb ...</span>
<a id="__codelineno-173-72" name="__codelineno-173-72" href="#__codelineno-173-72"></a><span class="go">Unpacking libxtables12:amd64 (1.8.7-1) ...</span>
<a id="__codelineno-173-73" name="__codelineno-173-73" href="#__codelineno-173-73"></a><span class="go">Selecting previously unselected package libcap2-bin.</span>
<a id="__codelineno-173-74" name="__codelineno-173-74" href="#__codelineno-173-74"></a><span class="go">Preparing to unpack .../07-libcap2-bin_1%3a2.44-1_amd64.deb ...</span>
<a id="__codelineno-173-75" name="__codelineno-173-75" href="#__codelineno-173-75"></a><span class="go">Unpacking libcap2-bin (1:2.44-1) ...</span>
<a id="__codelineno-173-76" name="__codelineno-173-76" href="#__codelineno-173-76"></a><span class="go">Selecting previously unselected package iproute2.</span>
<a id="__codelineno-173-77" name="__codelineno-173-77" href="#__codelineno-173-77"></a><span class="go">Preparing to unpack .../08-iproute2_5.10.0-4_amd64.deb ...</span>
<a id="__codelineno-173-78" name="__codelineno-173-78" href="#__codelineno-173-78"></a><span class="go">Unpacking iproute2 (5.10.0-4) ...</span>
<a id="__codelineno-173-79" name="__codelineno-173-79" href="#__codelineno-173-79"></a><span class="go">Selecting previously unselected package netbase.</span>
<a id="__codelineno-173-80" name="__codelineno-173-80" href="#__codelineno-173-80"></a><span class="go">Preparing to unpack .../09-netbase_6.3_all.deb ...</span>
<a id="__codelineno-173-81" name="__codelineno-173-81" href="#__codelineno-173-81"></a><span class="go">Unpacking netbase (6.3) ...</span>
<a id="__codelineno-173-82" name="__codelineno-173-82" href="#__codelineno-173-82"></a><span class="go">Selecting previously unselected package libfstrm0:amd64.</span>
<a id="__codelineno-173-83" name="__codelineno-173-83" href="#__codelineno-173-83"></a><span class="go">Preparing to unpack .../10-libfstrm0_0.6.0-1+b1_amd64.deb ...</span>
<a id="__codelineno-173-84" name="__codelineno-173-84" href="#__codelineno-173-84"></a><span class="go">Unpacking libfstrm0:amd64 (0.6.0-1+b1) ...</span>
<a id="__codelineno-173-85" name="__codelineno-173-85" href="#__codelineno-173-85"></a><span class="go">Selecting previously unselected package libjson-c5:amd64.</span>
<a id="__codelineno-173-86" name="__codelineno-173-86" href="#__codelineno-173-86"></a><span class="go">Preparing to unpack .../11-libjson-c5_0.15-2_amd64.deb ...</span>
<a id="__codelineno-173-87" name="__codelineno-173-87" href="#__codelineno-173-87"></a><span class="go">Unpacking libjson-c5:amd64 (0.15-2) ...</span>
<a id="__codelineno-173-88" name="__codelineno-173-88" href="#__codelineno-173-88"></a><span class="go">Selecting previously unselected package liblmdb0:amd64.</span>
<a id="__codelineno-173-89" name="__codelineno-173-89" href="#__codelineno-173-89"></a><span class="go">Preparing to unpack .../12-liblmdb0_0.9.24-1_amd64.deb ...</span>
<a id="__codelineno-173-90" name="__codelineno-173-90" href="#__codelineno-173-90"></a><span class="go">Unpacking liblmdb0:amd64 (0.9.24-1) ...</span>
<a id="__codelineno-173-91" name="__codelineno-173-91" href="#__codelineno-173-91"></a><span class="go">Selecting previously unselected package libmaxminddb0:amd64.</span>
<a id="__codelineno-173-92" name="__codelineno-173-92" href="#__codelineno-173-92"></a><span class="go">Preparing to unpack .../13-libmaxminddb0_1.5.2-1_amd64.deb ...</span>
<a id="__codelineno-173-93" name="__codelineno-173-93" href="#__codelineno-173-93"></a><span class="go">Unpacking libmaxminddb0:amd64 (1.5.2-1) ...</span>
<a id="__codelineno-173-94" name="__codelineno-173-94" href="#__codelineno-173-94"></a><span class="go">Selecting previously unselected package libprotobuf-c1:amd64.</span>
<a id="__codelineno-173-95" name="__codelineno-173-95" href="#__codelineno-173-95"></a><span class="go">Preparing to unpack .../14-libprotobuf-c1_1.3.3-1+b2_amd64.deb ...</span>
<a id="__codelineno-173-96" name="__codelineno-173-96" href="#__codelineno-173-96"></a><span class="go">Unpacking libprotobuf-c1:amd64 (1.3.3-1+b2) ...</span>
<a id="__codelineno-173-97" name="__codelineno-173-97" href="#__codelineno-173-97"></a><span class="go">Selecting previously unselected package libuv1:amd64.</span>
<a id="__codelineno-173-98" name="__codelineno-173-98" href="#__codelineno-173-98"></a><span class="go">Preparing to unpack .../15-libuv1_1.40.0-2_amd64.deb ...</span>
<a id="__codelineno-173-99" name="__codelineno-173-99" href="#__codelineno-173-99"></a><span class="go">Unpacking libuv1:amd64 (1.40.0-2) ...</span>
<a id="__codelineno-173-100" name="__codelineno-173-100" href="#__codelineno-173-100"></a><span class="go">Selecting previously unselected package bind9-libs:amd64.</span>
<a id="__codelineno-173-101" name="__codelineno-173-101" href="#__codelineno-173-101"></a><span class="go">Preparing to unpack .../16-bind9-libs_1%3a9.16.27-1~deb11u1_amd64.deb ...</span>
<a id="__codelineno-173-102" name="__codelineno-173-102" href="#__codelineno-173-102"></a><span class="go">Unpacking bind9-libs:amd64 (1:9.16.27-1~deb11u1) ...</span>
<a id="__codelineno-173-103" name="__codelineno-173-103" href="#__codelineno-173-103"></a><span class="go">Selecting previously unselected package bind9-host.</span>
<a id="__codelineno-173-104" name="__codelineno-173-104" href="#__codelineno-173-104"></a><span class="go">Preparing to unpack .../17-bind9-host_1%3a9.16.27-1~deb11u1_amd64.deb ...</span>
<a id="__codelineno-173-105" name="__codelineno-173-105" href="#__codelineno-173-105"></a><span class="go">Unpacking bind9-host (1:9.16.27-1~deb11u1) ...</span>
<a id="__codelineno-173-106" name="__codelineno-173-106" href="#__codelineno-173-106"></a><span class="go">Selecting previously unselected package libedit2:amd64.</span>
<a id="__codelineno-173-107" name="__codelineno-173-107" href="#__codelineno-173-107"></a><span class="go">Preparing to unpack .../18-libedit2_3.1-20191231-2+b1_amd64.deb ...</span>
<a id="__codelineno-173-108" name="__codelineno-173-108" href="#__codelineno-173-108"></a><span class="go">Unpacking libedit2:amd64 (3.1-20191231-2+b1) ...</span>
<a id="__codelineno-173-109" name="__codelineno-173-109" href="#__codelineno-173-109"></a><span class="go">Selecting previously unselected package bind9-dnsutils.</span>
<a id="__codelineno-173-110" name="__codelineno-173-110" href="#__codelineno-173-110"></a><span class="go">Preparing to unpack .../19-bind9-dnsutils_1%3a9.16.27-1~deb11u1_amd64.deb ...</span>
<a id="__codelineno-173-111" name="__codelineno-173-111" href="#__codelineno-173-111"></a><span class="go">Unpacking bind9-dnsutils (1:9.16.27-1~deb11u1) ...</span>
<a id="__codelineno-173-112" name="__codelineno-173-112" href="#__codelineno-173-112"></a><span class="go">Selecting previously unselected package dnsutils.</span>
<a id="__codelineno-173-113" name="__codelineno-173-113" href="#__codelineno-173-113"></a><span class="go">Preparing to unpack .../20-dnsutils_1%3a9.16.27-1~deb11u1_all.deb ...</span>
<a id="__codelineno-173-114" name="__codelineno-173-114" href="#__codelineno-173-114"></a><span class="go">Unpacking dnsutils (1:9.16.27-1~deb11u1) ...</span>
<a id="__codelineno-173-115" name="__codelineno-173-115" href="#__codelineno-173-115"></a><span class="go">Selecting previously unselected package inetutils-ping.</span>
<a id="__codelineno-173-116" name="__codelineno-173-116" href="#__codelineno-173-116"></a><span class="go">Preparing to unpack .../21-inetutils-ping_2%3a2.0-1_amd64.deb ...</span>
<a id="__codelineno-173-117" name="__codelineno-173-117" href="#__codelineno-173-117"></a><span class="go">Unpacking inetutils-ping (2:2.0-1) ...</span>
<a id="__codelineno-173-118" name="__codelineno-173-118" href="#__codelineno-173-118"></a><span class="go">Selecting previously unselected package libatm1:amd64.</span>
<a id="__codelineno-173-119" name="__codelineno-173-119" href="#__codelineno-173-119"></a><span class="go">Preparing to unpack .../22-libatm1_1%3a2.5.1-4_amd64.deb ...</span>
<a id="__codelineno-173-120" name="__codelineno-173-120" href="#__codelineno-173-120"></a><span class="go">Unpacking libatm1:amd64 (1:2.5.1-4) ...</span>
<a id="__codelineno-173-121" name="__codelineno-173-121" href="#__codelineno-173-121"></a><span class="go">Selecting previously unselected package libpam-cap:amd64.</span>
<a id="__codelineno-173-122" name="__codelineno-173-122" href="#__codelineno-173-122"></a><span class="go">Preparing to unpack .../23-libpam-cap_1%3a2.44-1_amd64.deb ...</span>
<a id="__codelineno-173-123" name="__codelineno-173-123" href="#__codelineno-173-123"></a><span class="go">Unpacking libpam-cap:amd64 (1:2.44-1) ...</span>
<a id="__codelineno-173-124" name="__codelineno-173-124" href="#__codelineno-173-124"></a><span class="go">Setting up liblmdb0:amd64 (0.9.24-1) ...</span>
<a id="__codelineno-173-125" name="__codelineno-173-125" href="#__codelineno-173-125"></a><span class="go">Setting up libmaxminddb0:amd64 (1.5.2-1) ...</span>
<a id="__codelineno-173-126" name="__codelineno-173-126" href="#__codelineno-173-126"></a><span class="go">Setting up libfstrm0:amd64 (0.6.0-1+b1) ...</span>
<a id="__codelineno-173-127" name="__codelineno-173-127" href="#__codelineno-173-127"></a><span class="go">Setting up libatm1:amd64 (1:2.5.1-4) ...</span>
<a id="__codelineno-173-128" name="__codelineno-173-128" href="#__codelineno-173-128"></a><span class="go">Setting up libprotobuf-c1:amd64 (1.3.3-1+b2) ...</span>
<a id="__codelineno-173-129" name="__codelineno-173-129" href="#__codelineno-173-129"></a><span class="go">Setting up libcap2:amd64 (1:2.44-1) ...</span>
<a id="__codelineno-173-130" name="__codelineno-173-130" href="#__codelineno-173-130"></a><span class="go">Setting up libcap2-bin (1:2.44-1) ...</span>
<a id="__codelineno-173-131" name="__codelineno-173-131" href="#__codelineno-173-131"></a><span class="go">Setting up libuv1:amd64 (1.40.0-2) ...</span>
<a id="__codelineno-173-132" name="__codelineno-173-132" href="#__codelineno-173-132"></a><span class="go">Setting up libmnl0:amd64 (1.0.4-3) ...</span>
<a id="__codelineno-173-133" name="__codelineno-173-133" href="#__codelineno-173-133"></a><span class="go">Setting up libxtables12:amd64 (1.8.7-1) ...</span>
<a id="__codelineno-173-134" name="__codelineno-173-134" href="#__codelineno-173-134"></a><span class="go">Setting up libmd0:amd64 (1.0.3-3) ...</span>
<a id="__codelineno-173-135" name="__codelineno-173-135" href="#__codelineno-173-135"></a><span class="go">Setting up netbase (6.3) ...</span>
<a id="__codelineno-173-136" name="__codelineno-173-136" href="#__codelineno-173-136"></a><span class="go">Setting up libbsd0:amd64 (0.11.3-1) ...</span>
<a id="__codelineno-173-137" name="__codelineno-173-137" href="#__codelineno-173-137"></a><span class="go">Setting up libelf1:amd64 (0.183-1) ...</span>
<a id="__codelineno-173-138" name="__codelineno-173-138" href="#__codelineno-173-138"></a><span class="go">Setting up libpam-cap:amd64 (1:2.44-1) ...</span>
<a id="__codelineno-173-139" name="__codelineno-173-139" href="#__codelineno-173-139"></a><span class="go">debconf: unable to initialize frontend: Dialog</span>
<a id="__codelineno-173-140" name="__codelineno-173-140" href="#__codelineno-173-140"></a><span class="go">debconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 78.)</span>
<a id="__codelineno-173-141" name="__codelineno-173-141" href="#__codelineno-173-141"></a><span class="go">debconf: falling back to frontend: Readline</span>
<a id="__codelineno-173-142" name="__codelineno-173-142" href="#__codelineno-173-142"></a><span class="go">debconf: unable to initialize frontend: Readline</span>
<a id="__codelineno-173-143" name="__codelineno-173-143" href="#__codelineno-173-143"></a><span class="go">debconf: (Can&#39;t locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)</span>
<a id="__codelineno-173-144" name="__codelineno-173-144" href="#__codelineno-173-144"></a><span class="go">debconf: falling back to frontend: Teletype</span>
<a id="__codelineno-173-145" name="__codelineno-173-145" href="#__codelineno-173-145"></a><span class="go">Setting up libjson-c5:amd64 (0.15-2) ...</span>
<a id="__codelineno-173-146" name="__codelineno-173-146" href="#__codelineno-173-146"></a><span class="go">Setting up bind9-libs:amd64 (1:9.16.27-1~deb11u1) ...</span>
<a id="__codelineno-173-147" name="__codelineno-173-147" href="#__codelineno-173-147"></a><span class="go">Setting up libedit2:amd64 (3.1-20191231-2+b1) ...</span>
<a id="__codelineno-173-148" name="__codelineno-173-148" href="#__codelineno-173-148"></a><span class="go">Setting up inetutils-ping (2:2.0-1) ...</span>
<a id="__codelineno-173-149" name="__codelineno-173-149" href="#__codelineno-173-149"></a><span class="go">Setting up libbpf0:amd64 (1:0.3-2) ...</span>
<a id="__codelineno-173-150" name="__codelineno-173-150" href="#__codelineno-173-150"></a><span class="go">Setting up bind9-host (1:9.16.27-1~deb11u1) ...</span>
<a id="__codelineno-173-151" name="__codelineno-173-151" href="#__codelineno-173-151"></a><span class="go">Setting up iproute2 (5.10.0-4) ...</span>
<a id="__codelineno-173-152" name="__codelineno-173-152" href="#__codelineno-173-152"></a><span class="go">debconf: unable to initialize frontend: Dialog</span>
<a id="__codelineno-173-153" name="__codelineno-173-153" href="#__codelineno-173-153"></a><span class="go">debconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 78.)</span>
<a id="__codelineno-173-154" name="__codelineno-173-154" href="#__codelineno-173-154"></a><span class="go">debconf: falling back to frontend: Readline</span>
<a id="__codelineno-173-155" name="__codelineno-173-155" href="#__codelineno-173-155"></a><span class="go">debconf: unable to initialize frontend: Readline</span>
<a id="__codelineno-173-156" name="__codelineno-173-156" href="#__codelineno-173-156"></a><span class="go">debconf: (Can&#39;t locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)</span>
<a id="__codelineno-173-157" name="__codelineno-173-157" href="#__codelineno-173-157"></a><span class="go">debconf: falling back to frontend: Teletype</span>
<a id="__codelineno-173-158" name="__codelineno-173-158" href="#__codelineno-173-158"></a><span class="go">Setting up bind9-dnsutils (1:9.16.27-1~deb11u1) ...</span>
<a id="__codelineno-173-159" name="__codelineno-173-159" href="#__codelineno-173-159"></a><span class="go">Setting up dnsutils (1:9.16.27-1~deb11u1) ...</span>
<a id="__codelineno-173-160" name="__codelineno-173-160" href="#__codelineno-173-160"></a><span class="go">Processing triggers for libc-bin (2.31-13+deb11u3) ...</span>
</code></pre></div>
<p>Compruebo que el hostname es correcto:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-174-1" name="__codelineno-174-1" href="#__codelineno-174-1"></a><span class="gp">root@servidor_web:/usr/local/apache2# </span>cat<span class="w"> </span>/etc/hostname
<a id="__codelineno-174-2" name="__codelineno-174-2" href="#__codelineno-174-2"></a><span class="go">servidor_web</span>
</code></pre></div>
<p>Compruebo que <code>servidor_web</code> está conectado a las dos redes:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-175-1" name="__codelineno-175-1" href="#__codelineno-175-1"></a><span class="gp">root@servidor_web:/usr/local/apache2# </span>ip<span class="w"> </span>a
<a id="__codelineno-175-2" name="__codelineno-175-2" href="#__codelineno-175-2"></a><span class="go">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span>
<a id="__codelineno-175-3" name="__codelineno-175-3" href="#__codelineno-175-3"></a><span class="go">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span>
<a id="__codelineno-175-4" name="__codelineno-175-4" href="#__codelineno-175-4"></a><span class="go">    inet 127.0.0.1/8 scope host lo</span>
<a id="__codelineno-175-5" name="__codelineno-175-5" href="#__codelineno-175-5"></a><span class="go">       valid_lft forever preferred_lft forever</span>
<a id="__codelineno-175-6" name="__codelineno-175-6" href="#__codelineno-175-6"></a><span class="go">30: eth0@if31: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default</span>
<a id="__codelineno-175-7" name="__codelineno-175-7" href="#__codelineno-175-7"></a><span class="go">    link/ether 02:42:c0:a8:14:0a brd ff:ff:ff:ff:ff:ff link-netnsid 0</span>
<a id="__codelineno-175-8" name="__codelineno-175-8" href="#__codelineno-175-8"></a><span class="go">    inet 192.168.20.10/24 brd 192.168.20.255 scope global eth0</span>
<a id="__codelineno-175-9" name="__codelineno-175-9" href="#__codelineno-175-9"></a><span class="go">       valid_lft forever preferred_lft forever</span>
<a id="__codelineno-175-10" name="__codelineno-175-10" href="#__codelineno-175-10"></a><span class="go">32: eth1@if33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default</span>
<a id="__codelineno-175-11" name="__codelineno-175-11" href="#__codelineno-175-11"></a><span class="go">    link/ether 02:42:c0:a8:0a:0a brd ff:ff:ff:ff:ff:ff link-netnsid 0</span>
<a id="__codelineno-175-12" name="__codelineno-175-12" href="#__codelineno-175-12"></a><span class="go">    inet 192.168.10.10/24 brd 192.168.10.255 scope global eth1</span>
<a id="__codelineno-175-13" name="__codelineno-175-13" href="#__codelineno-175-13"></a><span class="go">       valid_lft forever preferred_lft forever</span>
</code></pre></div>
<p>Compruebo que hay resolución DNS al nombre de servicio/contenedor <code>servidor_web</code> &rarr; <code>servidor_mariadb</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-176-1" name="__codelineno-176-1" href="#__codelineno-176-1"></a><span class="gp">root@servidor_web:/usr/local/apache2# </span>dig<span class="w"> </span>servidor_mariadb
<a id="__codelineno-176-2" name="__codelineno-176-2" href="#__codelineno-176-2"></a>
<a id="__codelineno-176-3" name="__codelineno-176-3" href="#__codelineno-176-3"></a><span class="go">; &lt;&lt;&gt;&gt; DiG 9.16.27-Debian &lt;&lt;&gt;&gt; servidor_mariadb</span>
<a id="__codelineno-176-4" name="__codelineno-176-4" href="#__codelineno-176-4"></a><span class="go">;; global options: +cmd</span>
<a id="__codelineno-176-5" name="__codelineno-176-5" href="#__codelineno-176-5"></a><span class="go">;; Got answer:</span>
<a id="__codelineno-176-6" name="__codelineno-176-6" href="#__codelineno-176-6"></a><span class="go">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 38120</span>
<a id="__codelineno-176-7" name="__codelineno-176-7" href="#__codelineno-176-7"></a><span class="go">;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0</span>
<a id="__codelineno-176-8" name="__codelineno-176-8" href="#__codelineno-176-8"></a>
<a id="__codelineno-176-9" name="__codelineno-176-9" href="#__codelineno-176-9"></a><span class="go">;; QUESTION SECTION:</span>
<a id="__codelineno-176-10" name="__codelineno-176-10" href="#__codelineno-176-10"></a><span class="go">;servidor_mariadb.          IN  A</span>
<a id="__codelineno-176-11" name="__codelineno-176-11" href="#__codelineno-176-11"></a>
<a id="__codelineno-176-12" name="__codelineno-176-12" href="#__codelineno-176-12"></a><span class="go">;; ANSWER SECTION:</span>
<a id="__codelineno-176-13" name="__codelineno-176-13" href="#__codelineno-176-13"></a><span class="go">servidor_mariadb.   600 IN  A   192.168.20.20</span>
<a id="__codelineno-176-14" name="__codelineno-176-14" href="#__codelineno-176-14"></a>
<a id="__codelineno-176-15" name="__codelineno-176-15" href="#__codelineno-176-15"></a><span class="go">;; Query time: 0 msec</span>
<a id="__codelineno-176-16" name="__codelineno-176-16" href="#__codelineno-176-16"></a><span class="go">;; SERVER: 127.0.0.11#53(127.0.0.11)</span>
<a id="__codelineno-176-17" name="__codelineno-176-17" href="#__codelineno-176-17"></a><span class="go">;; WHEN: Wed Jun 15 21:08:40 UTC 2022</span>
<a id="__codelineno-176-18" name="__codelineno-176-18" href="#__codelineno-176-18"></a><span class="go">;; MSG SIZE  rcvd: 66</span>
<a id="__codelineno-176-19" name="__codelineno-176-19" href="#__codelineno-176-19"></a>
<a id="__codelineno-176-20" name="__codelineno-176-20" href="#__codelineno-176-20"></a><span class="gp">root@servidor_web:/usr/local/apache2# </span>dig<span class="w"> </span>db
<a id="__codelineno-176-21" name="__codelineno-176-21" href="#__codelineno-176-21"></a>
<a id="__codelineno-176-22" name="__codelineno-176-22" href="#__codelineno-176-22"></a><span class="go">; &lt;&lt;&gt;&gt; DiG 9.16.27-Debian &lt;&lt;&gt;&gt; db</span>
<a id="__codelineno-176-23" name="__codelineno-176-23" href="#__codelineno-176-23"></a><span class="go">;; global options: +cmd</span>
<a id="__codelineno-176-24" name="__codelineno-176-24" href="#__codelineno-176-24"></a><span class="go">;; Got answer:</span>
<a id="__codelineno-176-25" name="__codelineno-176-25" href="#__codelineno-176-25"></a><span class="go">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 32469</span>
<a id="__codelineno-176-26" name="__codelineno-176-26" href="#__codelineno-176-26"></a><span class="go">;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0</span>
<a id="__codelineno-176-27" name="__codelineno-176-27" href="#__codelineno-176-27"></a>
<a id="__codelineno-176-28" name="__codelineno-176-28" href="#__codelineno-176-28"></a><span class="go">;; QUESTION SECTION:</span>
<a id="__codelineno-176-29" name="__codelineno-176-29" href="#__codelineno-176-29"></a><span class="go">;db.                                IN  A</span>
<a id="__codelineno-176-30" name="__codelineno-176-30" href="#__codelineno-176-30"></a>
<a id="__codelineno-176-31" name="__codelineno-176-31" href="#__codelineno-176-31"></a><span class="go">;; ANSWER SECTION:</span>
<a id="__codelineno-176-32" name="__codelineno-176-32" href="#__codelineno-176-32"></a><span class="go">db.                     600 IN  A   192.168.20.20</span>
<a id="__codelineno-176-33" name="__codelineno-176-33" href="#__codelineno-176-33"></a>
<a id="__codelineno-176-34" name="__codelineno-176-34" href="#__codelineno-176-34"></a><span class="go">;; Query time: 0 msec</span>
<a id="__codelineno-176-35" name="__codelineno-176-35" href="#__codelineno-176-35"></a><span class="go">;; SERVER: 127.0.0.11#53(127.0.0.11)</span>
<a id="__codelineno-176-36" name="__codelineno-176-36" href="#__codelineno-176-36"></a><span class="go">;; WHEN: Wed Jun 15 21:09:29 UTC 2022</span>
<a id="__codelineno-176-37" name="__codelineno-176-37" href="#__codelineno-176-37"></a><span class="go">;; MSG SIZE  rcvd: 38</span>
</code></pre></div>
<p>Compruebo que hay ping <code>servidor_web</code> &rarr; <code>servidor_mariadb</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-177-1" name="__codelineno-177-1" href="#__codelineno-177-1"></a><span class="gp">root@servidor_web:/usr/local/apache2# </span>ping<span class="w"> </span>servidor_mariadb
<a id="__codelineno-177-2" name="__codelineno-177-2" href="#__codelineno-177-2"></a><span class="go">PING servidor_mariadb (192.168.20.20): 56 data bytes</span>
<a id="__codelineno-177-3" name="__codelineno-177-3" href="#__codelineno-177-3"></a><span class="go">64 bytes from 192.168.20.20: icmp_seq=0 ttl=64 time=0.222 ms</span>
<a id="__codelineno-177-4" name="__codelineno-177-4" href="#__codelineno-177-4"></a><span class="go">64 bytes from 192.168.20.20: icmp_seq=1 ttl=64 time=0.132 ms</span>
<a id="__codelineno-177-5" name="__codelineno-177-5" href="#__codelineno-177-5"></a><span class="go">^C--- servidor_mariadb ping statistics ---</span>
<a id="__codelineno-177-6" name="__codelineno-177-6" href="#__codelineno-177-6"></a><span class="go">2 packets transmitted, 2 packets received, 0% packet loss</span>
<a id="__codelineno-177-7" name="__codelineno-177-7" href="#__codelineno-177-7"></a><span class="go">round-trip min/avg/max/stddev = 0.132/0.177/0.222/0.045 ms</span>
</code></pre></div>
<h3 id="ejemplo-1-despliegue-de-la-aplicacion-guestbook_1">Ejemplo 1: Despliegue de la aplicación guestbook</h3>
<p>Creo el directorio y entro:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-178-1" name="__codelineno-178-1" href="#__codelineno-178-1"></a><span class="gp">atlas@olympus:~/docker$ </span>mkdir<span class="w"> </span>guestbook
<a id="__codelineno-178-2" name="__codelineno-178-2" href="#__codelineno-178-2"></a><span class="gp">atlas@olympus:~/docker$ </span><span class="nb">cd</span><span class="w"> </span>guestbook
<a id="__codelineno-178-3" name="__codelineno-178-3" href="#__codelineno-178-3"></a><span class="gp">atlas@olympus:~/docker/guestbook$</span>
</code></pre></div>
<p>Creo el siguiente <code>docker-compose.yml</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-179-1" name="__codelineno-179-1" href="#__codelineno-179-1"></a><span class="go">version: &#39;3.1&#39;</span>
<a id="__codelineno-179-2" name="__codelineno-179-2" href="#__codelineno-179-2"></a><span class="go">services:</span>
<a id="__codelineno-179-3" name="__codelineno-179-3" href="#__codelineno-179-3"></a><span class="go">  app:</span>
<a id="__codelineno-179-4" name="__codelineno-179-4" href="#__codelineno-179-4"></a><span class="go">    container_name: guestbook</span>
<a id="__codelineno-179-5" name="__codelineno-179-5" href="#__codelineno-179-5"></a><span class="go">    image: iesgn/guestbook</span>
<a id="__codelineno-179-6" name="__codelineno-179-6" href="#__codelineno-179-6"></a><span class="go">    restart: always</span>
<a id="__codelineno-179-7" name="__codelineno-179-7" href="#__codelineno-179-7"></a><span class="go">    ports:</span>
<a id="__codelineno-179-8" name="__codelineno-179-8" href="#__codelineno-179-8"></a><span class="go">      - 80:5000</span>
<a id="__codelineno-179-9" name="__codelineno-179-9" href="#__codelineno-179-9"></a><span class="go">  db:</span>
<a id="__codelineno-179-10" name="__codelineno-179-10" href="#__codelineno-179-10"></a><span class="go">    container_name: redis</span>
<a id="__codelineno-179-11" name="__codelineno-179-11" href="#__codelineno-179-11"></a><span class="go">    image: redis</span>
<a id="__codelineno-179-12" name="__codelineno-179-12" href="#__codelineno-179-12"></a><span class="go">    restart: always</span>
</code></pre></div>
<p>Lanzo el escenario:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-180-1" name="__codelineno-180-1" href="#__codelineno-180-1"></a><span class="gp">atlas@olympus:~/docker/guestbook$ </span>docker-compose<span class="w"> </span>up<span class="w"> </span>-d
<a id="__codelineno-180-2" name="__codelineno-180-2" href="#__codelineno-180-2"></a><span class="go">Creating network &quot;guestbook_default&quot; with the default driver</span>
<a id="__codelineno-180-3" name="__codelineno-180-3" href="#__codelineno-180-3"></a><span class="go">Creating redis     ... done</span>
<a id="__codelineno-180-4" name="__codelineno-180-4" href="#__codelineno-180-4"></a><span class="go">Creating guestbook ... done</span>
</code></pre></div>
<p>Listo los contenedores:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-181-1" name="__codelineno-181-1" href="#__codelineno-181-1"></a><span class="gp">atlas@olympus:~/docker/guestbook$ </span>docker-compose<span class="w"> </span>ps
<a id="__codelineno-181-2" name="__codelineno-181-2" href="#__codelineno-181-2"></a><span class="go">  Name                 Command               State          Ports</span>
<a id="__codelineno-181-3" name="__codelineno-181-3" href="#__codelineno-181-3"></a><span class="go">-------------------------------------------------------------------------</span>
<a id="__codelineno-181-4" name="__codelineno-181-4" href="#__codelineno-181-4"></a><span class="go">guestbook   python3 app.py                   Up      0.0.0.0:80-&gt;5000/tcp</span>
<a id="__codelineno-181-5" name="__codelineno-181-5" href="#__codelineno-181-5"></a><span class="go">redis       docker-entrypoint.sh redis ...   Up      6379/tcp</span>
</code></pre></div>
<p>Pruebo que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/WDrh3W2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="guestbookcompose" src="https://i.imgur.com/WDrh3W2.png" /></a></p>
<p>Paro los contenedores:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-182-1" name="__codelineno-182-1" href="#__codelineno-182-1"></a><span class="gp">atlas@olympus:~/docker/guestbook$ </span>docker-compose<span class="w"> </span>stop
<a id="__codelineno-182-2" name="__codelineno-182-2" href="#__codelineno-182-2"></a><span class="go">Stopping guestbook ... done</span>
<a id="__codelineno-182-3" name="__codelineno-182-3" href="#__codelineno-182-3"></a><span class="go">Stopping redis     ... done</span>
</code></pre></div>
<p>Elimino el escenario:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-183-1" name="__codelineno-183-1" href="#__codelineno-183-1"></a><span class="gp">atlas@olympus:~/docker/guestbook$ </span>docker-compose<span class="w"> </span>down
<a id="__codelineno-183-2" name="__codelineno-183-2" href="#__codelineno-183-2"></a><span class="go">Removing guestbook ... done</span>
<a id="__codelineno-183-3" name="__codelineno-183-3" href="#__codelineno-183-3"></a><span class="go">Removing redis     ... done</span>
<a id="__codelineno-183-4" name="__codelineno-183-4" href="#__codelineno-183-4"></a><span class="go">Removing network guestbook_default</span>
</code></pre></div>
<h3 id="ejemplo-2-despliegue-de-la-aplicacion-temperaturas_1">Ejemplo 2: Despliegue de la aplicación temperaturas</h3>
<p>Creo el directorio y entro:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-184-1" name="__codelineno-184-1" href="#__codelineno-184-1"></a><span class="gp">atlas@olympus:~/docker$ </span>mkdir<span class="w"> </span>temperaturas
<a id="__codelineno-184-2" name="__codelineno-184-2" href="#__codelineno-184-2"></a><span class="gp">atlas@olympus:~/docker$ </span><span class="nb">cd</span><span class="w"> </span>temperaturas/
<a id="__codelineno-184-3" name="__codelineno-184-3" href="#__codelineno-184-3"></a><span class="gp">atlas@olympus:~/docker/temperaturas$</span>
</code></pre></div>
<p>Creo el siguiente <code>docker-compose.yml</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-185-1" name="__codelineno-185-1" href="#__codelineno-185-1"></a><span class="go">version: &#39;3.1&#39;</span>
<a id="__codelineno-185-2" name="__codelineno-185-2" href="#__codelineno-185-2"></a><span class="go">services:</span>
<a id="__codelineno-185-3" name="__codelineno-185-3" href="#__codelineno-185-3"></a><span class="go">  frontend:</span>
<a id="__codelineno-185-4" name="__codelineno-185-4" href="#__codelineno-185-4"></a><span class="go">    container_name: temperaturas-frontend</span>
<a id="__codelineno-185-5" name="__codelineno-185-5" href="#__codelineno-185-5"></a><span class="go">    image: iesgn/temperaturas_frontend</span>
<a id="__codelineno-185-6" name="__codelineno-185-6" href="#__codelineno-185-6"></a><span class="go">    restart: always</span>
<a id="__codelineno-185-7" name="__codelineno-185-7" href="#__codelineno-185-7"></a><span class="go">    ports:</span>
<a id="__codelineno-185-8" name="__codelineno-185-8" href="#__codelineno-185-8"></a><span class="go">      - 80:3000</span>
<a id="__codelineno-185-9" name="__codelineno-185-9" href="#__codelineno-185-9"></a><span class="go">    depends_on:</span>
<a id="__codelineno-185-10" name="__codelineno-185-10" href="#__codelineno-185-10"></a><span class="go">      - backend</span>
<a id="__codelineno-185-11" name="__codelineno-185-11" href="#__codelineno-185-11"></a><span class="go">  backend:</span>
<a id="__codelineno-185-12" name="__codelineno-185-12" href="#__codelineno-185-12"></a><span class="go">    container_name: temperaturas-backend</span>
<a id="__codelineno-185-13" name="__codelineno-185-13" href="#__codelineno-185-13"></a><span class="go">    image: iesgn/temperaturas_backend</span>
<a id="__codelineno-185-14" name="__codelineno-185-14" href="#__codelineno-185-14"></a><span class="go">    restart: always</span>
</code></pre></div>
<p>Lanzo el escenario:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-186-1" name="__codelineno-186-1" href="#__codelineno-186-1"></a><span class="gp">atlas@olympus:~/docker/temperaturas$ </span>docker-compose<span class="w"> </span>up<span class="w"> </span>-d
<a id="__codelineno-186-2" name="__codelineno-186-2" href="#__codelineno-186-2"></a><span class="go">Creating network &quot;temperaturas_default&quot; with the default driver</span>
<a id="__codelineno-186-3" name="__codelineno-186-3" href="#__codelineno-186-3"></a><span class="go">Creating temperaturas-backend ... done</span>
<a id="__codelineno-186-4" name="__codelineno-186-4" href="#__codelineno-186-4"></a><span class="go">Creating temperaturas-frontend ... done</span>
</code></pre></div>
<p>Listo los contenedores:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-187-1" name="__codelineno-187-1" href="#__codelineno-187-1"></a><span class="gp">atlas@olympus:~/docker/temperaturas$ </span>docker-compose<span class="w"> </span>ps
<a id="__codelineno-187-2" name="__codelineno-187-2" href="#__codelineno-187-2"></a><span class="go">        Name               Command       State          Ports</span>
<a id="__codelineno-187-3" name="__codelineno-187-3" href="#__codelineno-187-3"></a><span class="go">---------------------------------------------------------------------</span>
<a id="__codelineno-187-4" name="__codelineno-187-4" href="#__codelineno-187-4"></a><span class="go">temperaturas-backend    python3 app.py   Up      5000/tcp</span>
<a id="__codelineno-187-5" name="__codelineno-187-5" href="#__codelineno-187-5"></a><span class="go">temperaturas-frontend   python3 app.py   Up      0.0.0.0:80-&gt;3000/tcp</span>
</code></pre></div>
<p>Pruebo que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/9j2Vfft.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="temperaturascompose" src="https://i.imgur.com/9j2Vfft.png" /></a></p>
<p>Elimino el escenario:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-188-1" name="__codelineno-188-1" href="#__codelineno-188-1"></a><span class="gp">atlas@olympus:~/docker/temperaturas$ </span>docker-compose<span class="w"> </span>down
<a id="__codelineno-188-2" name="__codelineno-188-2" href="#__codelineno-188-2"></a><span class="go">Stopping temperaturas-frontend ... done</span>
<a id="__codelineno-188-3" name="__codelineno-188-3" href="#__codelineno-188-3"></a><span class="go">Stopping temperaturas-backend  ... done</span>
<a id="__codelineno-188-4" name="__codelineno-188-4" href="#__codelineno-188-4"></a><span class="go">Removing temperaturas-frontend ... done</span>
<a id="__codelineno-188-5" name="__codelineno-188-5" href="#__codelineno-188-5"></a><span class="go">Removing temperaturas-backend  ... done</span>
<a id="__codelineno-188-6" name="__codelineno-188-6" href="#__codelineno-188-6"></a><span class="go">Removing network temperaturas_default</span>
</code></pre></div>
<h3 id="ejemplo-3-despliegue-de-wordpress-mariadb_1">Ejemplo 3: Despliegue de WordPress + MariaDB</h3>
<h4 id="wp-con-volumenes">WP con volúmenes</h4>
<p>Creo el directorio y entro:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-189-1" name="__codelineno-189-1" href="#__codelineno-189-1"></a><span class="gp">atlas@olympus:~/docker$ </span>mkdir<span class="w"> </span>wp_vol
<a id="__codelineno-189-2" name="__codelineno-189-2" href="#__codelineno-189-2"></a><span class="gp">atlas@olympus:~/docker$ </span><span class="nb">cd</span><span class="w"> </span>wp_vol
<a id="__codelineno-189-3" name="__codelineno-189-3" href="#__codelineno-189-3"></a><span class="gp">atlas@olympus:~/docker/wp_vol$</span>
</code></pre></div>
<p>Creo el siguiente <code>docker-compose.yml</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-190-1" name="__codelineno-190-1" href="#__codelineno-190-1"></a><span class="go">version: &#39;3.1&#39;</span>
<a id="__codelineno-190-2" name="__codelineno-190-2" href="#__codelineno-190-2"></a><span class="go">services:</span>
<a id="__codelineno-190-3" name="__codelineno-190-3" href="#__codelineno-190-3"></a><span class="go">  wordpress:</span>
<a id="__codelineno-190-4" name="__codelineno-190-4" href="#__codelineno-190-4"></a><span class="go">    container_name: servidor_wp</span>
<a id="__codelineno-190-5" name="__codelineno-190-5" href="#__codelineno-190-5"></a><span class="go">    image: wordpress</span>
<a id="__codelineno-190-6" name="__codelineno-190-6" href="#__codelineno-190-6"></a><span class="go">    restart: always</span>
<a id="__codelineno-190-7" name="__codelineno-190-7" href="#__codelineno-190-7"></a><span class="go">    environment:</span>
<a id="__codelineno-190-8" name="__codelineno-190-8" href="#__codelineno-190-8"></a><span class="go">      WORDPRESS_DB_HOST: db</span>
<a id="__codelineno-190-9" name="__codelineno-190-9" href="#__codelineno-190-9"></a><span class="go">      WORDPRESS_DB_USER: user_wp</span>
<a id="__codelineno-190-10" name="__codelineno-190-10" href="#__codelineno-190-10"></a><span class="go">      WORDPRESS_DB_PASSWORD: asdasd</span>
<a id="__codelineno-190-11" name="__codelineno-190-11" href="#__codelineno-190-11"></a><span class="go">      WORDPRESS_DB_NAME: bd_wp</span>
<a id="__codelineno-190-12" name="__codelineno-190-12" href="#__codelineno-190-12"></a><span class="go">    ports:</span>
<a id="__codelineno-190-13" name="__codelineno-190-13" href="#__codelineno-190-13"></a><span class="go">      - 80:80</span>
<a id="__codelineno-190-14" name="__codelineno-190-14" href="#__codelineno-190-14"></a><span class="go">    volumes:</span>
<a id="__codelineno-190-15" name="__codelineno-190-15" href="#__codelineno-190-15"></a><span class="go">      - wordpress_data:/var/www/html/wp-content</span>
<a id="__codelineno-190-16" name="__codelineno-190-16" href="#__codelineno-190-16"></a><span class="go">  db:</span>
<a id="__codelineno-190-17" name="__codelineno-190-17" href="#__codelineno-190-17"></a><span class="go">    container_name: servidor_mysql</span>
<a id="__codelineno-190-18" name="__codelineno-190-18" href="#__codelineno-190-18"></a><span class="go">    image: mariadb</span>
<a id="__codelineno-190-19" name="__codelineno-190-19" href="#__codelineno-190-19"></a><span class="go">    restart: always</span>
<a id="__codelineno-190-20" name="__codelineno-190-20" href="#__codelineno-190-20"></a><span class="go">    environment:</span>
<a id="__codelineno-190-21" name="__codelineno-190-21" href="#__codelineno-190-21"></a><span class="go">      MYSQL_DATABASE: bd_wp</span>
<a id="__codelineno-190-22" name="__codelineno-190-22" href="#__codelineno-190-22"></a><span class="go">      MYSQL_USER: user_wp</span>
<a id="__codelineno-190-23" name="__codelineno-190-23" href="#__codelineno-190-23"></a><span class="go">      MYSQL_PASSWORD: asdasd</span>
<a id="__codelineno-190-24" name="__codelineno-190-24" href="#__codelineno-190-24"></a><span class="go">      MYSQL_ROOT_PASSWORD: asdasd</span>
<a id="__codelineno-190-25" name="__codelineno-190-25" href="#__codelineno-190-25"></a><span class="go">    volumes:</span>
<a id="__codelineno-190-26" name="__codelineno-190-26" href="#__codelineno-190-26"></a><span class="go">      - mariadb_data:/var/lib/mysql</span>
<a id="__codelineno-190-27" name="__codelineno-190-27" href="#__codelineno-190-27"></a><span class="go">volumes:</span>
<a id="__codelineno-190-28" name="__codelineno-190-28" href="#__codelineno-190-28"></a><span class="go">    wordpress_data:</span>
<a id="__codelineno-190-29" name="__codelineno-190-29" href="#__codelineno-190-29"></a><span class="go">    mariadb_data:</span>
</code></pre></div>
<p>Lanzo el escenario:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-191-1" name="__codelineno-191-1" href="#__codelineno-191-1"></a><span class="gp">atlas@olympus:~/docker/wp_vol$ </span>docker-compose<span class="w"> </span>up<span class="w"> </span>-d
<a id="__codelineno-191-2" name="__codelineno-191-2" href="#__codelineno-191-2"></a><span class="go">Creating network &quot;wp_vol_default&quot; with the default driver</span>
<a id="__codelineno-191-3" name="__codelineno-191-3" href="#__codelineno-191-3"></a><span class="go">Creating volume &quot;wp_vol_wordpress_data&quot; with default driver</span>
<a id="__codelineno-191-4" name="__codelineno-191-4" href="#__codelineno-191-4"></a><span class="go">Creating volume &quot;wp_vol_mariadb_data&quot; with default driver</span>
<a id="__codelineno-191-5" name="__codelineno-191-5" href="#__codelineno-191-5"></a><span class="go">Creating servidor_wp    ... done</span>
<a id="__codelineno-191-6" name="__codelineno-191-6" href="#__codelineno-191-6"></a><span class="go">Creating servidor_mysql ... done</span>
</code></pre></div>
<p>Listo los contenedores:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-192-1" name="__codelineno-192-1" href="#__codelineno-192-1"></a><span class="gp">atlas@olympus:~/docker/wp_vol$ </span>docker-compose<span class="w"> </span>ps
<a id="__codelineno-192-2" name="__codelineno-192-2" href="#__codelineno-192-2"></a><span class="go">     Name                   Command               State         Ports</span>
<a id="__codelineno-192-3" name="__codelineno-192-3" href="#__codelineno-192-3"></a><span class="go">----------------------------------------------------------------------------</span>
<a id="__codelineno-192-4" name="__codelineno-192-4" href="#__codelineno-192-4"></a><span class="go">servidor_mysql   docker-entrypoint.sh mariadbd    Up      3306/tcp</span>
<a id="__codelineno-192-5" name="__codelineno-192-5" href="#__codelineno-192-5"></a><span class="go">servidor_wp      docker-entrypoint.sh apach ...   Up      0.0.0.0:80-&gt;80/tcp</span>
</code></pre></div>
<p>Pruebo que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/ZCRrRW2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="wpvolcompose" src="https://i.imgur.com/ZCRrRW2.png" /></a></p>
<p>Paro los contenedores:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-193-1" name="__codelineno-193-1" href="#__codelineno-193-1"></a><span class="gp">atlas@olympus:~/docker/wp_vol$ </span>docker-compose<span class="w"> </span>stop
<a id="__codelineno-193-2" name="__codelineno-193-2" href="#__codelineno-193-2"></a><span class="go">Stopping servidor_mysql ... done</span>
<a id="__codelineno-193-3" name="__codelineno-193-3" href="#__codelineno-193-3"></a><span class="go">Stopping servidor_wp    ... done</span>
</code></pre></div>
<p>Borro los contenedores:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-194-1" name="__codelineno-194-1" href="#__codelineno-194-1"></a><span class="gp">atlas@olympus:~/docker/wp_vol$ </span>docker-compose<span class="w"> </span>rm
<a id="__codelineno-194-2" name="__codelineno-194-2" href="#__codelineno-194-2"></a><span class="go">Going to remove servidor_mysql, servidor_wp</span>
<a id="__codelineno-194-3" name="__codelineno-194-3" href="#__codelineno-194-3"></a><span class="go">Are you sure? [yN] y</span>
<a id="__codelineno-194-4" name="__codelineno-194-4" href="#__codelineno-194-4"></a><span class="go">Removing servidor_mysql ... done</span>
<a id="__codelineno-194-5" name="__codelineno-194-5" href="#__codelineno-194-5"></a><span class="go">Removing servidor_wp    ... done</span>
</code></pre></div>
<p>Elimino el escenario:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-195-1" name="__codelineno-195-1" href="#__codelineno-195-1"></a><span class="gp">atlas@olympus:~/docker/wp_vol$ </span>docker-compose<span class="w"> </span>down<span class="w"> </span>-v
<a id="__codelineno-195-2" name="__codelineno-195-2" href="#__codelineno-195-2"></a><span class="go">Removing network wp_vol_default</span>
<a id="__codelineno-195-3" name="__codelineno-195-3" href="#__codelineno-195-3"></a><span class="go">Removing volume wp_vol_wordpress_data</span>
<a id="__codelineno-195-4" name="__codelineno-195-4" href="#__codelineno-195-4"></a><span class="go">Removing volume wp_vol_mariadb_data</span>
</code></pre></div>
<h4 id="wp-con-bind-mount">WP con bind mount</h4>
<p>Creo el directorio y entro:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-196-1" name="__codelineno-196-1" href="#__codelineno-196-1"></a><span class="gp">atlas@olympus:~/docker$ </span>mkdir<span class="w"> </span>wp_bind_mount
<a id="__codelineno-196-2" name="__codelineno-196-2" href="#__codelineno-196-2"></a><span class="gp">atlas@olympus:~/docker$ </span><span class="nb">cd</span><span class="w"> </span>wp_bind_mount
<a id="__codelineno-196-3" name="__codelineno-196-3" href="#__codelineno-196-3"></a><span class="gp">atlas@olympus:~/docker/wp_bind_mount$</span>
</code></pre></div>
<p>Creo el siguiente <code>docker-compose.yml</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-197-1" name="__codelineno-197-1" href="#__codelineno-197-1"></a><span class="go">version: &#39;3.1&#39;</span>
<a id="__codelineno-197-2" name="__codelineno-197-2" href="#__codelineno-197-2"></a><span class="go">services:</span>
<a id="__codelineno-197-3" name="__codelineno-197-3" href="#__codelineno-197-3"></a><span class="go">  wordpress:</span>
<a id="__codelineno-197-4" name="__codelineno-197-4" href="#__codelineno-197-4"></a><span class="go">    container_name: servidor_wp</span>
<a id="__codelineno-197-5" name="__codelineno-197-5" href="#__codelineno-197-5"></a><span class="go">    image: wordpress</span>
<a id="__codelineno-197-6" name="__codelineno-197-6" href="#__codelineno-197-6"></a><span class="go">    restart: always</span>
<a id="__codelineno-197-7" name="__codelineno-197-7" href="#__codelineno-197-7"></a><span class="go">    environment:</span>
<a id="__codelineno-197-8" name="__codelineno-197-8" href="#__codelineno-197-8"></a><span class="go">      WORDPRESS_DB_HOST: db</span>
<a id="__codelineno-197-9" name="__codelineno-197-9" href="#__codelineno-197-9"></a><span class="go">      WORDPRESS_DB_USER: user_wp</span>
<a id="__codelineno-197-10" name="__codelineno-197-10" href="#__codelineno-197-10"></a><span class="go">      WORDPRESS_DB_PASSWORD: asdasd</span>
<a id="__codelineno-197-11" name="__codelineno-197-11" href="#__codelineno-197-11"></a><span class="go">      WORDPRESS_DB_NAME: bd_wp</span>
<a id="__codelineno-197-12" name="__codelineno-197-12" href="#__codelineno-197-12"></a><span class="go">    ports:</span>
<a id="__codelineno-197-13" name="__codelineno-197-13" href="#__codelineno-197-13"></a><span class="go">      - 80:80</span>
<a id="__codelineno-197-14" name="__codelineno-197-14" href="#__codelineno-197-14"></a><span class="go">    volumes:</span>
<a id="__codelineno-197-15" name="__codelineno-197-15" href="#__codelineno-197-15"></a><span class="go">      - ./wordpress:/var/www/html/wp-content</span>
<a id="__codelineno-197-16" name="__codelineno-197-16" href="#__codelineno-197-16"></a><span class="go">  db:</span>
<a id="__codelineno-197-17" name="__codelineno-197-17" href="#__codelineno-197-17"></a><span class="go">    container_name: servidor_mysql</span>
<a id="__codelineno-197-18" name="__codelineno-197-18" href="#__codelineno-197-18"></a><span class="go">    image: mariadb</span>
<a id="__codelineno-197-19" name="__codelineno-197-19" href="#__codelineno-197-19"></a><span class="go">    restart: always</span>
<a id="__codelineno-197-20" name="__codelineno-197-20" href="#__codelineno-197-20"></a><span class="go">    environment:</span>
<a id="__codelineno-197-21" name="__codelineno-197-21" href="#__codelineno-197-21"></a><span class="go">      MYSQL_DATABASE: bd_wp</span>
<a id="__codelineno-197-22" name="__codelineno-197-22" href="#__codelineno-197-22"></a><span class="go">      MYSQL_USER: user_wp</span>
<a id="__codelineno-197-23" name="__codelineno-197-23" href="#__codelineno-197-23"></a><span class="go">      MYSQL_PASSWORD: asdasd</span>
<a id="__codelineno-197-24" name="__codelineno-197-24" href="#__codelineno-197-24"></a><span class="go">      MYSQL_ROOT_PASSWORD: asdasd</span>
<a id="__codelineno-197-25" name="__codelineno-197-25" href="#__codelineno-197-25"></a><span class="go">    volumes:</span>
<a id="__codelineno-197-26" name="__codelineno-197-26" href="#__codelineno-197-26"></a><span class="go">      - ./mysql:/var/lib/mysql</span>
</code></pre></div>
<p>Lanzo el escenario:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-198-1" name="__codelineno-198-1" href="#__codelineno-198-1"></a><span class="gp">atlas@olympus:~/docker/wp_bind_mount$ </span>docker-compose<span class="w"> </span>up<span class="w"> </span>-d
<a id="__codelineno-198-2" name="__codelineno-198-2" href="#__codelineno-198-2"></a><span class="go">Creating network &quot;wp_bind_mount_default&quot; with the default driver</span>
<a id="__codelineno-198-3" name="__codelineno-198-3" href="#__codelineno-198-3"></a><span class="go">Creating servidor_wp    ... done</span>
<a id="__codelineno-198-4" name="__codelineno-198-4" href="#__codelineno-198-4"></a><span class="go">Creating servidor_mysql ... done</span>
</code></pre></div>
<p>Listo los contenedores:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-199-1" name="__codelineno-199-1" href="#__codelineno-199-1"></a><span class="gp">atlas@olympus:~/docker/wp_bind_mount$ </span>docker-compose<span class="w"> </span>ps
<a id="__codelineno-199-2" name="__codelineno-199-2" href="#__codelineno-199-2"></a><span class="go">     Name                   Command               State         Ports</span>
<a id="__codelineno-199-3" name="__codelineno-199-3" href="#__codelineno-199-3"></a><span class="go">----------------------------------------------------------------------------</span>
<a id="__codelineno-199-4" name="__codelineno-199-4" href="#__codelineno-199-4"></a><span class="go">servidor_mysql   docker-entrypoint.sh mariadbd    Up      3306/tcp</span>
<a id="__codelineno-199-5" name="__codelineno-199-5" href="#__codelineno-199-5"></a><span class="go">servidor_wp      docker-entrypoint.sh apach ...   Up      0.0.0.0:80-&gt;80/tcp</span>
</code></pre></div>
<p>Pruebo que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/z5HoUdk.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="wpbindmountcompose" src="https://i.imgur.com/z5HoUdk.png" /></a></p>
<p>Elimino el escenario:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-200-1" name="__codelineno-200-1" href="#__codelineno-200-1"></a><span class="gp">atlas@olympus:~/docker/wp_bind_mount$ </span>docker-compose<span class="w"> </span>down<span class="w"> </span>-v
<a id="__codelineno-200-2" name="__codelineno-200-2" href="#__codelineno-200-2"></a><span class="go">Stopping servidor_mysql ... done</span>
<a id="__codelineno-200-3" name="__codelineno-200-3" href="#__codelineno-200-3"></a><span class="go">Stopping servidor_wp    ... done</span>
<a id="__codelineno-200-4" name="__codelineno-200-4" href="#__codelineno-200-4"></a><span class="go">Removing servidor_mysql ... done</span>
<a id="__codelineno-200-5" name="__codelineno-200-5" href="#__codelineno-200-5"></a><span class="go">Removing servidor_wp    ... done</span>
<a id="__codelineno-200-6" name="__codelineno-200-6" href="#__codelineno-200-6"></a><span class="go">Removing network wp_bind_mount_default</span>
</code></pre></div>
<h3 id="ejemplo-4-despliegue-de-tomcat-nginx_1">Ejemplo 4: Despliegue de tomcat + nginx</h3>
<p>Creo el directorio y entro:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-201-1" name="__codelineno-201-1" href="#__codelineno-201-1"></a><span class="gp">atlas@olympus:~/docker$ </span>mkdir<span class="w"> </span>tomcat
<a id="__codelineno-201-2" name="__codelineno-201-2" href="#__codelineno-201-2"></a><span class="gp">atlas@olympus:~/docker$ </span><span class="nb">cd</span><span class="w"> </span>tomcat
<a id="__codelineno-201-3" name="__codelineno-201-3" href="#__codelineno-201-3"></a><span class="gp">atlas@olympus:~/docker/tomcat$</span>
</code></pre></div>
<p>Creo el siguiente <code>docker-compose.yml</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-202-1" name="__codelineno-202-1" href="#__codelineno-202-1"></a><span class="go">version: &#39;3.1&#39;</span>
<a id="__codelineno-202-2" name="__codelineno-202-2" href="#__codelineno-202-2"></a><span class="go">services:</span>
<a id="__codelineno-202-3" name="__codelineno-202-3" href="#__codelineno-202-3"></a><span class="go">  aplicacionjava:</span>
<a id="__codelineno-202-4" name="__codelineno-202-4" href="#__codelineno-202-4"></a><span class="go">    container_name: tomcat</span>
<a id="__codelineno-202-5" name="__codelineno-202-5" href="#__codelineno-202-5"></a><span class="go">    image: tomcat:9.0</span>
<a id="__codelineno-202-6" name="__codelineno-202-6" href="#__codelineno-202-6"></a><span class="go">    restart: always</span>
<a id="__codelineno-202-7" name="__codelineno-202-7" href="#__codelineno-202-7"></a><span class="go">    volumes:</span>
<a id="__codelineno-202-8" name="__codelineno-202-8" href="#__codelineno-202-8"></a><span class="go">      - ./sample.war:/usr/local/tomcat/webapps/sample.war:ro</span>
<a id="__codelineno-202-9" name="__codelineno-202-9" href="#__codelineno-202-9"></a><span class="go">  proxy:</span>
<a id="__codelineno-202-10" name="__codelineno-202-10" href="#__codelineno-202-10"></a><span class="go">    container_name: nginx</span>
<a id="__codelineno-202-11" name="__codelineno-202-11" href="#__codelineno-202-11"></a><span class="go">    image: nginx</span>
<a id="__codelineno-202-12" name="__codelineno-202-12" href="#__codelineno-202-12"></a><span class="go">    ports:</span>
<a id="__codelineno-202-13" name="__codelineno-202-13" href="#__codelineno-202-13"></a><span class="go">      - 80:80</span>
<a id="__codelineno-202-14" name="__codelineno-202-14" href="#__codelineno-202-14"></a><span class="go">    volumes:</span>
<a id="__codelineno-202-15" name="__codelineno-202-15" href="#__codelineno-202-15"></a><span class="go">      - ./default.conf:/etc/nginx/conf.d/default.conf:ro</span>
</code></pre></div>
<p>Obtengo los 2 ficheros que necesito:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-203-1" name="__codelineno-203-1" href="#__codelineno-203-1"></a><span class="gp">atlas@olympus:~/docker/tomcat$ </span>wget<span class="w"> </span>https://raw.githubusercontent.com/iesgn/curso_docker_2021/main/ejemplos/sesion5/ejemplo4/default.conf
<a id="__codelineno-203-2" name="__codelineno-203-2" href="#__codelineno-203-2"></a><span class="go">--2022-06-16 09:27:24--  https://raw.githubusercontent.com/iesgn/curso_docker_2021/main/ejemplos/sesion5/ejemplo4/default.conf</span>
<a id="__codelineno-203-3" name="__codelineno-203-3" href="#__codelineno-203-3"></a><span class="go">Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.109.133, 185.199.111.133, 185.199.108.133, ...</span>
<a id="__codelineno-203-4" name="__codelineno-203-4" href="#__codelineno-203-4"></a><span class="go">Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.199.109.133|:443... connected.</span>
<a id="__codelineno-203-5" name="__codelineno-203-5" href="#__codelineno-203-5"></a><span class="go">HTTP request sent, awaiting response... 200 OK</span>
<a id="__codelineno-203-6" name="__codelineno-203-6" href="#__codelineno-203-6"></a><span class="go">Length: 387 [text/plain]</span>
<a id="__codelineno-203-7" name="__codelineno-203-7" href="#__codelineno-203-7"></a><span class="go">Saving to: ‘default.conf’</span>
<a id="__codelineno-203-8" name="__codelineno-203-8" href="#__codelineno-203-8"></a>
<a id="__codelineno-203-9" name="__codelineno-203-9" href="#__codelineno-203-9"></a><span class="go">default.conf                                100%[=========================================================================================&gt;]     387  --.-KB/s    in 0s</span>
<a id="__codelineno-203-10" name="__codelineno-203-10" href="#__codelineno-203-10"></a>
<a id="__codelineno-203-11" name="__codelineno-203-11" href="#__codelineno-203-11"></a><span class="go">2022-06-16 09:27:24 (16.0 MB/s) - ‘default.conf’ saved [387/387]</span>
<a id="__codelineno-203-12" name="__codelineno-203-12" href="#__codelineno-203-12"></a>
<a id="__codelineno-203-13" name="__codelineno-203-13" href="#__codelineno-203-13"></a><span class="gp">atlas@olympus:~/docker/tomcat$ </span>wget<span class="w"> </span>https://github.com/iesgn/curso_docker_2021/raw/main/ejemplos/sesion5/ejemplo4/sample.war
<a id="__codelineno-203-14" name="__codelineno-203-14" href="#__codelineno-203-14"></a><span class="go">--2022-06-16 09:28:18--  https://github.com/iesgn/curso_docker_2021/raw/main/ejemplos/sesion5/ejemplo4/sample.war</span>
<a id="__codelineno-203-15" name="__codelineno-203-15" href="#__codelineno-203-15"></a><span class="go">Resolving github.com (github.com)... 140.82.121.4</span>
<a id="__codelineno-203-16" name="__codelineno-203-16" href="#__codelineno-203-16"></a><span class="go">Connecting to github.com (github.com)|140.82.121.4|:443... connected.</span>
<a id="__codelineno-203-17" name="__codelineno-203-17" href="#__codelineno-203-17"></a><span class="go">HTTP request sent, awaiting response... 302 Found</span>
<a id="__codelineno-203-18" name="__codelineno-203-18" href="#__codelineno-203-18"></a><span class="go">Location: https://raw.githubusercontent.com/iesgn/curso_docker_2021/main/ejemplos/sesion5/ejemplo4/sample.war [following]</span>
<a id="__codelineno-203-19" name="__codelineno-203-19" href="#__codelineno-203-19"></a><span class="go">--2022-06-16 09:28:18--  https://raw.githubusercontent.com/iesgn/curso_docker_2021/main/ejemplos/sesion5/ejemplo4/sample.war</span>
<a id="__codelineno-203-20" name="__codelineno-203-20" href="#__codelineno-203-20"></a><span class="go">Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.109.133, 185.199.108.133, 185.199.110.133, ...</span>
<a id="__codelineno-203-21" name="__codelineno-203-21" href="#__codelineno-203-21"></a><span class="go">Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.199.109.133|:443... connected.</span>
<a id="__codelineno-203-22" name="__codelineno-203-22" href="#__codelineno-203-22"></a><span class="go">HTTP request sent, awaiting response... 200 OK</span>
<a id="__codelineno-203-23" name="__codelineno-203-23" href="#__codelineno-203-23"></a><span class="go">Length: 4606 (4.5K) [application/octet-stream]</span>
<a id="__codelineno-203-24" name="__codelineno-203-24" href="#__codelineno-203-24"></a><span class="go">Saving to: ‘sample.war’</span>
<a id="__codelineno-203-25" name="__codelineno-203-25" href="#__codelineno-203-25"></a>
<a id="__codelineno-203-26" name="__codelineno-203-26" href="#__codelineno-203-26"></a><span class="go">sample.war                                  100%[=========================================================================================&gt;]   4.50K  --.-KB/s    in 0s</span>
<a id="__codelineno-203-27" name="__codelineno-203-27" href="#__codelineno-203-27"></a>
<a id="__codelineno-203-28" name="__codelineno-203-28" href="#__codelineno-203-28"></a><span class="go">2022-06-16 09:28:19 (30.0 MB/s) - ‘sample.war’ saved [4606/4606]</span>
</code></pre></div>
<p>Lanzo el escenario:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-204-1" name="__codelineno-204-1" href="#__codelineno-204-1"></a><span class="gp">atlas@olympus:~/docker/tomcat$ </span>docker-compose<span class="w"> </span>up<span class="w"> </span>-d
<a id="__codelineno-204-2" name="__codelineno-204-2" href="#__codelineno-204-2"></a><span class="go">Creating network &quot;tomcat_default&quot; with the default driver</span>
<a id="__codelineno-204-3" name="__codelineno-204-3" href="#__codelineno-204-3"></a><span class="go">Creating tomcat ... done</span>
<a id="__codelineno-204-4" name="__codelineno-204-4" href="#__codelineno-204-4"></a><span class="go">Creating nginx  ... done</span>
</code></pre></div>
<p>Compruebo que los contenedores están activos:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-205-1" name="__codelineno-205-1" href="#__codelineno-205-1"></a><span class="gp">atlas@olympus:~/docker/tomcat$ </span>docker-compose<span class="w"> </span>ps
<a id="__codelineno-205-2" name="__codelineno-205-2" href="#__codelineno-205-2"></a><span class="go"> Name               Command               State         Ports</span>
<a id="__codelineno-205-3" name="__codelineno-205-3" href="#__codelineno-205-3"></a><span class="go">--------------------------------------------------------------------</span>
<a id="__codelineno-205-4" name="__codelineno-205-4" href="#__codelineno-205-4"></a><span class="go">nginx    /docker-entrypoint.sh ngin ...   Up      0.0.0.0:80-&gt;80/tcp</span>
<a id="__codelineno-205-5" name="__codelineno-205-5" href="#__codelineno-205-5"></a><span class="go">tomcat   catalina.sh run                  Up      8080/tcp</span>
</code></pre></div>
<p>Pruebo que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/4ah43NP.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="tomcatcompose" src="https://i.imgur.com/4ah43NP.png" /></a></p>
<p>Elimino el escenario:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-206-1" name="__codelineno-206-1" href="#__codelineno-206-1"></a><span class="gp">atlas@olympus:~/docker/tomcat$ </span>docker-compose<span class="w"> </span>down<span class="w"> </span>-v
<a id="__codelineno-206-2" name="__codelineno-206-2" href="#__codelineno-206-2"></a><span class="go">Stopping nginx  ... done</span>
<a id="__codelineno-206-3" name="__codelineno-206-3" href="#__codelineno-206-3"></a><span class="go">Stopping tomcat ... done</span>
<a id="__codelineno-206-4" name="__codelineno-206-4" href="#__codelineno-206-4"></a><span class="go">Removing nginx  ... done</span>
<a id="__codelineno-206-5" name="__codelineno-206-5" href="#__codelineno-206-5"></a><span class="go">Removing tomcat ... done</span>
<a id="__codelineno-206-6" name="__codelineno-206-6" href="#__codelineno-206-6"></a><span class="go">Removing network tomcat_default</span>
</code></pre></div>
<h3 id="ejemplos-reales-de-despliegues-usando-docker-compose">Ejemplos reales de despliegues usando docker-compose</h3>
<ul>
<li>Jitsi</li>
<li>Bitnami</li>
<li>Guacamole</li>
</ul>
<h3 id="ejercicios-multicontenedor">Ejercicios multicontenedor</h3>
<p>Creo el directorio y entro:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-207-1" name="__codelineno-207-1" href="#__codelineno-207-1"></a><span class="gp">atlas@olympus:~/docker$ </span>mkdir<span class="w"> </span>prestashop
<a id="__codelineno-207-2" name="__codelineno-207-2" href="#__codelineno-207-2"></a><span class="gp">atlas@olympus:~/docker$ </span><span class="nb">cd</span><span class="w"> </span>prestashop
<a id="__codelineno-207-3" name="__codelineno-207-3" href="#__codelineno-207-3"></a><span class="gp">atlas@olympus:~/docker/prestashop$</span>
</code></pre></div>
<p>Descargo el <code>docker-compose.yml</code> oficial de bitnami:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-208-1" name="__codelineno-208-1" href="#__codelineno-208-1"></a><span class="go">curl -sSL https://raw.githubusercontent.com/bitnami/bitnami-docker-prestashop/master/docker-compose.yml &gt; docker-compose.yml</span>
</code></pre></div>
<p>Lo muestro sin modificar:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-209-1" name="__codelineno-209-1" href="#__codelineno-209-1"></a><span class="gp">atlas@olympus:~/docker/prestashop$ </span>cat<span class="w"> </span>docker-compose.yml
<a id="__codelineno-209-2" name="__codelineno-209-2" href="#__codelineno-209-2"></a><span class="go">version: &#39;2&#39;</span>
<a id="__codelineno-209-3" name="__codelineno-209-3" href="#__codelineno-209-3"></a><span class="go">services:</span>
<a id="__codelineno-209-4" name="__codelineno-209-4" href="#__codelineno-209-4"></a><span class="go">  mariadb:</span>
<a id="__codelineno-209-5" name="__codelineno-209-5" href="#__codelineno-209-5"></a><span class="go">    image: docker.io/bitnami/mariadb:10.6</span>
<a id="__codelineno-209-6" name="__codelineno-209-6" href="#__codelineno-209-6"></a><span class="go">    environment:</span>
<a id="__codelineno-209-7" name="__codelineno-209-7" href="#__codelineno-209-7"></a><span class="gp">      # </span>ALLOW_EMPTY_PASSWORD<span class="w"> </span>is<span class="w"> </span>recommended<span class="w"> </span>only<span class="w"> </span><span class="k">for</span><span class="w"> </span>development.
<a id="__codelineno-209-8" name="__codelineno-209-8" href="#__codelineno-209-8"></a><span class="go">      - ALLOW_EMPTY_PASSWORD=yes</span>
<a id="__codelineno-209-9" name="__codelineno-209-9" href="#__codelineno-209-9"></a><span class="go">      - MARIADB_USER=bn_prestashop</span>
<a id="__codelineno-209-10" name="__codelineno-209-10" href="#__codelineno-209-10"></a><span class="go">      - MARIADB_DATABASE=bitnami_prestashop</span>
<a id="__codelineno-209-11" name="__codelineno-209-11" href="#__codelineno-209-11"></a><span class="go">    volumes:</span>
<a id="__codelineno-209-12" name="__codelineno-209-12" href="#__codelineno-209-12"></a><span class="go">      - &#39;mariadb_data:/bitnami/mariadb&#39;</span>
<a id="__codelineno-209-13" name="__codelineno-209-13" href="#__codelineno-209-13"></a><span class="go">  prestashop:</span>
<a id="__codelineno-209-14" name="__codelineno-209-14" href="#__codelineno-209-14"></a><span class="go">    image: docker.io/bitnami/prestashop:1.7</span>
<a id="__codelineno-209-15" name="__codelineno-209-15" href="#__codelineno-209-15"></a><span class="go">    ports:</span>
<a id="__codelineno-209-16" name="__codelineno-209-16" href="#__codelineno-209-16"></a><span class="go">      - &#39;80:8080&#39;</span>
<a id="__codelineno-209-17" name="__codelineno-209-17" href="#__codelineno-209-17"></a><span class="go">      - &#39;443:8443&#39;</span>
<a id="__codelineno-209-18" name="__codelineno-209-18" href="#__codelineno-209-18"></a><span class="go">    environment:</span>
<a id="__codelineno-209-19" name="__codelineno-209-19" href="#__codelineno-209-19"></a><span class="go">      - PRESTASHOP_HOST=localhost</span>
<a id="__codelineno-209-20" name="__codelineno-209-20" href="#__codelineno-209-20"></a><span class="go">      - PRESTASHOP_DATABASE_HOST=mariadb</span>
<a id="__codelineno-209-21" name="__codelineno-209-21" href="#__codelineno-209-21"></a><span class="go">      - PRESTASHOP_DATABASE_PORT_NUMBER=3306</span>
<a id="__codelineno-209-22" name="__codelineno-209-22" href="#__codelineno-209-22"></a><span class="go">      - PRESTASHOP_DATABASE_USER=bn_prestashop</span>
<a id="__codelineno-209-23" name="__codelineno-209-23" href="#__codelineno-209-23"></a><span class="go">      - PRESTASHOP_DATABASE_NAME=bitnami_prestashop</span>
<a id="__codelineno-209-24" name="__codelineno-209-24" href="#__codelineno-209-24"></a><span class="gp">      # </span>ALLOW_EMPTY_PASSWORD<span class="w"> </span>is<span class="w"> </span>recommended<span class="w"> </span>only<span class="w"> </span><span class="k">for</span><span class="w"> </span>development.
<a id="__codelineno-209-25" name="__codelineno-209-25" href="#__codelineno-209-25"></a><span class="go">      - ALLOW_EMPTY_PASSWORD=yes</span>
<a id="__codelineno-209-26" name="__codelineno-209-26" href="#__codelineno-209-26"></a><span class="go">    volumes:</span>
<a id="__codelineno-209-27" name="__codelineno-209-27" href="#__codelineno-209-27"></a><span class="go">      - &#39;prestashop_data:/bitnami/prestashop&#39;</span>
<a id="__codelineno-209-28" name="__codelineno-209-28" href="#__codelineno-209-28"></a><span class="go">    depends_on:</span>
<a id="__codelineno-209-29" name="__codelineno-209-29" href="#__codelineno-209-29"></a><span class="go">      - mariadb</span>
<a id="__codelineno-209-30" name="__codelineno-209-30" href="#__codelineno-209-30"></a><span class="go">volumes:</span>
<a id="__codelineno-209-31" name="__codelineno-209-31" href="#__codelineno-209-31"></a><span class="go">  mariadb_data:</span>
<a id="__codelineno-209-32" name="__codelineno-209-32" href="#__codelineno-209-32"></a><span class="go">    driver: local</span>
<a id="__codelineno-209-33" name="__codelineno-209-33" href="#__codelineno-209-33"></a><span class="go">  prestashop_data:</span>
<a id="__codelineno-209-34" name="__codelineno-209-34" href="#__codelineno-209-34"></a><span class="go">    driver: local</span>
</code></pre></div>
<p>Lo muestro modificado:</p>
<p><a class="glightbox" href="https://i.imgur.com/9PSPhPy.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="prestashopmodificadocompose" src="https://i.imgur.com/9PSPhPy.png" /></a></p>
<p>Lanzo el escenario:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-210-1" name="__codelineno-210-1" href="#__codelineno-210-1"></a><span class="gp">atlas@olympus:~/docker/prestashop$ </span>docker-compose<span class="w"> </span>up<span class="w"> </span>-d
<a id="__codelineno-210-2" name="__codelineno-210-2" href="#__codelineno-210-2"></a><span class="go">Creating network &quot;prestashop_default&quot; with the default driver</span>
<a id="__codelineno-210-3" name="__codelineno-210-3" href="#__codelineno-210-3"></a><span class="go">Creating volume &quot;prestashop_mariadb_data&quot; with local driver</span>
<a id="__codelineno-210-4" name="__codelineno-210-4" href="#__codelineno-210-4"></a><span class="go">Creating volume &quot;prestashop_prestashop_data&quot; with local driver</span>
<a id="__codelineno-210-5" name="__codelineno-210-5" href="#__codelineno-210-5"></a><span class="go">Creating prestashop_mariadb_1 ... done</span>
<a id="__codelineno-210-6" name="__codelineno-210-6" href="#__codelineno-210-6"></a><span class="go">Creating prestashop_prestashop_1 ... done</span>
</code></pre></div>
<p>Muestro los contenedores funcionando:</p>
<p><a class="glightbox" href="https://i.imgur.com/0oVJrWK.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="prestashopcontenedores" src="https://i.imgur.com/0oVJrWK.png" /></a></p>
<p>Muestro la web funcionando:</p>
<p><a class="glightbox" href="https://i.imgur.com/Tv1Fwim.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="prestashopfuncionando" src="https://i.imgur.com/Tv1Fwim.png" /></a></p>
<h2 id="creacion-de-imagenes">Creación de imágenes</h2>
<h3 id="creacion-de-imagenes-a-partir-de-un-contenedor">Creación de imágenes a partir de un contenedor</h3>
<p>Lanzo un contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-211-1" name="__codelineno-211-1" href="#__codelineno-211-1"></a><span class="gp">atlas@olympus:~/docker$ </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--name<span class="w"> </span>contenedor<span class="w"> </span>debian<span class="w"> </span>bash
<a id="__codelineno-211-2" name="__codelineno-211-2" href="#__codelineno-211-2"></a><span class="gp">root@d42a140c8da0:/#</span>
</code></pre></div>
<p>Hago modificaciones:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-212-1" name="__codelineno-212-1" href="#__codelineno-212-1"></a><span class="gp">root@d42a140c8da0:/# </span>apt<span class="w"> </span>update
<a id="__codelineno-212-2" name="__codelineno-212-2" href="#__codelineno-212-2"></a><span class="go">Get:1 http://security.debian.org/debian-security bullseye-security InRelease [44.1 kB]</span>
<a id="__codelineno-212-3" name="__codelineno-212-3" href="#__codelineno-212-3"></a><span class="go">Get:2 http://deb.debian.org/debian bullseye InRelease [116 kB]</span>
<a id="__codelineno-212-4" name="__codelineno-212-4" href="#__codelineno-212-4"></a><span class="go">Get:3 http://deb.debian.org/debian bullseye-updates InRelease [39.4 kB]</span>
<a id="__codelineno-212-5" name="__codelineno-212-5" href="#__codelineno-212-5"></a><span class="go">Get:4 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [154 kB]</span>
<a id="__codelineno-212-6" name="__codelineno-212-6" href="#__codelineno-212-6"></a><span class="go">Get:5 http://deb.debian.org/debian bullseye/main amd64 Packages [8182 kB]</span>
<a id="__codelineno-212-7" name="__codelineno-212-7" href="#__codelineno-212-7"></a><span class="go">Get:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [2592 B]</span>
<a id="__codelineno-212-8" name="__codelineno-212-8" href="#__codelineno-212-8"></a><span class="go">Fetched 8539 kB in 6s (1401 kB/s)</span>
<a id="__codelineno-212-9" name="__codelineno-212-9" href="#__codelineno-212-9"></a><span class="go">Reading package lists... Done</span>
<a id="__codelineno-212-10" name="__codelineno-212-10" href="#__codelineno-212-10"></a><span class="go">Building dependency tree... Done</span>
<a id="__codelineno-212-11" name="__codelineno-212-11" href="#__codelineno-212-11"></a><span class="go">Reading state information... Done</span>
<a id="__codelineno-212-12" name="__codelineno-212-12" href="#__codelineno-212-12"></a><span class="go">1 package can be upgraded. Run &#39;apt list --upgradable&#39; to see it.</span>
<a id="__codelineno-212-13" name="__codelineno-212-13" href="#__codelineno-212-13"></a><span class="gp">root@d42a140c8da0:/# </span>apt<span class="w"> </span>install<span class="w"> </span>apache2<span class="w"> </span>-y
<a id="__codelineno-212-14" name="__codelineno-212-14" href="#__codelineno-212-14"></a><span class="go">Reading package lists... Done</span>
<a id="__codelineno-212-15" name="__codelineno-212-15" href="#__codelineno-212-15"></a><span class="go">Building dependency tree... Done</span>
<a id="__codelineno-212-16" name="__codelineno-212-16" href="#__codelineno-212-16"></a><span class="go">Reading state information... Done</span>
<a id="__codelineno-212-17" name="__codelineno-212-17" href="#__codelineno-212-17"></a><span class="go">The following additional packages will be installed:</span>
<a id="__codelineno-212-18" name="__codelineno-212-18" href="#__codelineno-212-18"></a><span class="go">  apache2-bin apache2-data apache2-utils bzip2 ca-certificates file libapr1 libaprutil1 libaprutil1-dbd-sqlite3 libaprutil1-ldap libbrotli1 libcurl4 libexpat1</span>
<a id="__codelineno-212-19" name="__codelineno-212-19" href="#__codelineno-212-19"></a><span class="go">  libgdbm-compat4 libgdbm6 libgpm2 libicu67 libjansson4 libldap-2.4-2 libldap-common liblua5.3-0 libmagic-mgc libmagic1 libncurses6 libncursesw6 libnghttp2-14 libperl5.32</span>
<a id="__codelineno-212-20" name="__codelineno-212-20" href="#__codelineno-212-20"></a><span class="go">  libprocps8 libpsl5 librtmp1 libsasl2-2 libsasl2-modules libsasl2-modules-db libsqlite3-0 libssh2-1 libxml2 mailcap media-types mime-support netbase openssl perl</span>
<a id="__codelineno-212-21" name="__codelineno-212-21" href="#__codelineno-212-21"></a><span class="go">  perl-modules-5.32 procps psmisc publicsuffix ssl-cert xz-utils</span>
<a id="__codelineno-212-22" name="__codelineno-212-22" href="#__codelineno-212-22"></a><span class="go">Suggested packages:</span>
<a id="__codelineno-212-23" name="__codelineno-212-23" href="#__codelineno-212-23"></a><span class="go">  apache2-doc apache2-suexec-pristine | apache2-suexec-custom www-browser bzip2-doc gdbm-l10n gpm sensible-utils libsasl2-modules-gssapi-mit</span>
<a id="__codelineno-212-24" name="__codelineno-212-24" href="#__codelineno-212-24"></a><span class="go">  | libsasl2-modules-gssapi-heimdal libsasl2-modules-ldap libsasl2-modules-otp libsasl2-modules-sql perl-doc libterm-readline-gnu-perl | libterm-readline-perl-perl make</span>
<a id="__codelineno-212-25" name="__codelineno-212-25" href="#__codelineno-212-25"></a><span class="go">  libtap-harness-archive-perl</span>
<a id="__codelineno-212-26" name="__codelineno-212-26" href="#__codelineno-212-26"></a><span class="go">The following NEW packages will be installed:</span>
<a id="__codelineno-212-27" name="__codelineno-212-27" href="#__codelineno-212-27"></a><span class="go">  apache2 apache2-bin apache2-data apache2-utils bzip2 ca-certificates file libapr1 libaprutil1 libaprutil1-dbd-sqlite3 libaprutil1-ldap libbrotli1 libcurl4 libexpat1</span>
<a id="__codelineno-212-28" name="__codelineno-212-28" href="#__codelineno-212-28"></a><span class="go">  libgdbm-compat4 libgdbm6 libgpm2 libicu67 libjansson4 libldap-2.4-2 libldap-common liblua5.3-0 libmagic-mgc libmagic1 libncurses6 libncursesw6 libnghttp2-14 libperl5.32</span>
<a id="__codelineno-212-29" name="__codelineno-212-29" href="#__codelineno-212-29"></a><span class="go">  libprocps8 libpsl5 librtmp1 libsasl2-2 libsasl2-modules libsasl2-modules-db libsqlite3-0 libssh2-1 libxml2 mailcap media-types mime-support netbase openssl perl</span>
<a id="__codelineno-212-30" name="__codelineno-212-30" href="#__codelineno-212-30"></a><span class="go">  perl-modules-5.32 procps psmisc publicsuffix ssl-cert xz-utils</span>
<a id="__codelineno-212-31" name="__codelineno-212-31" href="#__codelineno-212-31"></a><span class="go">0 upgraded, 49 newly installed, 0 to remove and 1 not upgraded.</span>
<a id="__codelineno-212-32" name="__codelineno-212-32" href="#__codelineno-212-32"></a><span class="go">Need to get 24.6 MB of archives.</span>
<a id="__codelineno-212-33" name="__codelineno-212-33" href="#__codelineno-212-33"></a><span class="go">After this operation, 111 MB of additional disk space will be used.</span>
<a id="__codelineno-212-34" name="__codelineno-212-34" href="#__codelineno-212-34"></a><span class="go">Get:1 http://security.debian.org/debian-security bullseye-security/main amd64 libldap-2.4-2 amd64 2.4.57+dfsg-3+deb11u1 [232 kB]</span>
<a id="__codelineno-212-35" name="__codelineno-212-35" href="#__codelineno-212-35"></a><span class="go">Get:2 http://security.debian.org/debian-security bullseye-security/main amd64 libxml2 amd64 2.9.10+dfsg-6.7+deb11u2 [692 kB]</span>
<a id="__codelineno-212-36" name="__codelineno-212-36" href="#__codelineno-212-36"></a><span class="go">Get:3 http://deb.debian.org/debian bullseye/main amd64 perl-modules-5.32 all 5.32.1-4+deb11u2 [2823 kB]</span>
<a id="__codelineno-212-37" name="__codelineno-212-37" href="#__codelineno-212-37"></a><span class="go">Get:4 http://security.debian.org/debian-security bullseye-security/main amd64 openssl amd64 1.1.1n-0+deb11u2 [852 kB]</span>
<a id="__codelineno-212-38" name="__codelineno-212-38" href="#__codelineno-212-38"></a><span class="go">Get:5 http://security.debian.org/debian-security bullseye-security/main amd64 xz-utils amd64 5.2.5-2.1~deb11u1 [220 kB]</span>
<a id="__codelineno-212-39" name="__codelineno-212-39" href="#__codelineno-212-39"></a><span class="go">Get:6 http://security.debian.org/debian-security bullseye-security/main amd64 libldap-common all 2.4.57+dfsg-3+deb11u1 [95.8 kB]</span>
<a id="__codelineno-212-40" name="__codelineno-212-40" href="#__codelineno-212-40"></a><span class="go">Get:7 http://deb.debian.org/debian bullseye/main amd64 libgdbm6 amd64 1.19-2 [64.9 kB]</span>
<a id="__codelineno-212-41" name="__codelineno-212-41" href="#__codelineno-212-41"></a><span class="go">Setting up libgdbm-compat4:amd64 (1.19-2) ...</span>
<a id="__codelineno-212-42" name="__codelineno-212-42" href="#__codelineno-212-42"></a><span class="go">Setting up libperl5.32:amd64 (5.32.1-4+deb11u2) ...</span>
<a id="__codelineno-212-43" name="__codelineno-212-43" href="#__codelineno-212-43"></a><span class="go">Setting up procps (2:3.3.17-5) ...</span>
<a id="__codelineno-212-44" name="__codelineno-212-44" href="#__codelineno-212-44"></a><span class="go">Setting up libcurl4:amd64 (7.74.0-1.3+deb11u1) ...</span>
<a id="__codelineno-212-45" name="__codelineno-212-45" href="#__codelineno-212-45"></a><span class="go">Setting up apache2-utils (2.4.53-1~deb11u1) ...</span>
<a id="__codelineno-212-46" name="__codelineno-212-46" href="#__codelineno-212-46"></a><span class="go">Setting up perl (5.32.1-4+deb11u2) ...</span>
<a id="__codelineno-212-47" name="__codelineno-212-47" href="#__codelineno-212-47"></a><span class="go">Setting up mailcap (3.69) ...</span>
<a id="__codelineno-212-48" name="__codelineno-212-48" href="#__codelineno-212-48"></a><span class="go">Setting up mime-support (3.66) ...</span>
<a id="__codelineno-212-49" name="__codelineno-212-49" href="#__codelineno-212-49"></a><span class="go">Setting up apache2-bin (2.4.53-1~deb11u1) ...</span>
<a id="__codelineno-212-50" name="__codelineno-212-50" href="#__codelineno-212-50"></a><span class="go">Setting up apache2 (2.4.53-1~deb11u1) ...</span>
<a id="__codelineno-212-51" name="__codelineno-212-51" href="#__codelineno-212-51"></a><span class="go">Enabling module mpm_event.</span>
<a id="__codelineno-212-52" name="__codelineno-212-52" href="#__codelineno-212-52"></a><span class="go">Enabling module authz_core.</span>
<a id="__codelineno-212-53" name="__codelineno-212-53" href="#__codelineno-212-53"></a><span class="go">Enabling module authz_host.</span>
<a id="__codelineno-212-54" name="__codelineno-212-54" href="#__codelineno-212-54"></a><span class="go">Enabling module authn_core.</span>
<a id="__codelineno-212-55" name="__codelineno-212-55" href="#__codelineno-212-55"></a><span class="go">Enabling module auth_basic.</span>
<a id="__codelineno-212-56" name="__codelineno-212-56" href="#__codelineno-212-56"></a><span class="go">Enabling module access_compat.</span>
<a id="__codelineno-212-57" name="__codelineno-212-57" href="#__codelineno-212-57"></a><span class="go">Enabling module authn_file.</span>
<a id="__codelineno-212-58" name="__codelineno-212-58" href="#__codelineno-212-58"></a><span class="go">Enabling module authz_user.</span>
<a id="__codelineno-212-59" name="__codelineno-212-59" href="#__codelineno-212-59"></a><span class="go">Enabling module alias.</span>
<a id="__codelineno-212-60" name="__codelineno-212-60" href="#__codelineno-212-60"></a><span class="go">Enabling module dir.</span>
<a id="__codelineno-212-61" name="__codelineno-212-61" href="#__codelineno-212-61"></a><span class="go">Enabling module autoindex.</span>
<a id="__codelineno-212-62" name="__codelineno-212-62" href="#__codelineno-212-62"></a><span class="go">Enabling module env.</span>
<a id="__codelineno-212-63" name="__codelineno-212-63" href="#__codelineno-212-63"></a><span class="go">Enabling module mime.</span>
<a id="__codelineno-212-64" name="__codelineno-212-64" href="#__codelineno-212-64"></a><span class="go">Enabling module negotiation.</span>
<a id="__codelineno-212-65" name="__codelineno-212-65" href="#__codelineno-212-65"></a><span class="go">Enabling module setenvif.</span>
<a id="__codelineno-212-66" name="__codelineno-212-66" href="#__codelineno-212-66"></a><span class="go">Enabling module filter.</span>
<a id="__codelineno-212-67" name="__codelineno-212-67" href="#__codelineno-212-67"></a><span class="go">Enabling module deflate.</span>
<a id="__codelineno-212-68" name="__codelineno-212-68" href="#__codelineno-212-68"></a><span class="go">Enabling module status.</span>
<a id="__codelineno-212-69" name="__codelineno-212-69" href="#__codelineno-212-69"></a><span class="go">Enabling module reqtimeout.</span>
<a id="__codelineno-212-70" name="__codelineno-212-70" href="#__codelineno-212-70"></a><span class="go">Enabling conf charset.</span>
<a id="__codelineno-212-71" name="__codelineno-212-71" href="#__codelineno-212-71"></a><span class="go">Enabling conf localized-error-pages.</span>
<a id="__codelineno-212-72" name="__codelineno-212-72" href="#__codelineno-212-72"></a><span class="go">Enabling conf other-vhosts-access-log.</span>
<a id="__codelineno-212-73" name="__codelineno-212-73" href="#__codelineno-212-73"></a><span class="go">Enabling conf security.</span>
<a id="__codelineno-212-74" name="__codelineno-212-74" href="#__codelineno-212-74"></a><span class="go">Enabling conf serve-cgi-bin.</span>
<a id="__codelineno-212-75" name="__codelineno-212-75" href="#__codelineno-212-75"></a><span class="go">Enabling site 000-default.</span>
<a id="__codelineno-212-76" name="__codelineno-212-76" href="#__codelineno-212-76"></a><span class="go">invoke-rc.d: could not determine current runlevel</span>
<a id="__codelineno-212-77" name="__codelineno-212-77" href="#__codelineno-212-77"></a><span class="go">invoke-rc.d: policy-rc.d denied execution of start.</span>
<a id="__codelineno-212-78" name="__codelineno-212-78" href="#__codelineno-212-78"></a><span class="go">Processing triggers for libc-bin (2.31-13+deb11u3) ...</span>
<a id="__codelineno-212-79" name="__codelineno-212-79" href="#__codelineno-212-79"></a><span class="go">Processing triggers for ca-certificates (20210119) ...</span>
<a id="__codelineno-212-80" name="__codelineno-212-80" href="#__codelineno-212-80"></a><span class="go">Updating certificates in /etc/ssl/certs...</span>
<a id="__codelineno-212-81" name="__codelineno-212-81" href="#__codelineno-212-81"></a><span class="go">0 added, 0 removed; done.</span>
<a id="__codelineno-212-82" name="__codelineno-212-82" href="#__codelineno-212-82"></a><span class="go">Running hooks in /etc/ca-certificates/update.d...</span>
<a id="__codelineno-212-83" name="__codelineno-212-83" href="#__codelineno-212-83"></a><span class="go">done.</span>
<a id="__codelineno-212-84" name="__codelineno-212-84" href="#__codelineno-212-84"></a><span class="gp">root@d42a140c8da0:/# </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&lt;h1&gt;Curso Docker&lt;/h1&gt;&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/var/www/html/index.html
<a id="__codelineno-212-85" name="__codelineno-212-85" href="#__codelineno-212-85"></a><span class="gp">root@d42a140c8da0:/# </span><span class="nb">exit</span>
<a id="__codelineno-212-86" name="__codelineno-212-86" href="#__codelineno-212-86"></a><span class="go">exit</span>
</code></pre></div>
<p>Creo una nueva imagen partiendo de los cambios en el contenedor. Esta imagen será el resultado de las capas base + cambios:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-213-1" name="__codelineno-213-1" href="#__codelineno-213-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>commit<span class="w"> </span>contenedor<span class="w"> </span>adrianjaramillo/myapache2:v1
<a id="__codelineno-213-2" name="__codelineno-213-2" href="#__codelineno-213-2"></a><span class="go">sha256:4d7daf41fb1034a6667c2464ac9bcf809d3c6460af908120f755672d66bc6433</span>
</code></pre></div>
<p>Muestro que ya la tengo localmente:</p>
<p><a class="glightbox" href="https://i.imgur.com/ObCrzY4.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="debianmodificado" src="https://i.imgur.com/ObCrzY4.png" /></a></p>
<p>Al lanzar contenedores desde la imagen modificada <strong>estamos obligados a indicar el proceso a iniciar</strong>, ya que por defecto se ejecuta el de la imagen base y no podemos cambiarlo <em>(por ahora)</em>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-214-1" name="__codelineno-214-1" href="#__codelineno-214-1"></a><span class="gp">atlas@olympus:~$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-214-2" name="__codelineno-214-2" href="#__codelineno-214-2"></a><span class="w">             </span>--name<span class="w"> </span>servidor_web<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-214-3" name="__codelineno-214-3" href="#__codelineno-214-3"></a><span class="w">             </span>adrianjaramillo/myapache2:v1<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-214-4" name="__codelineno-214-4" href="#__codelineno-214-4"></a><span class="w">             </span>bash<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;apache2ctl -D FOREGROUND&quot;</span>
<a id="__codelineno-214-5" name="__codelineno-214-5" href="#__codelineno-214-5"></a><span class="go">fed43969a4a81ddfe4473097201a271fdd10aa7ee0053caf11193c12e540e321</span>
</code></pre></div>
<p>Muestro que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/epmOg1K.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="imagenmodificadacontenedor" src="https://i.imgur.com/epmOg1K.png" /></a></p>
<h3 id="creacion-de-imagenes-a-partir-de-un-dockerfile">Creación de imágenes a partir de un Dockerfile</h3>
<p>Creo un directorio donde estará el Dockerfile y lo que se necesite:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-215-1" name="__codelineno-215-1" href="#__codelineno-215-1"></a><span class="gp">atlas@olympus:~/docker$ </span>mkdir<span class="w"> </span>build1
<a id="__codelineno-215-2" name="__codelineno-215-2" href="#__codelineno-215-2"></a><span class="gp">atlas@olympus:~/docker$ </span><span class="nb">cd</span><span class="w"> </span>build1
<a id="__codelineno-215-3" name="__codelineno-215-3" href="#__codelineno-215-3"></a><span class="gp">atlas@olympus:~/docker/build1$</span>
</code></pre></div>
<p>El Dockerfile será:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-216-1" name="__codelineno-216-1" href="#__codelineno-216-1"></a><span class="go">FROM debian:buster-slim</span>
<a id="__codelineno-216-2" name="__codelineno-216-2" href="#__codelineno-216-2"></a><span class="go">MAINTAINER Adrián Jaramillo Rodríguez &quot;adristudy@gmail.com&quot;</span>
<a id="__codelineno-216-3" name="__codelineno-216-3" href="#__codelineno-216-3"></a><span class="go">RUN apt-get update &amp;&amp; apt-get install -y apache2</span>
<a id="__codelineno-216-4" name="__codelineno-216-4" href="#__codelineno-216-4"></a><span class="go">COPY index.html /var/www/html/</span>
<a id="__codelineno-216-5" name="__codelineno-216-5" href="#__codelineno-216-5"></a><span class="go">CMD [&quot;/usr/sbin/apache2ctl&quot;, &quot;-D&quot;, &quot;FOREGROUND&quot;]</span>
</code></pre></div>
<p>Me bajo un <code>index.html</code> de prueba:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-217-1" name="__codelineno-217-1" href="#__codelineno-217-1"></a><span class="gp">atlas@olympus:~/docker/build1$ </span>wget<span class="w"> </span>https://gist.githubusercontent.com/chrisvfritz/bc010e6ed25b802da7eb/raw/18eaa48addae7e3021f6bcea03b7a6557e3f0132/index.html
<a id="__codelineno-217-2" name="__codelineno-217-2" href="#__codelineno-217-2"></a><span class="go">--2022-06-16 18:53:29--  https://gist.githubusercontent.com/chrisvfritz/bc010e6ed25b802da7eb/raw/18eaa48addae7e3021f6bcea03b7a6557e3f0132/index.html</span>
<a id="__codelineno-217-3" name="__codelineno-217-3" href="#__codelineno-217-3"></a><span class="go">Resolving gist.githubusercontent.com (gist.githubusercontent.com)... 185.199.111.133, 185.199.110.133, 185.199.108.133, ...</span>
<a id="__codelineno-217-4" name="__codelineno-217-4" href="#__codelineno-217-4"></a><span class="go">Connecting to gist.githubusercontent.com (gist.githubusercontent.com)|185.199.111.133|:443... connected.</span>
<a id="__codelineno-217-5" name="__codelineno-217-5" href="#__codelineno-217-5"></a><span class="go">HTTP request sent, awaiting response... 200 OK</span>
<a id="__codelineno-217-6" name="__codelineno-217-6" href="#__codelineno-217-6"></a><span class="go">Length: 285 [text/plain]</span>
<a id="__codelineno-217-7" name="__codelineno-217-7" href="#__codelineno-217-7"></a><span class="go">Saving to: ‘index.html’</span>
<a id="__codelineno-217-8" name="__codelineno-217-8" href="#__codelineno-217-8"></a>
<a id="__codelineno-217-9" name="__codelineno-217-9" href="#__codelineno-217-9"></a><span class="go">index.html                                  100%[=========================================================================================&gt;]     285  --.-KB/s    in 0s</span>
<a id="__codelineno-217-10" name="__codelineno-217-10" href="#__codelineno-217-10"></a>
<a id="__codelineno-217-11" name="__codelineno-217-11" href="#__codelineno-217-11"></a><span class="go">2022-06-16 18:53:30 (11.6 MB/s) - ‘index.html’ saved [285/285]</span>
</code></pre></div>
<p>Al final, acabaremos con la siguiente estructura:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-218-1" name="__codelineno-218-1" href="#__codelineno-218-1"></a><span class="gp">atlas@olympus:~/docker/build1$ </span>ls<span class="w"> </span>-la
<a id="__codelineno-218-2" name="__codelineno-218-2" href="#__codelineno-218-2"></a><span class="go">total 16</span>
<a id="__codelineno-218-3" name="__codelineno-218-3" href="#__codelineno-218-3"></a><span class="go">drwxr-xr-x  2 atlas atlas 4096 Jun 16 18:53 .</span>
<a id="__codelineno-218-4" name="__codelineno-218-4" href="#__codelineno-218-4"></a><span class="go">drwxr-xr-x 13 atlas atlas 4096 Jun 16 18:37 ..</span>
<a id="__codelineno-218-5" name="__codelineno-218-5" href="#__codelineno-218-5"></a><span class="go">-rw-r--r--  1 atlas atlas  216 Jun 16 18:50 Dockerfile</span>
<a id="__codelineno-218-6" name="__codelineno-218-6" href="#__codelineno-218-6"></a><span class="go">-rw-r--r--  1 atlas atlas  285 Jun 16 18:53 index.html</span>
</code></pre></div>
<p>Genero la imagen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-219-1" name="__codelineno-219-1" href="#__codelineno-219-1"></a><span class="gp">atlas@olympus:~/docker/build1$ </span>docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>adrianjaramillo/myapache2:v2<span class="w"> </span>.
<a id="__codelineno-219-2" name="__codelineno-219-2" href="#__codelineno-219-2"></a><span class="go">Sending build context to Docker daemon  3.072kB</span>
<a id="__codelineno-219-3" name="__codelineno-219-3" href="#__codelineno-219-3"></a><span class="go">Step 1/5 : FROM debian:buster-slim</span>
<a id="__codelineno-219-4" name="__codelineno-219-4" href="#__codelineno-219-4"></a><span class="go"> ---&gt; c2303a498941</span>
<a id="__codelineno-219-5" name="__codelineno-219-5" href="#__codelineno-219-5"></a><span class="go">Step 2/5 : MAINTAINER Adrián Jaramillo Rodríguez &quot;adristudy@gmail.com&quot;</span>
<a id="__codelineno-219-6" name="__codelineno-219-6" href="#__codelineno-219-6"></a><span class="go"> ---&gt; Using cache</span>
<a id="__codelineno-219-7" name="__codelineno-219-7" href="#__codelineno-219-7"></a><span class="go"> ---&gt; 31ec41690e42</span>
<a id="__codelineno-219-8" name="__codelineno-219-8" href="#__codelineno-219-8"></a><span class="go">Step 3/5 : RUN apt-get update &amp;&amp; apt-get install -y apache2</span>
<a id="__codelineno-219-9" name="__codelineno-219-9" href="#__codelineno-219-9"></a><span class="go"> ---&gt; Running in 82497c561473</span>
<a id="__codelineno-219-10" name="__codelineno-219-10" href="#__codelineno-219-10"></a><span class="go">Get:1 http://deb.debian.org/debian buster InRelease [122 kB]</span>
<a id="__codelineno-219-11" name="__codelineno-219-11" href="#__codelineno-219-11"></a><span class="go">Get:2 http://security.debian.org/debian-security buster/updates InRelease [65.4 kB]</span>
<a id="__codelineno-219-12" name="__codelineno-219-12" href="#__codelineno-219-12"></a><span class="go">Get:3 http://deb.debian.org/debian buster-updates InRelease [51.9 kB]</span>
<a id="__codelineno-219-13" name="__codelineno-219-13" href="#__codelineno-219-13"></a><span class="go">Get:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [328 kB]</span>
<a id="__codelineno-219-14" name="__codelineno-219-14" href="#__codelineno-219-14"></a><span class="go">Get:5 http://deb.debian.org/debian buster/main amd64 Packages [7911 kB]</span>
<a id="__codelineno-219-15" name="__codelineno-219-15" href="#__codelineno-219-15"></a><span class="go">Get:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]</span>
<a id="__codelineno-219-16" name="__codelineno-219-16" href="#__codelineno-219-16"></a><span class="go">Fetched 8487 kB in 1min 9s (123 kB/s)</span>
<a id="__codelineno-219-17" name="__codelineno-219-17" href="#__codelineno-219-17"></a><span class="go">Reading package lists...</span>
<a id="__codelineno-219-18" name="__codelineno-219-18" href="#__codelineno-219-18"></a><span class="go">Reading package lists...</span>
<a id="__codelineno-219-19" name="__codelineno-219-19" href="#__codelineno-219-19"></a><span class="go">Building dependency tree...</span>
<a id="__codelineno-219-20" name="__codelineno-219-20" href="#__codelineno-219-20"></a><span class="go">Reading state information...</span>
<a id="__codelineno-219-21" name="__codelineno-219-21" href="#__codelineno-219-21"></a><span class="go">The following additional packages will be installed:</span>
<a id="__codelineno-219-22" name="__codelineno-219-22" href="#__codelineno-219-22"></a><span class="go">  apache2-bin apache2-data apache2-utils bzip2 ca-certificates file</span>
<a id="__codelineno-219-23" name="__codelineno-219-23" href="#__codelineno-219-23"></a><span class="go">  krb5-locales libapr1 libaprutil1 libaprutil1-dbd-sqlite3 libaprutil1-ldap</span>
<a id="__codelineno-219-24" name="__codelineno-219-24" href="#__codelineno-219-24"></a><span class="go">  libbrotli1 libcurl4 libexpat1 libgdbm-compat4 libgdbm6 libgpm2</span>
<a id="__codelineno-219-25" name="__codelineno-219-25" href="#__codelineno-219-25"></a><span class="go">  libgssapi-krb5-2 libicu63 libjansson4 libk5crypto3 libkeyutils1 libkrb5-3</span>
<a id="__codelineno-219-26" name="__codelineno-219-26" href="#__codelineno-219-26"></a><span class="go">  libkrb5support0 libldap-2.4-2 libldap-common liblua5.2-0 libmagic-mgc</span>
<a id="__codelineno-219-27" name="__codelineno-219-27" href="#__codelineno-219-27"></a><span class="go">  libmagic1 libncurses6 libnghttp2-14 libperl5.28 libprocps7 libpsl5 librtmp1</span>
<a id="__codelineno-219-28" name="__codelineno-219-28" href="#__codelineno-219-28"></a><span class="go">  libsasl2-2 libsasl2-modules libsasl2-modules-db libsqlite3-0 libssh2-1</span>
<a id="__codelineno-219-29" name="__codelineno-219-29" href="#__codelineno-219-29"></a><span class="go">  libssl1.1 libxml2 lsb-base mime-support netbase openssl perl</span>
<a id="__codelineno-219-30" name="__codelineno-219-30" href="#__codelineno-219-30"></a><span class="go">  perl-modules-5.28 procps psmisc publicsuffix ssl-cert xz-utils</span>
<a id="__codelineno-219-31" name="__codelineno-219-31" href="#__codelineno-219-31"></a><span class="go">Suggested packages:</span>
<a id="__codelineno-219-32" name="__codelineno-219-32" href="#__codelineno-219-32"></a><span class="go">  apache2-doc apache2-suexec-pristine | apache2-suexec-custom www-browser</span>
<a id="__codelineno-219-33" name="__codelineno-219-33" href="#__codelineno-219-33"></a><span class="go">  bzip2-doc gdbm-l10n gpm krb5-doc krb5-user sensible-utils</span>
<a id="__codelineno-219-34" name="__codelineno-219-34" href="#__codelineno-219-34"></a><span class="go">  libsasl2-modules-gssapi-mit | libsasl2-modules-gssapi-heimdal</span>
<a id="__codelineno-219-35" name="__codelineno-219-35" href="#__codelineno-219-35"></a><span class="go">  libsasl2-modules-ldap libsasl2-modules-otp libsasl2-modules-sql perl-doc</span>
<a id="__codelineno-219-36" name="__codelineno-219-36" href="#__codelineno-219-36"></a><span class="go">  libterm-readline-gnu-perl | libterm-readline-perl-perl make libb-debug-perl</span>
<a id="__codelineno-219-37" name="__codelineno-219-37" href="#__codelineno-219-37"></a><span class="go">  liblocale-codes-perl openssl-blacklist</span>
<a id="__codelineno-219-38" name="__codelineno-219-38" href="#__codelineno-219-38"></a><span class="go">The following NEW packages will be installed:</span>
<a id="__codelineno-219-39" name="__codelineno-219-39" href="#__codelineno-219-39"></a><span class="go">  apache2 apache2-bin apache2-data apache2-utils bzip2 ca-certificates file</span>
<a id="__codelineno-219-40" name="__codelineno-219-40" href="#__codelineno-219-40"></a><span class="go">  krb5-locales libapr1 libaprutil1 libaprutil1-dbd-sqlite3 libaprutil1-ldap</span>
<a id="__codelineno-219-41" name="__codelineno-219-41" href="#__codelineno-219-41"></a><span class="go">  libbrotli1 libcurl4 libexpat1 libgdbm-compat4 libgdbm6 libgpm2</span>
<a id="__codelineno-219-42" name="__codelineno-219-42" href="#__codelineno-219-42"></a><span class="go">  libgssapi-krb5-2 libicu63 libjansson4 libk5crypto3 libkeyutils1 libkrb5-3</span>
<a id="__codelineno-219-43" name="__codelineno-219-43" href="#__codelineno-219-43"></a><span class="go">  libkrb5support0 libldap-2.4-2 libldap-common liblua5.2-0 libmagic-mgc</span>
<a id="__codelineno-219-44" name="__codelineno-219-44" href="#__codelineno-219-44"></a><span class="go">  libmagic1 libncurses6 libnghttp2-14 libperl5.28 libprocps7 libpsl5 librtmp1</span>
<a id="__codelineno-219-45" name="__codelineno-219-45" href="#__codelineno-219-45"></a><span class="go">  libsasl2-2 libsasl2-modules libsasl2-modules-db libsqlite3-0 libssh2-1</span>
<a id="__codelineno-219-46" name="__codelineno-219-46" href="#__codelineno-219-46"></a><span class="go">  libssl1.1 libxml2 lsb-base mime-support netbase openssl perl</span>
<a id="__codelineno-219-47" name="__codelineno-219-47" href="#__codelineno-219-47"></a><span class="go">  perl-modules-5.28 procps psmisc publicsuffix ssl-cert xz-utils</span>
<a id="__codelineno-219-48" name="__codelineno-219-48" href="#__codelineno-219-48"></a><span class="go">0 upgraded, 54 newly installed, 0 to remove and 1 not upgraded.</span>
<a id="__codelineno-219-49" name="__codelineno-219-49" href="#__codelineno-219-49"></a><span class="go">Need to get 25.6 MB of archives.</span>
<a id="__codelineno-219-50" name="__codelineno-219-50" href="#__codelineno-219-50"></a><span class="go">After this operation, 112 MB of additional disk space will be used.</span>
<a id="__codelineno-219-51" name="__codelineno-219-51" href="#__codelineno-219-51"></a><span class="go">Get:1 http://security.debian.org/debian-security buster/updates/main amd64 libssl1.1 amd64 1.1.1n-0+deb10u2 [1551 kB]</span>
<a id="__codelineno-219-52" name="__codelineno-219-52" href="#__codelineno-219-52"></a><span class="go">Get:2 http://deb.debian.org/debian buster/main amd64 perl-modules-5.28 all 5.28.1-6+deb10u1 [2873 kB]</span>
<a id="__codelineno-219-53" name="__codelineno-219-53" href="#__codelineno-219-53"></a><span class="go">Get:3 http://deb.debian.org/debian buster/main amd64 libgdbm6 amd64 1.18.1-4 [64.7 kB]</span>
<a id="__codelineno-219-54" name="__codelineno-219-54" href="#__codelineno-219-54"></a><span class="go">Get:4 http://deb.debian.org/debian buster/main amd64 libgdbm-compat4 amd64 1.18.1-4 [44.1 kB]</span>
<a id="__codelineno-219-55" name="__codelineno-219-55" href="#__codelineno-219-55"></a><span class="go">Get:5 http://deb.debian.org/debian buster/main amd64 libperl5.28 amd64 5.28.1-6+deb10u1 [3894 kB]</span>
<a id="__codelineno-219-56" name="__codelineno-219-56" href="#__codelineno-219-56"></a><span class="go">Get:6 http://security.debian.org/debian-security buster/updates/main amd64 libldap-common all 2.4.47+dfsg-3+deb10u7 [90.1 kB]</span>
<a id="__codelineno-219-57" name="__codelineno-219-57" href="#__codelineno-219-57"></a><span class="go">Get:7 http://security.debian.org/debian-security buster/updates/main amd64 libldap-2.4-2 amd64 2.4.47+dfsg-3+deb10u7 [224 kB]</span>
<a id="__codelineno-219-58" name="__codelineno-219-58" href="#__codelineno-219-58"></a><span class="go">Get:8 http://security.debian.org/debian-security buster/updates/main amd64 libxml2 amd64 2.9.4+dfsg1-7+deb10u4 [689 kB]</span>
<a id="__codelineno-219-59" name="__codelineno-219-59" href="#__codelineno-219-59"></a><span class="go">Get:9 http://security.debian.org/debian-security buster/updates/main amd64 xz-utils amd64 5.2.4-1+deb10u1 [183 kB]</span>
<a id="__codelineno-219-60" name="__codelineno-219-60" href="#__codelineno-219-60"></a><span class="go">Get:10 http://security.debian.org/debian-security buster/updates/main amd64 openssl amd64 1.1.1n-0+deb10u2 [855 kB]</span>
<a id="__codelineno-219-61" name="__codelineno-219-61" href="#__codelineno-219-61"></a><span class="go">Get:11 http://deb.debian.org/debian buster/main amd64 perl amd64 5.28.1-6+deb10u1 [204 kB]</span>
<a id="__codelineno-219-62" name="__codelineno-219-62" href="#__codelineno-219-62"></a><span class="go">Get:12 http://deb.debian.org/debian buster/main amd64 libapr1 amd64 1.6.5-1+b1 [102 kB]</span>
<a id="__codelineno-219-63" name="__codelineno-219-63" href="#__codelineno-219-63"></a><span class="go">Get:13 http://deb.debian.org/debian buster/main amd64 libexpat1 amd64 2.2.6-2+deb10u4 [108 kB]</span>
<a id="__codelineno-219-64" name="__codelineno-219-64" href="#__codelineno-219-64"></a><span class="go">Get:14 http://deb.debian.org/debian buster/main amd64 libaprutil1 amd64 1.6.1-4 [91.8 kB]</span>
<a id="__codelineno-219-65" name="__codelineno-219-65" href="#__codelineno-219-65"></a><span class="go">Get:15 http://deb.debian.org/debian buster/main amd64 libsqlite3-0 amd64 3.27.2-3+deb10u1 [641 kB]</span>
<a id="__codelineno-219-66" name="__codelineno-219-66" href="#__codelineno-219-66"></a><span class="go">Get:16 http://deb.debian.org/debian buster/main amd64 libaprutil1-dbd-sqlite3 amd64 1.6.1-4 [18.7 kB]</span>
<a id="__codelineno-219-67" name="__codelineno-219-67" href="#__codelineno-219-67"></a><span class="go">Get:17 http://deb.debian.org/debian buster/main amd64 libsasl2-modules-db amd64 2.1.27+dfsg-1+deb10u2 [69.2 kB]</span>
<a id="__codelineno-219-68" name="__codelineno-219-68" href="#__codelineno-219-68"></a><span class="go">Get:18 http://deb.debian.org/debian buster/main amd64 libsasl2-2 amd64 2.1.27+dfsg-1+deb10u2 [106 kB]</span>
<a id="__codelineno-219-69" name="__codelineno-219-69" href="#__codelineno-219-69"></a><span class="go">Get:19 http://deb.debian.org/debian buster/main amd64 libaprutil1-ldap amd64 1.6.1-4 [16.8 kB]</span>
<a id="__codelineno-219-70" name="__codelineno-219-70" href="#__codelineno-219-70"></a><span class="go">Get:20 http://deb.debian.org/debian buster/main amd64 libbrotli1 amd64 1.0.7-2+deb10u1 [269 kB]</span>
<a id="__codelineno-219-71" name="__codelineno-219-71" href="#__codelineno-219-71"></a><span class="go">Get:21 http://deb.debian.org/debian buster/main amd64 libkeyutils1 amd64 1.6-6 [15.0 kB]</span>
<a id="__codelineno-219-72" name="__codelineno-219-72" href="#__codelineno-219-72"></a><span class="go">Get:22 http://deb.debian.org/debian buster/main amd64 libkrb5support0 amd64 1.17-3+deb10u3 [65.8 kB]</span>
<a id="__codelineno-219-73" name="__codelineno-219-73" href="#__codelineno-219-73"></a><span class="go">Get:23 http://deb.debian.org/debian buster/main amd64 libk5crypto3 amd64 1.17-3+deb10u3 [122 kB]</span>
<a id="__codelineno-219-74" name="__codelineno-219-74" href="#__codelineno-219-74"></a><span class="go">Get:24 http://deb.debian.org/debian buster/main amd64 libkrb5-3 amd64 1.17-3+deb10u3 [370 kB]</span>
<a id="__codelineno-219-75" name="__codelineno-219-75" href="#__codelineno-219-75"></a><span class="go">Get:25 http://deb.debian.org/debian buster/main amd64 libgssapi-krb5-2 amd64 1.17-3+deb10u3 [158 kB]</span>
<a id="__codelineno-219-76" name="__codelineno-219-76" href="#__codelineno-219-76"></a><span class="go">Get:26 http://deb.debian.org/debian buster/main amd64 libnghttp2-14 amd64 1.36.0-2+deb10u1 [85.0 kB]</span>
<a id="__codelineno-219-77" name="__codelineno-219-77" href="#__codelineno-219-77"></a><span class="go">Get:27 http://deb.debian.org/debian buster/main amd64 libpsl5 amd64 0.20.2-2 [53.7 kB]</span>
<a id="__codelineno-219-78" name="__codelineno-219-78" href="#__codelineno-219-78"></a><span class="go">Get:28 http://deb.debian.org/debian buster/main amd64 librtmp1 amd64 2.4+20151223.gitfa8646d.1-2 [60.5 kB]</span>
<a id="__codelineno-219-79" name="__codelineno-219-79" href="#__codelineno-219-79"></a><span class="go">Get:29 http://deb.debian.org/debian buster/main amd64 libssh2-1 amd64 1.8.0-2.1 [140 kB]</span>
<a id="__codelineno-219-80" name="__codelineno-219-80" href="#__codelineno-219-80"></a><span class="go">Get:30 http://deb.debian.org/debian buster/main amd64 libcurl4 amd64 7.64.0-4+deb10u2 [332 kB]</span>
<a id="__codelineno-219-81" name="__codelineno-219-81" href="#__codelineno-219-81"></a><span class="go">Get:31 http://deb.debian.org/debian buster/main amd64 libjansson4 amd64 2.12-1 [38.0 kB]</span>
<a id="__codelineno-219-82" name="__codelineno-219-82" href="#__codelineno-219-82"></a><span class="go">Get:32 http://deb.debian.org/debian buster/main amd64 liblua5.2-0 amd64 5.2.4-1.1+b2 [110 kB]</span>
<a id="__codelineno-219-83" name="__codelineno-219-83" href="#__codelineno-219-83"></a><span class="go">Get:33 http://deb.debian.org/debian buster/main amd64 libicu63 amd64 63.1-6+deb10u3 [8293 kB]</span>
<a id="__codelineno-219-84" name="__codelineno-219-84" href="#__codelineno-219-84"></a><span class="go">Get:34 http://deb.debian.org/debian buster/main amd64 apache2-bin amd64 2.4.38-3+deb10u7 [1308 kB]</span>
<a id="__codelineno-219-85" name="__codelineno-219-85" href="#__codelineno-219-85"></a><span class="go">Get:35 http://deb.debian.org/debian buster/main amd64 apache2-data all 2.4.38-3+deb10u7 [165 kB]</span>
<a id="__codelineno-219-86" name="__codelineno-219-86" href="#__codelineno-219-86"></a><span class="go">Get:36 http://deb.debian.org/debian buster/main amd64 apache2-utils amd64 2.4.38-3+deb10u7 [237 kB]</span>
<a id="__codelineno-219-87" name="__codelineno-219-87" href="#__codelineno-219-87"></a><span class="go">Get:37 http://deb.debian.org/debian buster/main amd64 lsb-base all 10.2019051400 [28.4 kB]</span>
<a id="__codelineno-219-88" name="__codelineno-219-88" href="#__codelineno-219-88"></a><span class="go">Get:38 http://deb.debian.org/debian buster/main amd64 mime-support all 3.62 [37.2 kB]</span>
<a id="__codelineno-219-89" name="__codelineno-219-89" href="#__codelineno-219-89"></a><span class="go">Get:39 http://deb.debian.org/debian buster/main amd64 libncurses6 amd64 6.1+20181013-2+deb10u2 [102 kB]</span>
<a id="__codelineno-219-90" name="__codelineno-219-90" href="#__codelineno-219-90"></a><span class="go">Get:40 http://deb.debian.org/debian buster/main amd64 libprocps7 amd64 2:3.3.15-2 [61.7 kB]</span>
<a id="__codelineno-219-91" name="__codelineno-219-91" href="#__codelineno-219-91"></a><span class="go">Get:41 http://deb.debian.org/debian buster/main amd64 procps amd64 2:3.3.15-2 [259 kB]</span>
<a id="__codelineno-219-92" name="__codelineno-219-92" href="#__codelineno-219-92"></a><span class="go">Get:42 http://deb.debian.org/debian buster/main amd64 apache2 amd64 2.4.38-3+deb10u7 [252 kB]</span>
<a id="__codelineno-219-93" name="__codelineno-219-93" href="#__codelineno-219-93"></a><span class="go">Get:43 http://deb.debian.org/debian buster/main amd64 netbase all 5.6 [19.4 kB]</span>
<a id="__codelineno-219-94" name="__codelineno-219-94" href="#__codelineno-219-94"></a><span class="go">Get:44 http://deb.debian.org/debian buster/main amd64 bzip2 amd64 1.0.6-9.2~deb10u1 [48.4 kB]</span>
<a id="__codelineno-219-95" name="__codelineno-219-95" href="#__codelineno-219-95"></a><span class="go">Get:45 http://deb.debian.org/debian buster/main amd64 libmagic-mgc amd64 1:5.35-4+deb10u2 [242 kB]</span>
<a id="__codelineno-219-96" name="__codelineno-219-96" href="#__codelineno-219-96"></a><span class="go">Get:46 http://deb.debian.org/debian buster/main amd64 libmagic1 amd64 1:5.35-4+deb10u2 [118 kB]</span>
<a id="__codelineno-219-97" name="__codelineno-219-97" href="#__codelineno-219-97"></a><span class="go">Get:47 http://deb.debian.org/debian buster/main amd64 file amd64 1:5.35-4+deb10u2 [66.4 kB]</span>
<a id="__codelineno-219-98" name="__codelineno-219-98" href="#__codelineno-219-98"></a><span class="go">Get:48 http://deb.debian.org/debian buster/main amd64 krb5-locales all 1.17-3+deb10u3 [95.5 kB]</span>
<a id="__codelineno-219-99" name="__codelineno-219-99" href="#__codelineno-219-99"></a><span class="go">Get:49 http://deb.debian.org/debian buster/main amd64 ca-certificates all 20200601~deb10u2 [166 kB]</span>
<a id="__codelineno-219-100" name="__codelineno-219-100" href="#__codelineno-219-100"></a><span class="go">Get:50 http://deb.debian.org/debian buster/main amd64 libgpm2 amd64 1.20.7-5 [35.1 kB]</span>
<a id="__codelineno-219-101" name="__codelineno-219-101" href="#__codelineno-219-101"></a><span class="go">Get:51 http://deb.debian.org/debian buster/main amd64 libsasl2-modules amd64 2.1.27+dfsg-1+deb10u2 [104 kB]</span>
<a id="__codelineno-219-102" name="__codelineno-219-102" href="#__codelineno-219-102"></a><span class="go">Get:52 http://deb.debian.org/debian buster/main amd64 psmisc amd64 23.2-1+deb10u1 [126 kB]</span>
<a id="__codelineno-219-103" name="__codelineno-219-103" href="#__codelineno-219-103"></a><span class="go">Get:53 http://deb.debian.org/debian buster/main amd64 publicsuffix all 20211109.1735-0+deb10u1 [125 kB]</span>
<a id="__codelineno-219-104" name="__codelineno-219-104" href="#__codelineno-219-104"></a><span class="go">Get:54 http://deb.debian.org/debian buster/main amd64 ssl-cert all 1.0.39 [20.8 kB]</span>
<a id="__codelineno-219-105" name="__codelineno-219-105" href="#__codelineno-219-105"></a><span class="go">debconf: delaying package configuration, since apt-utils is not installed</span>
<a id="__codelineno-219-106" name="__codelineno-219-106" href="#__codelineno-219-106"></a><span class="go">Fetched 25.6 MB in 1min 54s (224 kB/s)</span>
<a id="__codelineno-219-107" name="__codelineno-219-107" href="#__codelineno-219-107"></a><span class="go">Selecting previously unselected package perl-modules-5.28.</span>
<a id="__codelineno-219-108" name="__codelineno-219-108" href="#__codelineno-219-108"></a><span class="gp gp-VirtualEnv">(Reading database ... 6460 files and directories currently installed.)</span>
<a id="__codelineno-219-109" name="__codelineno-219-109" href="#__codelineno-219-109"></a><span class="go">Preparing to unpack .../00-perl-modules-5.28_5.28.1-6+deb10u1_all.deb ...</span>
<a id="__codelineno-219-110" name="__codelineno-219-110" href="#__codelineno-219-110"></a><span class="go">Unpacking perl-modules-5.28 (5.28.1-6+deb10u1) ...</span>
<a id="__codelineno-219-111" name="__codelineno-219-111" href="#__codelineno-219-111"></a><span class="go">Selecting previously unselected package libgdbm6:amd64.</span>
<a id="__codelineno-219-112" name="__codelineno-219-112" href="#__codelineno-219-112"></a><span class="go">Preparing to unpack .../01-libgdbm6_1.18.1-4_amd64.deb ...</span>
<a id="__codelineno-219-113" name="__codelineno-219-113" href="#__codelineno-219-113"></a><span class="go">Unpacking libgdbm6:amd64 (1.18.1-4) ...</span>
<a id="__codelineno-219-114" name="__codelineno-219-114" href="#__codelineno-219-114"></a><span class="go">Selecting previously unselected package libgdbm-compat4:amd64.</span>
<a id="__codelineno-219-115" name="__codelineno-219-115" href="#__codelineno-219-115"></a><span class="go">Preparing to unpack .../02-libgdbm-compat4_1.18.1-4_amd64.deb ...</span>
<a id="__codelineno-219-116" name="__codelineno-219-116" href="#__codelineno-219-116"></a><span class="go">Unpacking libgdbm-compat4:amd64 (1.18.1-4) ...</span>
<a id="__codelineno-219-117" name="__codelineno-219-117" href="#__codelineno-219-117"></a><span class="go">Selecting previously unselected package libperl5.28:amd64.</span>
<a id="__codelineno-219-118" name="__codelineno-219-118" href="#__codelineno-219-118"></a><span class="go">Preparing to unpack .../03-libperl5.28_5.28.1-6+deb10u1_amd64.deb ...</span>
<a id="__codelineno-219-119" name="__codelineno-219-119" href="#__codelineno-219-119"></a><span class="go">Unpacking libperl5.28:amd64 (5.28.1-6+deb10u1) ...</span>
<a id="__codelineno-219-120" name="__codelineno-219-120" href="#__codelineno-219-120"></a><span class="go">Selecting previously unselected package perl.</span>
<a id="__codelineno-219-121" name="__codelineno-219-121" href="#__codelineno-219-121"></a><span class="go">Preparing to unpack .../04-perl_5.28.1-6+deb10u1_amd64.deb ...</span>
<a id="__codelineno-219-122" name="__codelineno-219-122" href="#__codelineno-219-122"></a><span class="go">Unpacking perl (5.28.1-6+deb10u1) ...</span>
<a id="__codelineno-219-123" name="__codelineno-219-123" href="#__codelineno-219-123"></a><span class="go">Selecting previously unselected package libapr1:amd64.</span>
<a id="__codelineno-219-124" name="__codelineno-219-124" href="#__codelineno-219-124"></a><span class="go">Preparing to unpack .../05-libapr1_1.6.5-1+b1_amd64.deb ...</span>
<a id="__codelineno-219-125" name="__codelineno-219-125" href="#__codelineno-219-125"></a><span class="go">Unpacking libapr1:amd64 (1.6.5-1+b1) ...</span>
<a id="__codelineno-219-126" name="__codelineno-219-126" href="#__codelineno-219-126"></a><span class="go">Selecting previously unselected package libexpat1:amd64.</span>
<a id="__codelineno-219-127" name="__codelineno-219-127" href="#__codelineno-219-127"></a><span class="go">Preparing to unpack .../06-libexpat1_2.2.6-2+deb10u4_amd64.deb ...</span>
<a id="__codelineno-219-128" name="__codelineno-219-128" href="#__codelineno-219-128"></a><span class="go">Unpacking libexpat1:amd64 (2.2.6-2+deb10u4) ...</span>
<a id="__codelineno-219-129" name="__codelineno-219-129" href="#__codelineno-219-129"></a><span class="go">Selecting previously unselected package libssl1.1:amd64.</span>
<a id="__codelineno-219-130" name="__codelineno-219-130" href="#__codelineno-219-130"></a><span class="go">Preparing to unpack .../07-libssl1.1_1.1.1n-0+deb10u2_amd64.deb ...</span>
<a id="__codelineno-219-131" name="__codelineno-219-131" href="#__codelineno-219-131"></a><span class="go">Unpacking libssl1.1:amd64 (1.1.1n-0+deb10u2) ...</span>
<a id="__codelineno-219-132" name="__codelineno-219-132" href="#__codelineno-219-132"></a><span class="go">Selecting previously unselected package libaprutil1:amd64.</span>
<a id="__codelineno-219-133" name="__codelineno-219-133" href="#__codelineno-219-133"></a><span class="go">Preparing to unpack .../08-libaprutil1_1.6.1-4_amd64.deb ...</span>
<a id="__codelineno-219-134" name="__codelineno-219-134" href="#__codelineno-219-134"></a><span class="go">Unpacking libaprutil1:amd64 (1.6.1-4) ...</span>
<a id="__codelineno-219-135" name="__codelineno-219-135" href="#__codelineno-219-135"></a><span class="go">Selecting previously unselected package libsqlite3-0:amd64.</span>
<a id="__codelineno-219-136" name="__codelineno-219-136" href="#__codelineno-219-136"></a><span class="go">Preparing to unpack .../09-libsqlite3-0_3.27.2-3+deb10u1_amd64.deb ...</span>
<a id="__codelineno-219-137" name="__codelineno-219-137" href="#__codelineno-219-137"></a><span class="go">Unpacking libsqlite3-0:amd64 (3.27.2-3+deb10u1) ...</span>
<a id="__codelineno-219-138" name="__codelineno-219-138" href="#__codelineno-219-138"></a><span class="go">Selecting previously unselected package libaprutil1-dbd-sqlite3:amd64.</span>
<a id="__codelineno-219-139" name="__codelineno-219-139" href="#__codelineno-219-139"></a><span class="go">Preparing to unpack .../10-libaprutil1-dbd-sqlite3_1.6.1-4_amd64.deb ...</span>
<a id="__codelineno-219-140" name="__codelineno-219-140" href="#__codelineno-219-140"></a><span class="go">Unpacking libaprutil1-dbd-sqlite3:amd64 (1.6.1-4) ...</span>
<a id="__codelineno-219-141" name="__codelineno-219-141" href="#__codelineno-219-141"></a><span class="go">Selecting previously unselected package libsasl2-modules-db:amd64.</span>
<a id="__codelineno-219-142" name="__codelineno-219-142" href="#__codelineno-219-142"></a><span class="go">Preparing to unpack .../11-libsasl2-modules-db_2.1.27+dfsg-1+deb10u2_amd64.deb ...</span>
<a id="__codelineno-219-143" name="__codelineno-219-143" href="#__codelineno-219-143"></a><span class="go">Unpacking libsasl2-modules-db:amd64 (2.1.27+dfsg-1+deb10u2) ...</span>
<a id="__codelineno-219-144" name="__codelineno-219-144" href="#__codelineno-219-144"></a><span class="go">Selecting previously unselected package libsasl2-2:amd64.</span>
<a id="__codelineno-219-145" name="__codelineno-219-145" href="#__codelineno-219-145"></a><span class="go">Preparing to unpack .../12-libsasl2-2_2.1.27+dfsg-1+deb10u2_amd64.deb ...</span>
<a id="__codelineno-219-146" name="__codelineno-219-146" href="#__codelineno-219-146"></a><span class="go">Unpacking libsasl2-2:amd64 (2.1.27+dfsg-1+deb10u2) ...</span>
<a id="__codelineno-219-147" name="__codelineno-219-147" href="#__codelineno-219-147"></a><span class="go">Selecting previously unselected package libldap-common.</span>
<a id="__codelineno-219-148" name="__codelineno-219-148" href="#__codelineno-219-148"></a><span class="go">Preparing to unpack .../13-libldap-common_2.4.47+dfsg-3+deb10u7_all.deb ...</span>
<a id="__codelineno-219-149" name="__codelineno-219-149" href="#__codelineno-219-149"></a><span class="go">Unpacking libldap-common (2.4.47+dfsg-3+deb10u7) ...</span>
<a id="__codelineno-219-150" name="__codelineno-219-150" href="#__codelineno-219-150"></a><span class="go">Selecting previously unselected package libldap-2.4-2:amd64.</span>
<a id="__codelineno-219-151" name="__codelineno-219-151" href="#__codelineno-219-151"></a><span class="go">Preparing to unpack .../14-libldap-2.4-2_2.4.47+dfsg-3+deb10u7_amd64.deb ...</span>
<a id="__codelineno-219-152" name="__codelineno-219-152" href="#__codelineno-219-152"></a><span class="go">Unpacking libldap-2.4-2:amd64 (2.4.47+dfsg-3+deb10u7) ...</span>
<a id="__codelineno-219-153" name="__codelineno-219-153" href="#__codelineno-219-153"></a><span class="go">Selecting previously unselected package libaprutil1-ldap:amd64.</span>
<a id="__codelineno-219-154" name="__codelineno-219-154" href="#__codelineno-219-154"></a><span class="go">Preparing to unpack .../15-libaprutil1-ldap_1.6.1-4_amd64.deb ...</span>
<a id="__codelineno-219-155" name="__codelineno-219-155" href="#__codelineno-219-155"></a><span class="go">Unpacking libaprutil1-ldap:amd64 (1.6.1-4) ...</span>
<a id="__codelineno-219-156" name="__codelineno-219-156" href="#__codelineno-219-156"></a><span class="go">Selecting previously unselected package libbrotli1:amd64.</span>
<a id="__codelineno-219-157" name="__codelineno-219-157" href="#__codelineno-219-157"></a><span class="go">Preparing to unpack .../16-libbrotli1_1.0.7-2+deb10u1_amd64.deb ...</span>
<a id="__codelineno-219-158" name="__codelineno-219-158" href="#__codelineno-219-158"></a><span class="go">Unpacking libbrotli1:amd64 (1.0.7-2+deb10u1) ...</span>
<a id="__codelineno-219-159" name="__codelineno-219-159" href="#__codelineno-219-159"></a><span class="go">Selecting previously unselected package libkeyutils1:amd64.</span>
<a id="__codelineno-219-160" name="__codelineno-219-160" href="#__codelineno-219-160"></a><span class="go">Preparing to unpack .../17-libkeyutils1_1.6-6_amd64.deb ...</span>
<a id="__codelineno-219-161" name="__codelineno-219-161" href="#__codelineno-219-161"></a><span class="go">Unpacking libkeyutils1:amd64 (1.6-6) ...</span>
<a id="__codelineno-219-162" name="__codelineno-219-162" href="#__codelineno-219-162"></a><span class="go">Selecting previously unselected package libkrb5support0:amd64.</span>
<a id="__codelineno-219-163" name="__codelineno-219-163" href="#__codelineno-219-163"></a><span class="go">Preparing to unpack .../18-libkrb5support0_1.17-3+deb10u3_amd64.deb ...</span>
<a id="__codelineno-219-164" name="__codelineno-219-164" href="#__codelineno-219-164"></a><span class="go">Unpacking libkrb5support0:amd64 (1.17-3+deb10u3) ...</span>
<a id="__codelineno-219-165" name="__codelineno-219-165" href="#__codelineno-219-165"></a><span class="go">Selecting previously unselected package libk5crypto3:amd64.</span>
<a id="__codelineno-219-166" name="__codelineno-219-166" href="#__codelineno-219-166"></a><span class="go">Preparing to unpack .../19-libk5crypto3_1.17-3+deb10u3_amd64.deb ...</span>
<a id="__codelineno-219-167" name="__codelineno-219-167" href="#__codelineno-219-167"></a><span class="go">Unpacking libk5crypto3:amd64 (1.17-3+deb10u3) ...</span>
<a id="__codelineno-219-168" name="__codelineno-219-168" href="#__codelineno-219-168"></a><span class="go">Selecting previously unselected package libkrb5-3:amd64.</span>
<a id="__codelineno-219-169" name="__codelineno-219-169" href="#__codelineno-219-169"></a><span class="go">Preparing to unpack .../20-libkrb5-3_1.17-3+deb10u3_amd64.deb ...</span>
<a id="__codelineno-219-170" name="__codelineno-219-170" href="#__codelineno-219-170"></a><span class="go">Unpacking libkrb5-3:amd64 (1.17-3+deb10u3) ...</span>
<a id="__codelineno-219-171" name="__codelineno-219-171" href="#__codelineno-219-171"></a><span class="go">Selecting previously unselected package libgssapi-krb5-2:amd64.</span>
<a id="__codelineno-219-172" name="__codelineno-219-172" href="#__codelineno-219-172"></a><span class="go">Preparing to unpack .../21-libgssapi-krb5-2_1.17-3+deb10u3_amd64.deb ...</span>
<a id="__codelineno-219-173" name="__codelineno-219-173" href="#__codelineno-219-173"></a><span class="go">Unpacking libgssapi-krb5-2:amd64 (1.17-3+deb10u3) ...</span>
<a id="__codelineno-219-174" name="__codelineno-219-174" href="#__codelineno-219-174"></a><span class="go">Selecting previously unselected package libnghttp2-14:amd64.</span>
<a id="__codelineno-219-175" name="__codelineno-219-175" href="#__codelineno-219-175"></a><span class="go">Preparing to unpack .../22-libnghttp2-14_1.36.0-2+deb10u1_amd64.deb ...</span>
<a id="__codelineno-219-176" name="__codelineno-219-176" href="#__codelineno-219-176"></a><span class="go">Unpacking libnghttp2-14:amd64 (1.36.0-2+deb10u1) ...</span>
<a id="__codelineno-219-177" name="__codelineno-219-177" href="#__codelineno-219-177"></a><span class="go">Selecting previously unselected package libpsl5:amd64.</span>
<a id="__codelineno-219-178" name="__codelineno-219-178" href="#__codelineno-219-178"></a><span class="go">Preparing to unpack .../23-libpsl5_0.20.2-2_amd64.deb ...</span>
<a id="__codelineno-219-179" name="__codelineno-219-179" href="#__codelineno-219-179"></a><span class="go">Unpacking libpsl5:amd64 (0.20.2-2) ...</span>
<a id="__codelineno-219-180" name="__codelineno-219-180" href="#__codelineno-219-180"></a><span class="go">Selecting previously unselected package librtmp1:amd64.</span>
<a id="__codelineno-219-181" name="__codelineno-219-181" href="#__codelineno-219-181"></a><span class="go">Preparing to unpack .../24-librtmp1_2.4+20151223.gitfa8646d.1-2_amd64.deb ...</span>
<a id="__codelineno-219-182" name="__codelineno-219-182" href="#__codelineno-219-182"></a><span class="go">Unpacking librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2) ...</span>
<a id="__codelineno-219-183" name="__codelineno-219-183" href="#__codelineno-219-183"></a><span class="go">Selecting previously unselected package libssh2-1:amd64.</span>
<a id="__codelineno-219-184" name="__codelineno-219-184" href="#__codelineno-219-184"></a><span class="go">Preparing to unpack .../25-libssh2-1_1.8.0-2.1_amd64.deb ...</span>
<a id="__codelineno-219-185" name="__codelineno-219-185" href="#__codelineno-219-185"></a><span class="go">Unpacking libssh2-1:amd64 (1.8.0-2.1) ...</span>
<a id="__codelineno-219-186" name="__codelineno-219-186" href="#__codelineno-219-186"></a><span class="go">Selecting previously unselected package libcurl4:amd64.</span>
<a id="__codelineno-219-187" name="__codelineno-219-187" href="#__codelineno-219-187"></a><span class="go">Preparing to unpack .../26-libcurl4_7.64.0-4+deb10u2_amd64.deb ...</span>
<a id="__codelineno-219-188" name="__codelineno-219-188" href="#__codelineno-219-188"></a><span class="go">Unpacking libcurl4:amd64 (7.64.0-4+deb10u2) ...</span>
<a id="__codelineno-219-189" name="__codelineno-219-189" href="#__codelineno-219-189"></a><span class="go">Selecting previously unselected package libjansson4:amd64.</span>
<a id="__codelineno-219-190" name="__codelineno-219-190" href="#__codelineno-219-190"></a><span class="go">Preparing to unpack .../27-libjansson4_2.12-1_amd64.deb ...</span>
<a id="__codelineno-219-191" name="__codelineno-219-191" href="#__codelineno-219-191"></a><span class="go">Unpacking libjansson4:amd64 (2.12-1) ...</span>
<a id="__codelineno-219-192" name="__codelineno-219-192" href="#__codelineno-219-192"></a><span class="go">Selecting previously unselected package liblua5.2-0:amd64.</span>
<a id="__codelineno-219-193" name="__codelineno-219-193" href="#__codelineno-219-193"></a><span class="go">Preparing to unpack .../28-liblua5.2-0_5.2.4-1.1+b2_amd64.deb ...</span>
<a id="__codelineno-219-194" name="__codelineno-219-194" href="#__codelineno-219-194"></a><span class="go">Unpacking liblua5.2-0:amd64 (5.2.4-1.1+b2) ...</span>
<a id="__codelineno-219-195" name="__codelineno-219-195" href="#__codelineno-219-195"></a><span class="go">Selecting previously unselected package libicu63:amd64.</span>
<a id="__codelineno-219-196" name="__codelineno-219-196" href="#__codelineno-219-196"></a><span class="go">Preparing to unpack .../29-libicu63_63.1-6+deb10u3_amd64.deb ...</span>
<a id="__codelineno-219-197" name="__codelineno-219-197" href="#__codelineno-219-197"></a><span class="go">Unpacking libicu63:amd64 (63.1-6+deb10u3) ...</span>
<a id="__codelineno-219-198" name="__codelineno-219-198" href="#__codelineno-219-198"></a><span class="go">Selecting previously unselected package libxml2:amd64.</span>
<a id="__codelineno-219-199" name="__codelineno-219-199" href="#__codelineno-219-199"></a><span class="go">Preparing to unpack .../30-libxml2_2.9.4+dfsg1-7+deb10u4_amd64.deb ...</span>
<a id="__codelineno-219-200" name="__codelineno-219-200" href="#__codelineno-219-200"></a><span class="go">Unpacking libxml2:amd64 (2.9.4+dfsg1-7+deb10u4) ...</span>
<a id="__codelineno-219-201" name="__codelineno-219-201" href="#__codelineno-219-201"></a><span class="go">Selecting previously unselected package apache2-bin.</span>
<a id="__codelineno-219-202" name="__codelineno-219-202" href="#__codelineno-219-202"></a><span class="go">Preparing to unpack .../31-apache2-bin_2.4.38-3+deb10u7_amd64.deb ...</span>
<a id="__codelineno-219-203" name="__codelineno-219-203" href="#__codelineno-219-203"></a><span class="go">Unpacking apache2-bin (2.4.38-3+deb10u7) ...</span>
<a id="__codelineno-219-204" name="__codelineno-219-204" href="#__codelineno-219-204"></a><span class="go">Selecting previously unselected package apache2-data.</span>
<a id="__codelineno-219-205" name="__codelineno-219-205" href="#__codelineno-219-205"></a><span class="go">Preparing to unpack .../32-apache2-data_2.4.38-3+deb10u7_all.deb ...</span>
<a id="__codelineno-219-206" name="__codelineno-219-206" href="#__codelineno-219-206"></a><span class="go">Unpacking apache2-data (2.4.38-3+deb10u7) ...</span>
<a id="__codelineno-219-207" name="__codelineno-219-207" href="#__codelineno-219-207"></a><span class="go">Selecting previously unselected package apache2-utils.</span>
<a id="__codelineno-219-208" name="__codelineno-219-208" href="#__codelineno-219-208"></a><span class="go">Preparing to unpack .../33-apache2-utils_2.4.38-3+deb10u7_amd64.deb ...</span>
<a id="__codelineno-219-209" name="__codelineno-219-209" href="#__codelineno-219-209"></a><span class="go">Unpacking apache2-utils (2.4.38-3+deb10u7) ...</span>
<a id="__codelineno-219-210" name="__codelineno-219-210" href="#__codelineno-219-210"></a><span class="go">Selecting previously unselected package lsb-base.</span>
<a id="__codelineno-219-211" name="__codelineno-219-211" href="#__codelineno-219-211"></a><span class="go">Preparing to unpack .../34-lsb-base_10.2019051400_all.deb ...</span>
<a id="__codelineno-219-212" name="__codelineno-219-212" href="#__codelineno-219-212"></a><span class="go">Unpacking lsb-base (10.2019051400) ...</span>
<a id="__codelineno-219-213" name="__codelineno-219-213" href="#__codelineno-219-213"></a><span class="go">Selecting previously unselected package mime-support.</span>
<a id="__codelineno-219-214" name="__codelineno-219-214" href="#__codelineno-219-214"></a><span class="go">Preparing to unpack .../35-mime-support_3.62_all.deb ...</span>
<a id="__codelineno-219-215" name="__codelineno-219-215" href="#__codelineno-219-215"></a><span class="go">Unpacking mime-support (3.62) ...</span>
<a id="__codelineno-219-216" name="__codelineno-219-216" href="#__codelineno-219-216"></a><span class="go">Selecting previously unselected package libncurses6:amd64.</span>
<a id="__codelineno-219-217" name="__codelineno-219-217" href="#__codelineno-219-217"></a><span class="go">Preparing to unpack .../36-libncurses6_6.1+20181013-2+deb10u2_amd64.deb ...</span>
<a id="__codelineno-219-218" name="__codelineno-219-218" href="#__codelineno-219-218"></a><span class="go">Unpacking libncurses6:amd64 (6.1+20181013-2+deb10u2) ...</span>
<a id="__codelineno-219-219" name="__codelineno-219-219" href="#__codelineno-219-219"></a><span class="go">Selecting previously unselected package libprocps7:amd64.</span>
<a id="__codelineno-219-220" name="__codelineno-219-220" href="#__codelineno-219-220"></a><span class="go">Preparing to unpack .../37-libprocps7_2%3a3.3.15-2_amd64.deb ...</span>
<a id="__codelineno-219-221" name="__codelineno-219-221" href="#__codelineno-219-221"></a><span class="go">Unpacking libprocps7:amd64 (2:3.3.15-2) ...</span>
<a id="__codelineno-219-222" name="__codelineno-219-222" href="#__codelineno-219-222"></a><span class="go">Selecting previously unselected package procps.</span>
<a id="__codelineno-219-223" name="__codelineno-219-223" href="#__codelineno-219-223"></a><span class="go">Preparing to unpack .../38-procps_2%3a3.3.15-2_amd64.deb ...</span>
<a id="__codelineno-219-224" name="__codelineno-219-224" href="#__codelineno-219-224"></a><span class="go">Unpacking procps (2:3.3.15-2) ...</span>
<a id="__codelineno-219-225" name="__codelineno-219-225" href="#__codelineno-219-225"></a><span class="go">Selecting previously unselected package apache2.</span>
<a id="__codelineno-219-226" name="__codelineno-219-226" href="#__codelineno-219-226"></a><span class="go">Preparing to unpack .../39-apache2_2.4.38-3+deb10u7_amd64.deb ...</span>
<a id="__codelineno-219-227" name="__codelineno-219-227" href="#__codelineno-219-227"></a><span class="go">Unpacking apache2 (2.4.38-3+deb10u7) ...</span>
<a id="__codelineno-219-228" name="__codelineno-219-228" href="#__codelineno-219-228"></a><span class="go">Selecting previously unselected package netbase.</span>
<a id="__codelineno-219-229" name="__codelineno-219-229" href="#__codelineno-219-229"></a><span class="go">Preparing to unpack .../40-netbase_5.6_all.deb ...</span>
<a id="__codelineno-219-230" name="__codelineno-219-230" href="#__codelineno-219-230"></a><span class="go">Unpacking netbase (5.6) ...</span>
<a id="__codelineno-219-231" name="__codelineno-219-231" href="#__codelineno-219-231"></a><span class="go">Selecting previously unselected package bzip2.</span>
<a id="__codelineno-219-232" name="__codelineno-219-232" href="#__codelineno-219-232"></a><span class="go">Preparing to unpack .../41-bzip2_1.0.6-9.2~deb10u1_amd64.deb ...</span>
<a id="__codelineno-219-233" name="__codelineno-219-233" href="#__codelineno-219-233"></a><span class="go">Unpacking bzip2 (1.0.6-9.2~deb10u1) ...</span>
<a id="__codelineno-219-234" name="__codelineno-219-234" href="#__codelineno-219-234"></a><span class="go">Selecting previously unselected package libmagic-mgc.</span>
<a id="__codelineno-219-235" name="__codelineno-219-235" href="#__codelineno-219-235"></a><span class="go">Preparing to unpack .../42-libmagic-mgc_1%3a5.35-4+deb10u2_amd64.deb ...</span>
<a id="__codelineno-219-236" name="__codelineno-219-236" href="#__codelineno-219-236"></a><span class="go">Unpacking libmagic-mgc (1:5.35-4+deb10u2) ...</span>
<a id="__codelineno-219-237" name="__codelineno-219-237" href="#__codelineno-219-237"></a><span class="go">Selecting previously unselected package libmagic1:amd64.</span>
<a id="__codelineno-219-238" name="__codelineno-219-238" href="#__codelineno-219-238"></a><span class="go">Preparing to unpack .../43-libmagic1_1%3a5.35-4+deb10u2_amd64.deb ...</span>
<a id="__codelineno-219-239" name="__codelineno-219-239" href="#__codelineno-219-239"></a><span class="go">Unpacking libmagic1:amd64 (1:5.35-4+deb10u2) ...</span>
<a id="__codelineno-219-240" name="__codelineno-219-240" href="#__codelineno-219-240"></a><span class="go">Selecting previously unselected package file.</span>
<a id="__codelineno-219-241" name="__codelineno-219-241" href="#__codelineno-219-241"></a><span class="go">Preparing to unpack .../44-file_1%3a5.35-4+deb10u2_amd64.deb ...</span>
<a id="__codelineno-219-242" name="__codelineno-219-242" href="#__codelineno-219-242"></a><span class="go">Unpacking file (1:5.35-4+deb10u2) ...</span>
<a id="__codelineno-219-243" name="__codelineno-219-243" href="#__codelineno-219-243"></a><span class="go">Selecting previously unselected package krb5-locales.</span>
<a id="__codelineno-219-244" name="__codelineno-219-244" href="#__codelineno-219-244"></a><span class="go">Preparing to unpack .../45-krb5-locales_1.17-3+deb10u3_all.deb ...</span>
<a id="__codelineno-219-245" name="__codelineno-219-245" href="#__codelineno-219-245"></a><span class="go">Unpacking krb5-locales (1.17-3+deb10u3) ...</span>
<a id="__codelineno-219-246" name="__codelineno-219-246" href="#__codelineno-219-246"></a><span class="go">Selecting previously unselected package xz-utils.</span>
<a id="__codelineno-219-247" name="__codelineno-219-247" href="#__codelineno-219-247"></a><span class="go">Preparing to unpack .../46-xz-utils_5.2.4-1+deb10u1_amd64.deb ...</span>
<a id="__codelineno-219-248" name="__codelineno-219-248" href="#__codelineno-219-248"></a><span class="go">Unpacking xz-utils (5.2.4-1+deb10u1) ...</span>
<a id="__codelineno-219-249" name="__codelineno-219-249" href="#__codelineno-219-249"></a><span class="go">Selecting previously unselected package openssl.</span>
<a id="__codelineno-219-250" name="__codelineno-219-250" href="#__codelineno-219-250"></a><span class="go">Preparing to unpack .../47-openssl_1.1.1n-0+deb10u2_amd64.deb ...</span>
<a id="__codelineno-219-251" name="__codelineno-219-251" href="#__codelineno-219-251"></a><span class="go">Unpacking openssl (1.1.1n-0+deb10u2) ...</span>
<a id="__codelineno-219-252" name="__codelineno-219-252" href="#__codelineno-219-252"></a><span class="go">Selecting previously unselected package ca-certificates.</span>
<a id="__codelineno-219-253" name="__codelineno-219-253" href="#__codelineno-219-253"></a><span class="go">Preparing to unpack .../48-ca-certificates_20200601~deb10u2_all.deb ...</span>
<a id="__codelineno-219-254" name="__codelineno-219-254" href="#__codelineno-219-254"></a><span class="go">Unpacking ca-certificates (20200601~deb10u2) ...</span>
<a id="__codelineno-219-255" name="__codelineno-219-255" href="#__codelineno-219-255"></a><span class="go">Selecting previously unselected package libgpm2:amd64.</span>
<a id="__codelineno-219-256" name="__codelineno-219-256" href="#__codelineno-219-256"></a><span class="go">Preparing to unpack .../49-libgpm2_1.20.7-5_amd64.deb ...</span>
<a id="__codelineno-219-257" name="__codelineno-219-257" href="#__codelineno-219-257"></a><span class="go">Unpacking libgpm2:amd64 (1.20.7-5) ...</span>
<a id="__codelineno-219-258" name="__codelineno-219-258" href="#__codelineno-219-258"></a><span class="go">Selecting previously unselected package libsasl2-modules:amd64.</span>
<a id="__codelineno-219-259" name="__codelineno-219-259" href="#__codelineno-219-259"></a><span class="go">Preparing to unpack .../50-libsasl2-modules_2.1.27+dfsg-1+deb10u2_amd64.deb ...</span>
<a id="__codelineno-219-260" name="__codelineno-219-260" href="#__codelineno-219-260"></a><span class="go">Unpacking libsasl2-modules:amd64 (2.1.27+dfsg-1+deb10u2) ...</span>
<a id="__codelineno-219-261" name="__codelineno-219-261" href="#__codelineno-219-261"></a><span class="go">Selecting previously unselected package psmisc.</span>
<a id="__codelineno-219-262" name="__codelineno-219-262" href="#__codelineno-219-262"></a><span class="go">Preparing to unpack .../51-psmisc_23.2-1+deb10u1_amd64.deb ...</span>
<a id="__codelineno-219-263" name="__codelineno-219-263" href="#__codelineno-219-263"></a><span class="go">Unpacking psmisc (23.2-1+deb10u1) ...</span>
<a id="__codelineno-219-264" name="__codelineno-219-264" href="#__codelineno-219-264"></a><span class="go">Selecting previously unselected package publicsuffix.</span>
<a id="__codelineno-219-265" name="__codelineno-219-265" href="#__codelineno-219-265"></a><span class="go">Preparing to unpack .../52-publicsuffix_20211109.1735-0+deb10u1_all.deb ...</span>
<a id="__codelineno-219-266" name="__codelineno-219-266" href="#__codelineno-219-266"></a><span class="go">Unpacking publicsuffix (20211109.1735-0+deb10u1) ...</span>
<a id="__codelineno-219-267" name="__codelineno-219-267" href="#__codelineno-219-267"></a><span class="go">Selecting previously unselected package ssl-cert.</span>
<a id="__codelineno-219-268" name="__codelineno-219-268" href="#__codelineno-219-268"></a><span class="go">Preparing to unpack .../53-ssl-cert_1.0.39_all.deb ...</span>
<a id="__codelineno-219-269" name="__codelineno-219-269" href="#__codelineno-219-269"></a><span class="go">Unpacking ssl-cert (1.0.39) ...</span>
<a id="__codelineno-219-270" name="__codelineno-219-270" href="#__codelineno-219-270"></a><span class="go">Setting up perl-modules-5.28 (5.28.1-6+deb10u1) ...</span>
<a id="__codelineno-219-271" name="__codelineno-219-271" href="#__codelineno-219-271"></a><span class="go">Setting up libexpat1:amd64 (2.2.6-2+deb10u4) ...</span>
<a id="__codelineno-219-272" name="__codelineno-219-272" href="#__codelineno-219-272"></a><span class="go">Setting up lsb-base (10.2019051400) ...</span>
<a id="__codelineno-219-273" name="__codelineno-219-273" href="#__codelineno-219-273"></a><span class="go">Setting up libkeyutils1:amd64 (1.6-6) ...</span>
<a id="__codelineno-219-274" name="__codelineno-219-274" href="#__codelineno-219-274"></a><span class="go">Setting up libpsl5:amd64 (0.20.2-2) ...</span>
<a id="__codelineno-219-275" name="__codelineno-219-275" href="#__codelineno-219-275"></a><span class="go">Setting up libgpm2:amd64 (1.20.7-5) ...</span>
<a id="__codelineno-219-276" name="__codelineno-219-276" href="#__codelineno-219-276"></a><span class="go">Setting up mime-support (3.62) ...</span>
<a id="__codelineno-219-277" name="__codelineno-219-277" href="#__codelineno-219-277"></a><span class="go">Setting up libmagic-mgc (1:5.35-4+deb10u2) ...</span>
<a id="__codelineno-219-278" name="__codelineno-219-278" href="#__codelineno-219-278"></a><span class="go">Setting up psmisc (23.2-1+deb10u1) ...</span>
<a id="__codelineno-219-279" name="__codelineno-219-279" href="#__codelineno-219-279"></a><span class="go">Setting up libssl1.1:amd64 (1.1.1n-0+deb10u2) ...</span>
<a id="__codelineno-219-280" name="__codelineno-219-280" href="#__codelineno-219-280"></a><span class="go">debconf: unable to initialize frontend: Dialog</span>
<a id="__codelineno-219-281" name="__codelineno-219-281" href="#__codelineno-219-281"></a><span class="go">debconf: (TERM is not set, so the dialog frontend is not usable.)</span>
<a id="__codelineno-219-282" name="__codelineno-219-282" href="#__codelineno-219-282"></a><span class="go">debconf: falling back to frontend: Readline</span>
<a id="__codelineno-219-283" name="__codelineno-219-283" href="#__codelineno-219-283"></a><span class="go">Setting up libprocps7:amd64 (2:3.3.15-2) ...</span>
<a id="__codelineno-219-284" name="__codelineno-219-284" href="#__codelineno-219-284"></a><span class="go">Setting up libbrotli1:amd64 (1.0.7-2+deb10u1) ...</span>
<a id="__codelineno-219-285" name="__codelineno-219-285" href="#__codelineno-219-285"></a><span class="go">Setting up libsqlite3-0:amd64 (3.27.2-3+deb10u1) ...</span>
<a id="__codelineno-219-286" name="__codelineno-219-286" href="#__codelineno-219-286"></a><span class="go">Setting up libsasl2-modules:amd64 (2.1.27+dfsg-1+deb10u2) ...</span>
<a id="__codelineno-219-287" name="__codelineno-219-287" href="#__codelineno-219-287"></a><span class="go">Setting up libnghttp2-14:amd64 (1.36.0-2+deb10u1) ...</span>
<a id="__codelineno-219-288" name="__codelineno-219-288" href="#__codelineno-219-288"></a><span class="go">Setting up libmagic1:amd64 (1:5.35-4+deb10u2) ...</span>
<a id="__codelineno-219-289" name="__codelineno-219-289" href="#__codelineno-219-289"></a><span class="go">Setting up libapr1:amd64 (1.6.5-1+b1) ...</span>
<a id="__codelineno-219-290" name="__codelineno-219-290" href="#__codelineno-219-290"></a><span class="go">Setting up krb5-locales (1.17-3+deb10u3) ...</span>
<a id="__codelineno-219-291" name="__codelineno-219-291" href="#__codelineno-219-291"></a><span class="go">Setting up file (1:5.35-4+deb10u2) ...</span>
<a id="__codelineno-219-292" name="__codelineno-219-292" href="#__codelineno-219-292"></a><span class="go">Setting up bzip2 (1.0.6-9.2~deb10u1) ...</span>
<a id="__codelineno-219-293" name="__codelineno-219-293" href="#__codelineno-219-293"></a><span class="go">Setting up libldap-common (2.4.47+dfsg-3+deb10u7) ...</span>
<a id="__codelineno-219-294" name="__codelineno-219-294" href="#__codelineno-219-294"></a><span class="go">Setting up libicu63:amd64 (63.1-6+deb10u3) ...</span>
<a id="__codelineno-219-295" name="__codelineno-219-295" href="#__codelineno-219-295"></a><span class="go">Setting up libjansson4:amd64 (2.12-1) ...</span>
<a id="__codelineno-219-296" name="__codelineno-219-296" href="#__codelineno-219-296"></a><span class="go">Setting up libkrb5support0:amd64 (1.17-3+deb10u3) ...</span>
<a id="__codelineno-219-297" name="__codelineno-219-297" href="#__codelineno-219-297"></a><span class="go">Setting up libsasl2-modules-db:amd64 (2.1.27+dfsg-1+deb10u2) ...</span>
<a id="__codelineno-219-298" name="__codelineno-219-298" href="#__codelineno-219-298"></a><span class="go">Setting up librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2) ...</span>
<a id="__codelineno-219-299" name="__codelineno-219-299" href="#__codelineno-219-299"></a><span class="go">Setting up libncurses6:amd64 (6.1+20181013-2+deb10u2) ...</span>
<a id="__codelineno-219-300" name="__codelineno-219-300" href="#__codelineno-219-300"></a><span class="go">Setting up xz-utils (5.2.4-1+deb10u1) ...</span>
<a id="__codelineno-219-301" name="__codelineno-219-301" href="#__codelineno-219-301"></a><span class="go">update-alternatives: using /usr/bin/xz to provide /usr/bin/lzma (lzma) in auto mode</span>
<a id="__codelineno-219-302" name="__codelineno-219-302" href="#__codelineno-219-302"></a><span class="go">update-alternatives: warning: skip creation of /usr/share/man/man1/lzma.1.gz because associated file /usr/share/man/man1/xz.1.gz (of link group lzma) doesn&#39;t exist</span>
<a id="__codelineno-219-303" name="__codelineno-219-303" href="#__codelineno-219-303"></a><span class="go">update-alternatives: warning: skip creation of /usr/share/man/man1/unlzma.1.gz because associated file /usr/share/man/man1/unxz.1.gz (of link group lzma) doesn&#39;t exist</span>
<a id="__codelineno-219-304" name="__codelineno-219-304" href="#__codelineno-219-304"></a><span class="go">update-alternatives: warning: skip creation of /usr/share/man/man1/lzcat.1.gz because associated file /usr/share/man/man1/xzcat.1.gz (of link group lzma) doesn&#39;t exist</span>
<a id="__codelineno-219-305" name="__codelineno-219-305" href="#__codelineno-219-305"></a><span class="go">update-alternatives: warning: skip creation of /usr/share/man/man1/lzmore.1.gz because associated file /usr/share/man/man1/xzmore.1.gz (of link group lzma) doesn&#39;t exist</span>
<a id="__codelineno-219-306" name="__codelineno-219-306" href="#__codelineno-219-306"></a><span class="go">update-alternatives: warning: skip creation of /usr/share/man/man1/lzless.1.gz because associated file /usr/share/man/man1/xzless.1.gz (of link group lzma) doesn&#39;t exist</span>
<a id="__codelineno-219-307" name="__codelineno-219-307" href="#__codelineno-219-307"></a><span class="go">update-alternatives: warning: skip creation of /usr/share/man/man1/lzdiff.1.gz because associated file /usr/share/man/man1/xzdiff.1.gz (of link group lzma) doesn&#39;t exist</span>
<a id="__codelineno-219-308" name="__codelineno-219-308" href="#__codelineno-219-308"></a><span class="go">update-alternatives: warning: skip creation of /usr/share/man/man1/lzcmp.1.gz because associated file /usr/share/man/man1/xzcmp.1.gz (of link group lzma) doesn&#39;t exist</span>
<a id="__codelineno-219-309" name="__codelineno-219-309" href="#__codelineno-219-309"></a><span class="go">update-alternatives: warning: skip creation of /usr/share/man/man1/lzgrep.1.gz because associated file /usr/share/man/man1/xzgrep.1.gz (of link group lzma) doesn&#39;t exist</span>
<a id="__codelineno-219-310" name="__codelineno-219-310" href="#__codelineno-219-310"></a><span class="go">update-alternatives: warning: skip creation of /usr/share/man/man1/lzegrep.1.gz because associated file /usr/share/man/man1/xzegrep.1.gz (of link group lzma) doesn&#39;t exist</span>
<a id="__codelineno-219-311" name="__codelineno-219-311" href="#__codelineno-219-311"></a><span class="go">update-alternatives: warning: skip creation of /usr/share/man/man1/lzfgrep.1.gz because associated file /usr/share/man/man1/xzfgrep.1.gz (of link group lzma) doesn&#39;t exist</span>
<a id="__codelineno-219-312" name="__codelineno-219-312" href="#__codelineno-219-312"></a><span class="go">Setting up libk5crypto3:amd64 (1.17-3+deb10u3) ...</span>
<a id="__codelineno-219-313" name="__codelineno-219-313" href="#__codelineno-219-313"></a><span class="go">Setting up libsasl2-2:amd64 (2.1.27+dfsg-1+deb10u2) ...</span>
<a id="__codelineno-219-314" name="__codelineno-219-314" href="#__codelineno-219-314"></a><span class="go">Setting up liblua5.2-0:amd64 (5.2.4-1.1+b2) ...</span>
<a id="__codelineno-219-315" name="__codelineno-219-315" href="#__codelineno-219-315"></a><span class="go">Setting up procps (2:3.3.15-2) ...</span>
<a id="__codelineno-219-316" name="__codelineno-219-316" href="#__codelineno-219-316"></a><span class="go">update-alternatives: using /usr/bin/w.procps to provide /usr/bin/w (w) in auto mode</span>
<a id="__codelineno-219-317" name="__codelineno-219-317" href="#__codelineno-219-317"></a><span class="go">update-alternatives: warning: skip creation of /usr/share/man/man1/w.1.gz because associated file /usr/share/man/man1/w.procps.1.gz (of link group w) doesn&#39;t exist</span>
<a id="__codelineno-219-318" name="__codelineno-219-318" href="#__codelineno-219-318"></a><span class="go">Setting up libssh2-1:amd64 (1.8.0-2.1) ...</span>
<a id="__codelineno-219-319" name="__codelineno-219-319" href="#__codelineno-219-319"></a><span class="go">Setting up netbase (5.6) ...</span>
<a id="__codelineno-219-320" name="__codelineno-219-320" href="#__codelineno-219-320"></a><span class="go">Setting up libkrb5-3:amd64 (1.17-3+deb10u3) ...</span>
<a id="__codelineno-219-321" name="__codelineno-219-321" href="#__codelineno-219-321"></a><span class="go">Setting up apache2-data (2.4.38-3+deb10u7) ...</span>
<a id="__codelineno-219-322" name="__codelineno-219-322" href="#__codelineno-219-322"></a><span class="go">Setting up openssl (1.1.1n-0+deb10u2) ...</span>
<a id="__codelineno-219-323" name="__codelineno-219-323" href="#__codelineno-219-323"></a><span class="go">Setting up publicsuffix (20211109.1735-0+deb10u1) ...</span>
<a id="__codelineno-219-324" name="__codelineno-219-324" href="#__codelineno-219-324"></a><span class="go">Setting up libxml2:amd64 (2.9.4+dfsg1-7+deb10u4) ...</span>
<a id="__codelineno-219-325" name="__codelineno-219-325" href="#__codelineno-219-325"></a><span class="go">Setting up libgdbm6:amd64 (1.18.1-4) ...</span>
<a id="__codelineno-219-326" name="__codelineno-219-326" href="#__codelineno-219-326"></a><span class="go">Setting up libaprutil1:amd64 (1.6.1-4) ...</span>
<a id="__codelineno-219-327" name="__codelineno-219-327" href="#__codelineno-219-327"></a><span class="go">Setting up libldap-2.4-2:amd64 (2.4.47+dfsg-3+deb10u7) ...</span>
<a id="__codelineno-219-328" name="__codelineno-219-328" href="#__codelineno-219-328"></a><span class="go">Setting up libaprutil1-ldap:amd64 (1.6.1-4) ...</span>
<a id="__codelineno-219-329" name="__codelineno-219-329" href="#__codelineno-219-329"></a><span class="go">Setting up libaprutil1-dbd-sqlite3:amd64 (1.6.1-4) ...</span>
<a id="__codelineno-219-330" name="__codelineno-219-330" href="#__codelineno-219-330"></a><span class="go">Setting up ca-certificates (20200601~deb10u2) ...</span>
<a id="__codelineno-219-331" name="__codelineno-219-331" href="#__codelineno-219-331"></a><span class="go">debconf: unable to initialize frontend: Dialog</span>
<a id="__codelineno-219-332" name="__codelineno-219-332" href="#__codelineno-219-332"></a><span class="go">debconf: (TERM is not set, so the dialog frontend is not usable.)</span>
<a id="__codelineno-219-333" name="__codelineno-219-333" href="#__codelineno-219-333"></a><span class="go">debconf: falling back to frontend: Readline</span>
<a id="__codelineno-219-334" name="__codelineno-219-334" href="#__codelineno-219-334"></a><span class="go">Updating certificates in /etc/ssl/certs...</span>
<a id="__codelineno-219-335" name="__codelineno-219-335" href="#__codelineno-219-335"></a><span class="go">137 added, 0 removed; done.</span>
<a id="__codelineno-219-336" name="__codelineno-219-336" href="#__codelineno-219-336"></a><span class="go">Setting up ssl-cert (1.0.39) ...</span>
<a id="__codelineno-219-337" name="__codelineno-219-337" href="#__codelineno-219-337"></a><span class="go">debconf: unable to initialize frontend: Dialog</span>
<a id="__codelineno-219-338" name="__codelineno-219-338" href="#__codelineno-219-338"></a><span class="go">debconf: (TERM is not set, so the dialog frontend is not usable.)</span>
<a id="__codelineno-219-339" name="__codelineno-219-339" href="#__codelineno-219-339"></a><span class="go">debconf: falling back to frontend: Readline</span>
<a id="__codelineno-219-340" name="__codelineno-219-340" href="#__codelineno-219-340"></a><span class="go">Setting up libgssapi-krb5-2:amd64 (1.17-3+deb10u3) ...</span>
<a id="__codelineno-219-341" name="__codelineno-219-341" href="#__codelineno-219-341"></a><span class="go">Setting up libgdbm-compat4:amd64 (1.18.1-4) ...</span>
<a id="__codelineno-219-342" name="__codelineno-219-342" href="#__codelineno-219-342"></a><span class="go">Setting up libperl5.28:amd64 (5.28.1-6+deb10u1) ...</span>
<a id="__codelineno-219-343" name="__codelineno-219-343" href="#__codelineno-219-343"></a><span class="go">Setting up libcurl4:amd64 (7.64.0-4+deb10u2) ...</span>
<a id="__codelineno-219-344" name="__codelineno-219-344" href="#__codelineno-219-344"></a><span class="go">Setting up apache2-utils (2.4.38-3+deb10u7) ...</span>
<a id="__codelineno-219-345" name="__codelineno-219-345" href="#__codelineno-219-345"></a><span class="go">Setting up perl (5.28.1-6+deb10u1) ...</span>
<a id="__codelineno-219-346" name="__codelineno-219-346" href="#__codelineno-219-346"></a><span class="go">Setting up apache2-bin (2.4.38-3+deb10u7) ...</span>
<a id="__codelineno-219-347" name="__codelineno-219-347" href="#__codelineno-219-347"></a><span class="go">Setting up apache2 (2.4.38-3+deb10u7) ...</span>
<a id="__codelineno-219-348" name="__codelineno-219-348" href="#__codelineno-219-348"></a><span class="go">Enabling module mpm_event.</span>
<a id="__codelineno-219-349" name="__codelineno-219-349" href="#__codelineno-219-349"></a><span class="go">Enabling module authz_core.</span>
<a id="__codelineno-219-350" name="__codelineno-219-350" href="#__codelineno-219-350"></a><span class="go">Enabling module authz_host.</span>
<a id="__codelineno-219-351" name="__codelineno-219-351" href="#__codelineno-219-351"></a><span class="go">Enabling module authn_core.</span>
<a id="__codelineno-219-352" name="__codelineno-219-352" href="#__codelineno-219-352"></a><span class="go">Enabling module auth_basic.</span>
<a id="__codelineno-219-353" name="__codelineno-219-353" href="#__codelineno-219-353"></a><span class="go">Enabling module access_compat.</span>
<a id="__codelineno-219-354" name="__codelineno-219-354" href="#__codelineno-219-354"></a><span class="go">Enabling module authn_file.</span>
<a id="__codelineno-219-355" name="__codelineno-219-355" href="#__codelineno-219-355"></a><span class="go">Enabling module authz_user.</span>
<a id="__codelineno-219-356" name="__codelineno-219-356" href="#__codelineno-219-356"></a><span class="go">Enabling module alias.</span>
<a id="__codelineno-219-357" name="__codelineno-219-357" href="#__codelineno-219-357"></a><span class="go">Enabling module dir.</span>
<a id="__codelineno-219-358" name="__codelineno-219-358" href="#__codelineno-219-358"></a><span class="go">Enabling module autoindex.</span>
<a id="__codelineno-219-359" name="__codelineno-219-359" href="#__codelineno-219-359"></a><span class="go">Enabling module env.</span>
<a id="__codelineno-219-360" name="__codelineno-219-360" href="#__codelineno-219-360"></a><span class="go">Enabling module mime.</span>
<a id="__codelineno-219-361" name="__codelineno-219-361" href="#__codelineno-219-361"></a><span class="go">Enabling module negotiation.</span>
<a id="__codelineno-219-362" name="__codelineno-219-362" href="#__codelineno-219-362"></a><span class="go">Enabling module setenvif.</span>
<a id="__codelineno-219-363" name="__codelineno-219-363" href="#__codelineno-219-363"></a><span class="go">Enabling module filter.</span>
<a id="__codelineno-219-364" name="__codelineno-219-364" href="#__codelineno-219-364"></a><span class="go">Enabling module deflate.</span>
<a id="__codelineno-219-365" name="__codelineno-219-365" href="#__codelineno-219-365"></a><span class="go">Enabling module status.</span>
<a id="__codelineno-219-366" name="__codelineno-219-366" href="#__codelineno-219-366"></a><span class="go">Enabling module reqtimeout.</span>
<a id="__codelineno-219-367" name="__codelineno-219-367" href="#__codelineno-219-367"></a><span class="go">Enabling conf charset.</span>
<a id="__codelineno-219-368" name="__codelineno-219-368" href="#__codelineno-219-368"></a><span class="go">Enabling conf localized-error-pages.</span>
<a id="__codelineno-219-369" name="__codelineno-219-369" href="#__codelineno-219-369"></a><span class="go">Enabling conf other-vhosts-access-log.</span>
<a id="__codelineno-219-370" name="__codelineno-219-370" href="#__codelineno-219-370"></a><span class="go">Enabling conf security.</span>
<a id="__codelineno-219-371" name="__codelineno-219-371" href="#__codelineno-219-371"></a><span class="go">Enabling conf serve-cgi-bin.</span>
<a id="__codelineno-219-372" name="__codelineno-219-372" href="#__codelineno-219-372"></a><span class="go">Enabling site 000-default.</span>
<a id="__codelineno-219-373" name="__codelineno-219-373" href="#__codelineno-219-373"></a><span class="go">invoke-rc.d: could not determine current runlevel</span>
<a id="__codelineno-219-374" name="__codelineno-219-374" href="#__codelineno-219-374"></a><span class="go">invoke-rc.d: policy-rc.d denied execution of start.</span>
<a id="__codelineno-219-375" name="__codelineno-219-375" href="#__codelineno-219-375"></a><span class="go">Processing triggers for libc-bin (2.28-10+deb10u1) ...</span>
<a id="__codelineno-219-376" name="__codelineno-219-376" href="#__codelineno-219-376"></a><span class="go">Processing triggers for ca-certificates (20200601~deb10u2) ...</span>
<a id="__codelineno-219-377" name="__codelineno-219-377" href="#__codelineno-219-377"></a><span class="go">Updating certificates in /etc/ssl/certs...</span>
<a id="__codelineno-219-378" name="__codelineno-219-378" href="#__codelineno-219-378"></a><span class="go">0 added, 0 removed; done.</span>
<a id="__codelineno-219-379" name="__codelineno-219-379" href="#__codelineno-219-379"></a><span class="go">Running hooks in /etc/ca-certificates/update.d...</span>
<a id="__codelineno-219-380" name="__codelineno-219-380" href="#__codelineno-219-380"></a><span class="go">done.</span>
<a id="__codelineno-219-381" name="__codelineno-219-381" href="#__codelineno-219-381"></a><span class="go">Removing intermediate container 82497c561473</span>
<a id="__codelineno-219-382" name="__codelineno-219-382" href="#__codelineno-219-382"></a><span class="go"> ---&gt; 878ba4d423c6</span>
<a id="__codelineno-219-383" name="__codelineno-219-383" href="#__codelineno-219-383"></a><span class="go">Step 4/5 : COPY index.html /var/www/html/</span>
<a id="__codelineno-219-384" name="__codelineno-219-384" href="#__codelineno-219-384"></a><span class="go"> ---&gt; 4a7b35abef6e</span>
<a id="__codelineno-219-385" name="__codelineno-219-385" href="#__codelineno-219-385"></a><span class="go">Step 5/5 : CMD [&quot;/usr/sbin/apache2ctl&quot;, &quot;-D&quot;, &quot;FOREGROUND&quot;]</span>
<a id="__codelineno-219-386" name="__codelineno-219-386" href="#__codelineno-219-386"></a><span class="go"> ---&gt; Running in b4ea0360f338</span>
<a id="__codelineno-219-387" name="__codelineno-219-387" href="#__codelineno-219-387"></a><span class="go">Removing intermediate container b4ea0360f338</span>
<a id="__codelineno-219-388" name="__codelineno-219-388" href="#__codelineno-219-388"></a><span class="go"> ---&gt; fa8b78ee9ce4</span>
<a id="__codelineno-219-389" name="__codelineno-219-389" href="#__codelineno-219-389"></a><span class="go">Successfully built fa8b78ee9ce4</span>
<a id="__codelineno-219-390" name="__codelineno-219-390" href="#__codelineno-219-390"></a><span class="go">Successfully tagged adrianjaramillo/myapache2:v2</span>
</code></pre></div>
<p>Compruebo que tengo la nueva imagen:</p>
<p><a class="glightbox" href="https://i.imgur.com/Gfv0Y8p.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="imagengeneradav2" src="https://i.imgur.com/Gfv0Y8p.png" /></a></p>
<p>Lanzo un contenedor a partir de esta imagen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-220-1" name="__codelineno-220-1" href="#__codelineno-220-1"></a><span class="gp">atlas@olympus:~/docker/build1$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span>--name<span class="w"> </span>servidor_web<span class="w"> </span>adrianjaramillo/myapache2:v2
<a id="__codelineno-220-2" name="__codelineno-220-2" href="#__codelineno-220-2"></a><span class="go">83a16f4cd2bfe74313b38c590697c9d940c3a0d2c3e586e84975748c52e79069</span>
</code></pre></div>
<p>Pruebo que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/un0Eh9G.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="imagenv2funcionando" src="https://i.imgur.com/un0Eh9G.png" /></a></p>
<h3 id="distribucion-de-imagenes">Distribución de imágenes</h3>
<h4 id="por-fichero">Por fichero</h4>
<p>Pasamos la imagen a un <code>.tar</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-221-1" name="__codelineno-221-1" href="#__codelineno-221-1"></a><span class="go">docker save adrianjaramillo/myapache2:v1 &gt; myapache2.tar</span>
</code></pre></div>
<p>El fichero generado ya podríamos pasarlo a cualquier sitio.</p>
<p>Para añadir un <code>.tar</code> a nuestro repositorio local:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-222-1" name="__codelineno-222-1" href="#__codelineno-222-1"></a><span class="gp">atlas@olympus:~/docker$ </span>docker<span class="w"> </span>load<span class="w"> </span>-i<span class="w"> </span>myapache2.tar
<a id="__codelineno-222-2" name="__codelineno-222-2" href="#__codelineno-222-2"></a><span class="go">e54f845af4e5: Loading layer [==================================================&gt;]  131.7MB/131.7MB</span>
<a id="__codelineno-222-3" name="__codelineno-222-3" href="#__codelineno-222-3"></a><span class="go">Loaded image: adrianjaramillo/myapache2:v1</span>
</code></pre></div>
<h4 id="por-docker-hub">Por Docker Hub</h4>
<p>Me autentico:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-223-1" name="__codelineno-223-1" href="#__codelineno-223-1"></a><span class="gp">atlas@olympus:~/docker$ </span>docker<span class="w"> </span>login
<a id="__codelineno-223-2" name="__codelineno-223-2" href="#__codelineno-223-2"></a><span class="go">Login with your Docker ID to push and pull images from Docker Hub. If you don&#39;t have a Docker ID, head over to https://hub.docker.com to create one.</span>
<a id="__codelineno-223-3" name="__codelineno-223-3" href="#__codelineno-223-3"></a><span class="go">Username: adrianjaramillo</span>
<a id="__codelineno-223-4" name="__codelineno-223-4" href="#__codelineno-223-4"></a><span class="go">Password:</span>
<a id="__codelineno-223-5" name="__codelineno-223-5" href="#__codelineno-223-5"></a><span class="go">WARNING! Your password will be stored unencrypted in /home/atlas/.docker/config.json.</span>
<a id="__codelineno-223-6" name="__codelineno-223-6" href="#__codelineno-223-6"></a><span class="go">Configure a credential helper to remove this warning. See</span>
<a id="__codelineno-223-7" name="__codelineno-223-7" href="#__codelineno-223-7"></a><span class="gp">https://docs.docker.com/engine/reference/commandline/login/#</span>credentials-store
<a id="__codelineno-223-8" name="__codelineno-223-8" href="#__codelineno-223-8"></a>
<a id="__codelineno-223-9" name="__codelineno-223-9" href="#__codelineno-223-9"></a><span class="go">Login Succeeded</span>
</code></pre></div>
<p>Subimos a Docker Hub:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-224-1" name="__codelineno-224-1" href="#__codelineno-224-1"></a><span class="gp">atlas@olympus:~/docker$ </span>docker<span class="w"> </span>push<span class="w"> </span>adrianjaramillo/myapache2:v2
<a id="__codelineno-224-2" name="__codelineno-224-2" href="#__codelineno-224-2"></a><span class="go">The push refers to repository [docker.io/adrianjaramillo/myapache2]</span>
<a id="__codelineno-224-3" name="__codelineno-224-3" href="#__codelineno-224-3"></a><span class="go">2f99db70a821: Pushed</span>
<a id="__codelineno-224-4" name="__codelineno-224-4" href="#__codelineno-224-4"></a><span class="go">928f71c072df: Pushed</span>
<a id="__codelineno-224-5" name="__codelineno-224-5" href="#__codelineno-224-5"></a><span class="go">10e6bc6fdee2: Mounted from library/debian</span>
<a id="__codelineno-224-6" name="__codelineno-224-6" href="#__codelineno-224-6"></a><span class="go">v2: digest: sha256:f5e64a6aca0b4642827146857d52f1adf6dcfc6932ba8e844c0ded7a003959d7 size: 948</span>
</code></pre></div>
<p>Cualquier persona se podría bajar nuestra imagen ahora:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-225-1" name="__codelineno-225-1" href="#__codelineno-225-1"></a><span class="gp">atlas@olympus:~/docker$ </span>docker<span class="w"> </span>pull<span class="w"> </span>adrianjaramillo/myapache2:v2
<a id="__codelineno-225-2" name="__codelineno-225-2" href="#__codelineno-225-2"></a><span class="go">v2: Pulling from adrianjaramillo/myapache2</span>
<a id="__codelineno-225-3" name="__codelineno-225-3" href="#__codelineno-225-3"></a><span class="go">c1ad9731b2c7: Already exists</span>
<a id="__codelineno-225-4" name="__codelineno-225-4" href="#__codelineno-225-4"></a><span class="go">7b785f89fe92: Pull complete</span>
<a id="__codelineno-225-5" name="__codelineno-225-5" href="#__codelineno-225-5"></a><span class="go">73b5fa52da1c: Pull complete</span>
<a id="__codelineno-225-6" name="__codelineno-225-6" href="#__codelineno-225-6"></a><span class="go">Digest: sha256:f5e64a6aca0b4642827146857d52f1adf6dcfc6932ba8e844c0ded7a003959d7</span>
<a id="__codelineno-225-7" name="__codelineno-225-7" href="#__codelineno-225-7"></a><span class="go">Status: Downloaded newer image for adrianjaramillo/myapache2:v2</span>
<a id="__codelineno-225-8" name="__codelineno-225-8" href="#__codelineno-225-8"></a><span class="go">docker.io/adrianjaramillo/myapache2:v2</span>
</code></pre></div>
<h3 id="ejemplo-1-construccion-de-imagenes-con-una-pagina-estatica">Ejemplo 1: Construcción de imágenes con una página estática</h3>
<h4 id="version-1-desde-una-imagen-base">Versión 1: Desde una imagen base</h4>
<p>Parto de la siguiente estructura:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-226-1" name="__codelineno-226-1" href="#__codelineno-226-1"></a><span class="gp">atlas@olympus:~/docker/ejemplo1build/version1$ </span>ls<span class="w"> </span>-la
<a id="__codelineno-226-2" name="__codelineno-226-2" href="#__codelineno-226-2"></a><span class="go">total 16</span>
<a id="__codelineno-226-3" name="__codelineno-226-3" href="#__codelineno-226-3"></a><span class="go">drwxr-xr-x 3 atlas atlas 4096 Jun 16 20:44 .</span>
<a id="__codelineno-226-4" name="__codelineno-226-4" href="#__codelineno-226-4"></a><span class="go">drwxr-xr-x 5 atlas atlas 4096 Jun 16 20:49 ..</span>
<a id="__codelineno-226-5" name="__codelineno-226-5" href="#__codelineno-226-5"></a><span class="go">-rw-r--r-- 1 atlas atlas  203 Jun 16 20:44 Dockerfile</span>
<a id="__codelineno-226-6" name="__codelineno-226-6" href="#__codelineno-226-6"></a><span class="go">drwxr-xr-x 4 atlas atlas 4096 Jun 16 20:44 public_html</span>
</code></pre></div>
<p>Muestro el <code>Dockerfile</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-227-1" name="__codelineno-227-1" href="#__codelineno-227-1"></a><span class="go">FROM debian</span>
<a id="__codelineno-227-2" name="__codelineno-227-2" href="#__codelineno-227-2"></a>
<a id="__codelineno-227-3" name="__codelineno-227-3" href="#__codelineno-227-3"></a><span class="go">RUN apt-get update &amp;&amp; apt-get install -y apache2 &amp;&amp; apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/*</span>
<a id="__codelineno-227-4" name="__codelineno-227-4" href="#__codelineno-227-4"></a>
<a id="__codelineno-227-5" name="__codelineno-227-5" href="#__codelineno-227-5"></a><span class="go">ADD public_html /var/www/html/</span>
<a id="__codelineno-227-6" name="__codelineno-227-6" href="#__codelineno-227-6"></a>
<a id="__codelineno-227-7" name="__codelineno-227-7" href="#__codelineno-227-7"></a><span class="go">EXPOSE 80</span>
<a id="__codelineno-227-8" name="__codelineno-227-8" href="#__codelineno-227-8"></a><span class="go">CMD [&quot;/usr/sbin/apache2ctl&quot;, &quot;-D&quot;, &quot;FOREGROUND&quot;]</span>
</code></pre></div>
<p>Genero la imagen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-228-1" name="__codelineno-228-1" href="#__codelineno-228-1"></a><span class="go">docker build -t adrianjaramillo/ejemplo1:v1 .</span>
</code></pre></div>
<p>Compruebo que la imagen se ha creado:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-229-1" name="__codelineno-229-1" href="#__codelineno-229-1"></a><span class="gp">atlas@olympus:~/docker/ejemplo1build/version1$ </span>docker<span class="w"> </span>images
<a id="__codelineno-229-2" name="__codelineno-229-2" href="#__codelineno-229-2"></a><span class="go">REPOSITORY                    TAG           IMAGE ID       CREATED              SIZE</span>
<a id="__codelineno-229-3" name="__codelineno-229-3" href="#__codelineno-229-3"></a><span class="go">adrianjaramillo/ejemplo1      v1            78598efe38b7   About a minute ago   235MB</span>
</code></pre></div>
<p>Lanzo un contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-230-1" name="__codelineno-230-1" href="#__codelineno-230-1"></a><span class="gp">atlas@olympus:~/docker/ejemplo1build/version1$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">80</span>:80<span class="w"> </span>--name<span class="w"> </span>ejemplo1<span class="w"> </span>adrianjaramillo/ejemplo1:v1
<a id="__codelineno-230-2" name="__codelineno-230-2" href="#__codelineno-230-2"></a><span class="go">54f3831fbfba45202e6cf9019bcf6f8ca68ab557c00f573364ed55c146ec8fe2</span>
</code></pre></div>
<p>Pruebo que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/UPViWuN.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="version1" src="https://i.imgur.com/UPViWuN.png" /></a></p>
<h4 id="version-2-desde-una-imagen-con-apache2">Versión 2: Desde una imagen con apache2</h4>
<p>Muestro el <code>Dockerfile</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-231-1" name="__codelineno-231-1" href="#__codelineno-231-1"></a><span class="gp">atlas@olympus:~/docker/ejemplo1build/version2$ </span>cat<span class="w"> </span>Dockerfile
<a id="__codelineno-231-2" name="__codelineno-231-2" href="#__codelineno-231-2"></a><span class="go">FROM httpd:2.4</span>
<a id="__codelineno-231-3" name="__codelineno-231-3" href="#__codelineno-231-3"></a><span class="go">ADD public_html /usr/local/apache2/htdocs/</span>
<a id="__codelineno-231-4" name="__codelineno-231-4" href="#__codelineno-231-4"></a><span class="go">EXPOSE 80</span>
</code></pre></div>
<p>Genero la imagen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-232-1" name="__codelineno-232-1" href="#__codelineno-232-1"></a><span class="go">docker build -t adrianjaramillo/ejemplo1:v2 .</span>
</code></pre></div>
<p>Lanzo un contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-233-1" name="__codelineno-233-1" href="#__codelineno-233-1"></a><span class="gp">atlas@olympus:~/docker/ejemplo1build/version2$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">80</span>:80<span class="w"> </span>--name<span class="w"> </span>ejemplo1<span class="w"> </span>adrianjaramillo/ejemplo1:v2
<a id="__codelineno-233-2" name="__codelineno-233-2" href="#__codelineno-233-2"></a><span class="go">c31ba3ff6a7eb6bfca1388aae222931d503f3159762c2ed1bfe387a4a977c4e6</span>
</code></pre></div>
<p>Pruebo que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/F3n5h9a.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="version2" src="https://i.imgur.com/F3n5h9a.png" /></a></p>
<h4 id="version-3-desde-una-imagen-con-nginx">Versión 3: Desde una imagen con nginx</h4>
<p>Muestro el <code>Dockerfile</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-234-1" name="__codelineno-234-1" href="#__codelineno-234-1"></a><span class="gp">atlas@olympus:~/docker/ejemplo1build/version3$ </span>cat<span class="w"> </span>Dockerfile
<a id="__codelineno-234-2" name="__codelineno-234-2" href="#__codelineno-234-2"></a><span class="go">FROM nginx</span>
<a id="__codelineno-234-3" name="__codelineno-234-3" href="#__codelineno-234-3"></a><span class="go">ADD public_html /usr/share/nginx/html</span>
<a id="__codelineno-234-4" name="__codelineno-234-4" href="#__codelineno-234-4"></a><span class="go">EXPOSE 80</span>
</code></pre></div>
<p>Genero la imagen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-235-1" name="__codelineno-235-1" href="#__codelineno-235-1"></a><span class="go">docker build -t adrianjaramillo/ejemplo1:v3 .</span>
</code></pre></div>
<p>Lanzo un contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-236-1" name="__codelineno-236-1" href="#__codelineno-236-1"></a><span class="gp">atlas@olympus:~/docker/ejemplo1build/version3$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">80</span>:80<span class="w"> </span>--name<span class="w"> </span>ejemplo1<span class="w"> </span>adrianjaramillo/ejemplo1:v3
<a id="__codelineno-236-2" name="__codelineno-236-2" href="#__codelineno-236-2"></a><span class="go">a71cf3e153588cbbc4d7b810e06a7808d2e13203fe11ab107520360abdb92ea1</span>
</code></pre></div>
<p>Pruebo que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/lFq8yaZ.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="version3" src="https://i.imgur.com/lFq8yaZ.png" /></a></p>
<h3 id="ejemplo-2-construccion-de-imagenes-con-una-aplicacion-php">Ejemplo 2: Construcción de imágenes con una aplicación PHP</h3>
<h4 id="version-1-desde-una-imagen-base-sin-php">Versión 1: Desde una imagen base sin PHP</h4>
<p>Muestro el <code>Dockerfile</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-237-1" name="__codelineno-237-1" href="#__codelineno-237-1"></a><span class="go">FROM debian</span>
<a id="__codelineno-237-2" name="__codelineno-237-2" href="#__codelineno-237-2"></a><span class="go">RUN apt-get update &amp;&amp; apt-get install -y apache2 libapache2-mod-php php &amp;&amp; apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/*</span>
<a id="__codelineno-237-3" name="__codelineno-237-3" href="#__codelineno-237-3"></a><span class="go">ADD app /var/www/html/</span>
<a id="__codelineno-237-4" name="__codelineno-237-4" href="#__codelineno-237-4"></a><span class="go">RUN rm /var/www/html/index.html</span>
<a id="__codelineno-237-5" name="__codelineno-237-5" href="#__codelineno-237-5"></a><span class="go">EXPOSE 80</span>
<a id="__codelineno-237-6" name="__codelineno-237-6" href="#__codelineno-237-6"></a><span class="go">CMD [&quot;/usr/sbin/apache2ctl&quot;, &quot;-D&quot;, &quot;FOREGROUND&quot;]</span>
</code></pre></div>
<p>Genero la imagen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-238-1" name="__codelineno-238-1" href="#__codelineno-238-1"></a><span class="go">docker build -t adrianjaramillo/ejemplo2:v1 .</span>
</code></pre></div>
<p>Compruebo que la imagen está:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-239-1" name="__codelineno-239-1" href="#__codelineno-239-1"></a><span class="gp">atlas@olympus:~/docker/ejemplo2build/version1$ </span>docker<span class="w"> </span>images
<a id="__codelineno-239-2" name="__codelineno-239-2" href="#__codelineno-239-2"></a><span class="go">REPOSITORY                    TAG           IMAGE ID       CREATED              SIZE</span>
<a id="__codelineno-239-3" name="__codelineno-239-3" href="#__codelineno-239-3"></a><span class="go">adrianjaramillo/ejemplo2      v1            4deacc77ef43   About a minute ago   254MB</span>
</code></pre></div>
<p>Lanzo un contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-240-1" name="__codelineno-240-1" href="#__codelineno-240-1"></a><span class="gp">atlas@olympus:~/docker/ejemplo2build/version1$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">80</span>:80<span class="w"> </span>--name<span class="w"> </span>ejemplo2<span class="w"> </span>adrianjaramillo/ejemplo2:v1
<a id="__codelineno-240-2" name="__codelineno-240-2" href="#__codelineno-240-2"></a><span class="go">7629bc3a4ed786025dce58351d80599a7725353d40e0a6c5edb0cb5b7f845ebd</span>
</code></pre></div>
<p>Pruebo que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/ZrnHwG7.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="version1php" src="https://i.imgur.com/ZrnHwG7.png" /></a></p>
<p>Muestro el <code>info.php</code>:</p>
<p><a class="glightbox" href="https://i.imgur.com/loNzsGW.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="version1infophp" src="https://i.imgur.com/loNzsGW.png" /></a></p>
<h4 id="version-2-desde-una-imagen-con-php-instalado">Versión 2: Desde una imagen con PHP instalado</h4>
<p>Muestro el <code>Dockerfile</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-241-1" name="__codelineno-241-1" href="#__codelineno-241-1"></a><span class="go">FROM php:7.4-apache</span>
<a id="__codelineno-241-2" name="__codelineno-241-2" href="#__codelineno-241-2"></a><span class="go">ADD app /var/www/html/</span>
<a id="__codelineno-241-3" name="__codelineno-241-3" href="#__codelineno-241-3"></a><span class="go">EXPOSE 80</span>
</code></pre></div>
<p>Genero la imagen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-242-1" name="__codelineno-242-1" href="#__codelineno-242-1"></a><span class="go">docker build -t adrianjaramillo/ejemplo2:v2 .</span>
</code></pre></div>
<p>Lanzo un contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-243-1" name="__codelineno-243-1" href="#__codelineno-243-1"></a><span class="gp">atlas@olympus:~/docker/ejemplo2build/version2$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">80</span>:80<span class="w"> </span>--name<span class="w"> </span>ejemplo2<span class="w"> </span>adrianjaramillo/ejemplo2:v2
<a id="__codelineno-243-2" name="__codelineno-243-2" href="#__codelineno-243-2"></a><span class="go">863fb6d27a48fbace7bf41a224ebc38db555e3cb9d9635a35506831e2268cacc</span>
</code></pre></div>
<p>Pruebo que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/ZQ6brOt.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="version2php" src="https://i.imgur.com/ZQ6brOt.png" /></a></p>
<p>Muestro el <code>info.php</code>:</p>
<p><a class="glightbox" href="https://i.imgur.com/U2IBWYf.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="version2infophp" src="https://i.imgur.com/U2IBWYf.png" /></a></p>
<h3 id="ejemplo-3-construccion-de-imagenes-con-una-aplicacion-python">Ejemplo 3: Construcción de imágenes con una aplicación Python</h3>
<p>Muestro el <code>Dockerfile</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-244-1" name="__codelineno-244-1" href="#__codelineno-244-1"></a><span class="go">FROM debian</span>
<a id="__codelineno-244-2" name="__codelineno-244-2" href="#__codelineno-244-2"></a><span class="go">RUN apt-get update &amp;&amp; apt-get install -y python3-pip  &amp;&amp; apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/*</span>
<a id="__codelineno-244-3" name="__codelineno-244-3" href="#__codelineno-244-3"></a><span class="go">COPY app /usr/share/app</span>
<a id="__codelineno-244-4" name="__codelineno-244-4" href="#__codelineno-244-4"></a><span class="go">WORKDIR /usr/share/app</span>
<a id="__codelineno-244-5" name="__codelineno-244-5" href="#__codelineno-244-5"></a><span class="go">RUN pip3 install --no-cache-dir -r requirements.txt</span>
<a id="__codelineno-244-6" name="__codelineno-244-6" href="#__codelineno-244-6"></a><span class="go">EXPOSE 3000</span>
<a id="__codelineno-244-7" name="__codelineno-244-7" href="#__codelineno-244-7"></a><span class="go">CMD [ &quot;python3&quot;, &quot;app.py&quot;]</span>
</code></pre></div>
<p>Genero la imagen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-245-1" name="__codelineno-245-1" href="#__codelineno-245-1"></a><span class="go">docker build -t adrianjaramillo/ejemplo3:v1 .</span>
</code></pre></div>
<p>Compruebo que la imagen está:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-246-1" name="__codelineno-246-1" href="#__codelineno-246-1"></a><span class="gp">atlas@olympus:~/docker/ejemplo3build$ </span>docker<span class="w"> </span>images
<a id="__codelineno-246-2" name="__codelineno-246-2" href="#__codelineno-246-2"></a><span class="go">REPOSITORY                    TAG           IMAGE ID       CREATED          SIZE</span>
<a id="__codelineno-246-3" name="__codelineno-246-3" href="#__codelineno-246-3"></a><span class="go">adrianjaramillo/ejemplo3      v1            5d390f9bcd8e   47 seconds ago   510MB</span>
</code></pre></div>
<p>Lanzo un contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-247-1" name="__codelineno-247-1" href="#__codelineno-247-1"></a><span class="gp">atlas@olympus:~/docker/ejemplo3build$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">80</span>:3000<span class="w"> </span>--name<span class="w"> </span>ejemplo3<span class="w"> </span>adrianjaramillo/ejemplo3:v1
<a id="__codelineno-247-2" name="__codelineno-247-2" href="#__codelineno-247-2"></a><span class="go">24db90990b340ce8d14bf76dc5f3f6fbf08608dc31cbb3a14b751f6c843acb42</span>
</code></pre></div>
<p>Pruebo que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/95BJS05.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="ejemplo3python" src="https://i.imgur.com/95BJS05.png" /></a></p>
<h3 id="ciclo-de-vida-de-las-aplicaciones">Ciclo de vida de las aplicaciones</h3>
<h4 id="paso-1-desarrollo-de-nuestra-aplicacion">Paso 1: Desarrollo de nuestra aplicación</h4>
<p>Creo una estructura de página web:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-248-1" name="__codelineno-248-1" href="#__codelineno-248-1"></a><span class="gp">atlas@olympus:~/docker/ciclovida$ </span>mkdir<span class="w"> </span>public_html
<a id="__codelineno-248-2" name="__codelineno-248-2" href="#__codelineno-248-2"></a><span class="gp">atlas@olympus:~/docker/ciclovida$ </span><span class="nb">cd</span><span class="w"> </span>public_html
<a id="__codelineno-248-3" name="__codelineno-248-3" href="#__codelineno-248-3"></a><span class="gp">atlas@olympus:~/docker/ciclovida/public_html$ </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&lt;h1&gt;Prueba&lt;/h1&gt;&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>index.html
</code></pre></div>
<h4 id="paso-2-creacion-de-la-imagen-docker">Paso 2: Creación de la imagen Docker</h4>
<p>Creo el siguiente <code>Dockerfile</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-249-1" name="__codelineno-249-1" href="#__codelineno-249-1"></a><span class="go">FROM httpd:2.4</span>
<a id="__codelineno-249-2" name="__codelineno-249-2" href="#__codelineno-249-2"></a><span class="go">ADD ./public_html /usr/local/apache2/htdocs/</span>
</code></pre></div>
<p>Genero la imagen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-250-1" name="__codelineno-250-1" href="#__codelineno-250-1"></a><span class="gp">atlas@olympus:~/docker/ciclovida$ </span>docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>adrianjaramillo/aplicacionweb:v1<span class="w"> </span>.
<a id="__codelineno-250-2" name="__codelineno-250-2" href="#__codelineno-250-2"></a><span class="go">Sending build context to Docker daemon  3.584kB</span>
<a id="__codelineno-250-3" name="__codelineno-250-3" href="#__codelineno-250-3"></a><span class="go">Step 1/2 : FROM httpd:2.4</span>
<a id="__codelineno-250-4" name="__codelineno-250-4" href="#__codelineno-250-4"></a><span class="go"> ---&gt; acd59370d8fb</span>
<a id="__codelineno-250-5" name="__codelineno-250-5" href="#__codelineno-250-5"></a><span class="go">Step 2/2 : ADD ./public_html /usr/local/apache2/htdocs/</span>
<a id="__codelineno-250-6" name="__codelineno-250-6" href="#__codelineno-250-6"></a><span class="go"> ---&gt; 4415b1fcea4e</span>
<a id="__codelineno-250-7" name="__codelineno-250-7" href="#__codelineno-250-7"></a><span class="go">Successfully built 4415b1fcea4e</span>
<a id="__codelineno-250-8" name="__codelineno-250-8" href="#__codelineno-250-8"></a><span class="go">Successfully tagged adrianjaramillo/aplicacionweb:v1</span>
</code></pre></div>
<p>Compruebo que la imagen está:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-251-1" name="__codelineno-251-1" href="#__codelineno-251-1"></a><span class="gp">atlas@olympus:~/docker/ciclovida$ </span>docker<span class="w"> </span>image<span class="w"> </span>ls
<a id="__codelineno-251-2" name="__codelineno-251-2" href="#__codelineno-251-2"></a><span class="go">REPOSITORY                      TAG           IMAGE ID       CREATED              SIZE</span>
<a id="__codelineno-251-3" name="__codelineno-251-3" href="#__codelineno-251-3"></a><span class="go">adrianjaramillo/aplicacionweb   v1            4415b1fcea4e   About a minute ago   144MB</span>
</code></pre></div>
<h4 id="paso-3-probamos-nuestra-aplicacion-en-el-entorno-de-desarrollo">Paso 3: Probamos nuestra aplicación en el entorno de desarrollo</h4>
<p>Lanzo un contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-252-1" name="__codelineno-252-1" href="#__codelineno-252-1"></a><span class="gp">atlas@olympus:~/docker/ciclovida$ </span>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>aplweb<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">80</span>:80<span class="w"> </span>adrianjaramillo/aplicacionweb:v1
<a id="__codelineno-252-2" name="__codelineno-252-2" href="#__codelineno-252-2"></a><span class="go">39c8937b5badb9dc5f910498aeaf9380d6aa1b0e326e5ea19c527ff40a499e85</span>
</code></pre></div>
<p>Compruebo que esté activo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-253-1" name="__codelineno-253-1" href="#__codelineno-253-1"></a><span class="gp">atlas@olympus:~/docker/ciclovida$ </span>docker<span class="w"> </span>ps
<a id="__codelineno-253-2" name="__codelineno-253-2" href="#__codelineno-253-2"></a><span class="go">CONTAINER ID   IMAGE                              COMMAND              CREATED              STATUS              PORTS                NAMES</span>
<a id="__codelineno-253-3" name="__codelineno-253-3" href="#__codelineno-253-3"></a><span class="go">39c8937b5bad   adrianjaramillo/aplicacionweb:v1   &quot;httpd-foreground&quot;   About a minute ago   Up About a minute   0.0.0.0:80-&gt;80/tcp   aplweb</span>
</code></pre></div>
<p>Pruebo que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/JhIrFND.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="appdesarrollo" src="https://i.imgur.com/JhIrFND.png" /></a></p>
<h4 id="paso-4-distribuimos-nuestra-imagen">Paso 4: Distribuimos nuestra imagen</h4>
<p>Subo a Docker Hub:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-254-1" name="__codelineno-254-1" href="#__codelineno-254-1"></a><span class="gp">atlas@olympus:~/docker/ciclovida$ </span>docker<span class="w"> </span>push<span class="w"> </span>adrianjaramillo/aplicacionweb:v1
<a id="__codelineno-254-2" name="__codelineno-254-2" href="#__codelineno-254-2"></a><span class="go">The push refers to repository [docker.io/adrianjaramillo/aplicacionweb]</span>
<a id="__codelineno-254-3" name="__codelineno-254-3" href="#__codelineno-254-3"></a><span class="go">14d158b7d9db: Pushed</span>
<a id="__codelineno-254-4" name="__codelineno-254-4" href="#__codelineno-254-4"></a><span class="go">2db1ee0a0f4f: Mounted from library/httpd</span>
<a id="__codelineno-254-5" name="__codelineno-254-5" href="#__codelineno-254-5"></a><span class="go">857d0bc0663f: Mounted from library/httpd</span>
<a id="__codelineno-254-6" name="__codelineno-254-6" href="#__codelineno-254-6"></a><span class="go">4a48959ac654: Mounted from library/httpd</span>
<a id="__codelineno-254-7" name="__codelineno-254-7" href="#__codelineno-254-7"></a><span class="go">4e2b986e3da3: Mounted from library/httpd</span>
<a id="__codelineno-254-8" name="__codelineno-254-8" href="#__codelineno-254-8"></a><span class="go">ad6562704f37: Mounted from library/wordpress</span>
<a id="__codelineno-254-9" name="__codelineno-254-9" href="#__codelineno-254-9"></a><span class="go">v1: digest: sha256:414d9c7a3d0b84fc327da8414eb9baa8abf32ce1807dae19d3448c1e0c8f84cb size: 1572</span>
</code></pre></div>
<h4 id="paso-5-implantacion-de-la-aplicacion">Paso 5: Implantación de la aplicación</h4>
<p>Para simular que nuestra máquina es el entorno de producción, borramos nuestra imagen local original...</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-255-1" name="__codelineno-255-1" href="#__codelineno-255-1"></a><span class="gp">atlas@olympus:~/docker/ciclovida$ </span>docker<span class="w"> </span>rmi<span class="w"> </span>adrianjaramillo/aplicacionweb:v1
<a id="__codelineno-255-2" name="__codelineno-255-2" href="#__codelineno-255-2"></a><span class="go">Untagged: adrianjaramillo/aplicacionweb:v1</span>
<a id="__codelineno-255-3" name="__codelineno-255-3" href="#__codelineno-255-3"></a><span class="go">Untagged: adrianjaramillo/aplicacionweb@sha256:414d9c7a3d0b84fc327da8414eb9baa8abf32ce1807dae19d3448c1e0c8f84cb</span>
<a id="__codelineno-255-4" name="__codelineno-255-4" href="#__codelineno-255-4"></a><span class="go">Deleted: sha256:4415b1fcea4ef1b5adf4e912bc4f14670ea4c713b326d16c0ca4452f57852cb0</span>
<a id="__codelineno-255-5" name="__codelineno-255-5" href="#__codelineno-255-5"></a><span class="go">Deleted: sha256:d2dcb5a1a671e6661428ac9e379493d6e73574bc2befa9c7027ace21ba14ed44</span>
</code></pre></div>
<p>... y nos la volvemos a descargar desde Docker Hub:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-256-1" name="__codelineno-256-1" href="#__codelineno-256-1"></a><span class="gp">atlas@olympus:~/docker/ciclovida$ </span>docker<span class="w"> </span>pull<span class="w"> </span>adrianjaramillo/aplicacionweb:v1
<a id="__codelineno-256-2" name="__codelineno-256-2" href="#__codelineno-256-2"></a><span class="go">v1: Pulling from adrianjaramillo/aplicacionweb</span>
<a id="__codelineno-256-3" name="__codelineno-256-3" href="#__codelineno-256-3"></a><span class="go">42c077c10790: Already exists</span>
<a id="__codelineno-256-4" name="__codelineno-256-4" href="#__codelineno-256-4"></a><span class="go">77a357ba66a8: Already exists</span>
<a id="__codelineno-256-5" name="__codelineno-256-5" href="#__codelineno-256-5"></a><span class="go">c56c780a8904: Already exists</span>
<a id="__codelineno-256-6" name="__codelineno-256-6" href="#__codelineno-256-6"></a><span class="go">ecb885e1c489: Already exists</span>
<a id="__codelineno-256-7" name="__codelineno-256-7" href="#__codelineno-256-7"></a><span class="go">ba0337d73eed: Already exists</span>
<a id="__codelineno-256-8" name="__codelineno-256-8" href="#__codelineno-256-8"></a><span class="go">35e5b4af3e12: Pull complete</span>
<a id="__codelineno-256-9" name="__codelineno-256-9" href="#__codelineno-256-9"></a><span class="go">Digest: sha256:414d9c7a3d0b84fc327da8414eb9baa8abf32ce1807dae19d3448c1e0c8f84cb</span>
<a id="__codelineno-256-10" name="__codelineno-256-10" href="#__codelineno-256-10"></a><span class="go">Status: Downloaded newer image for adrianjaramillo/aplicacionweb:v1</span>
<a id="__codelineno-256-11" name="__codelineno-256-11" href="#__codelineno-256-11"></a><span class="go">docker.io/adrianjaramillo/aplicacionweb:v1</span>
</code></pre></div>
<p>Lanzo un contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-257-1" name="__codelineno-257-1" href="#__codelineno-257-1"></a><span class="gp">tlas@olympus:~/docker/ciclovida$ </span>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>aplweb_prod<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">80</span>:80<span class="w"> </span>adrianjaramillo/aplicacionweb:v1
<a id="__codelineno-257-2" name="__codelineno-257-2" href="#__codelineno-257-2"></a><span class="go">c7bf2af9a3c91426a80e22edd67d72f99a1571512d5ddd7a20f7a7dea3a39134</span>
</code></pre></div>
<p>Pruebo que sigue funcionando:</p>
<p><a class="glightbox" href="https://i.imgur.com/Gi0to0k.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="appproduccion" src="https://i.imgur.com/Gi0to0k.png" /></a></p>
<h4 id="paso-6-modificacion-de-la-aplicacion">Paso 6: Modificación de la aplicación</h4>
<p>Si modificamos el código de la aplicación tendremos que generar una nueva imagen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-258-1" name="__codelineno-258-1" href="#__codelineno-258-1"></a><span class="gp">atlas@olympus:~/docker/ciclovida$ </span><span class="nb">cd</span><span class="w"> </span>public_html
<a id="__codelineno-258-2" name="__codelineno-258-2" href="#__codelineno-258-2"></a><span class="gp">atlas@olympus:~/docker/ciclovida/public_html$ </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&lt;h1&gt;Prueba 2&lt;/h1&gt;&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>index.html
<a id="__codelineno-258-3" name="__codelineno-258-3" href="#__codelineno-258-3"></a><span class="gp">atlas@olympus:~/docker/ciclovida/public_html$ </span><span class="nb">cd</span><span class="w"> </span>..
<a id="__codelineno-258-4" name="__codelineno-258-4" href="#__codelineno-258-4"></a><span class="gp">atlas@olympus:~/docker/ciclovida$ </span>docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>adrianjaramillo/aplicacionweb:v2<span class="w"> </span>.
<a id="__codelineno-258-5" name="__codelineno-258-5" href="#__codelineno-258-5"></a><span class="go">Sending build context to Docker daemon  3.584kB</span>
<a id="__codelineno-258-6" name="__codelineno-258-6" href="#__codelineno-258-6"></a><span class="go">Step 1/2 : FROM httpd:2.4</span>
<a id="__codelineno-258-7" name="__codelineno-258-7" href="#__codelineno-258-7"></a><span class="go"> ---&gt; acd59370d8fb</span>
<a id="__codelineno-258-8" name="__codelineno-258-8" href="#__codelineno-258-8"></a><span class="go">Step 2/2 : ADD ./public_html /usr/local/apache2/htdocs/</span>
<a id="__codelineno-258-9" name="__codelineno-258-9" href="#__codelineno-258-9"></a><span class="go"> ---&gt; 44a890a9da01</span>
<a id="__codelineno-258-10" name="__codelineno-258-10" href="#__codelineno-258-10"></a><span class="go">Successfully built 44a890a9da01</span>
<a id="__codelineno-258-11" name="__codelineno-258-11" href="#__codelineno-258-11"></a><span class="go">Successfully tagged adrianjaramillo/aplicacionweb:v2</span>
</code></pre></div>
<p>Lanzo un contenedor en el entorno de desarrollo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-259-1" name="__codelineno-259-1" href="#__codelineno-259-1"></a><span class="gp">atlas@olympus:~/docker/ciclovida$ </span>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>aplweb2<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">80</span>:80<span class="w"> </span>adrianjaramillo/aplicacionweb:v2
<a id="__codelineno-259-2" name="__codelineno-259-2" href="#__codelineno-259-2"></a><span class="go">22fc8df544b24d536aa745d502ace5215d5e56ef74365e8fb92447db881606af</span>
</code></pre></div>
<p>Pruebo que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/CLxrXRn.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="appdesarrollo2" src="https://i.imgur.com/CLxrXRn.png" /></a></p>
<p>Subo la nueva imagen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-260-1" name="__codelineno-260-1" href="#__codelineno-260-1"></a><span class="gp">atlas@olympus:~/docker/ciclovida$ </span>docker<span class="w"> </span>push<span class="w"> </span>adrianjaramillo/aplicacionweb:v2
<a id="__codelineno-260-2" name="__codelineno-260-2" href="#__codelineno-260-2"></a><span class="go">The push refers to repository [docker.io/adrianjaramillo/aplicacionweb]</span>
<a id="__codelineno-260-3" name="__codelineno-260-3" href="#__codelineno-260-3"></a><span class="go">aa226b1a6620: Pushed</span>
<a id="__codelineno-260-4" name="__codelineno-260-4" href="#__codelineno-260-4"></a><span class="go">2db1ee0a0f4f: Layer already exists</span>
<a id="__codelineno-260-5" name="__codelineno-260-5" href="#__codelineno-260-5"></a><span class="go">857d0bc0663f: Layer already exists</span>
<a id="__codelineno-260-6" name="__codelineno-260-6" href="#__codelineno-260-6"></a><span class="go">4a48959ac654: Layer already exists</span>
<a id="__codelineno-260-7" name="__codelineno-260-7" href="#__codelineno-260-7"></a><span class="go">4e2b986e3da3: Layer already exists</span>
<a id="__codelineno-260-8" name="__codelineno-260-8" href="#__codelineno-260-8"></a><span class="go">ad6562704f37: Layer already exists</span>
<a id="__codelineno-260-9" name="__codelineno-260-9" href="#__codelineno-260-9"></a><span class="go">v2: digest: sha256:78c66a668b1d4b946edc1a00594480d666fb05ff4ab799d97b5e724afd3ed3ae size: 1572</span>
</code></pre></div>
<p>Elimino la imagen local original:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-261-1" name="__codelineno-261-1" href="#__codelineno-261-1"></a><span class="gp">atlas@olympus:~/docker/ciclovida$ </span>docker<span class="w"> </span>rmi<span class="w"> </span>adrianjaramillo/aplicacionweb:v2
<a id="__codelineno-261-2" name="__codelineno-261-2" href="#__codelineno-261-2"></a><span class="go">Untagged: adrianjaramillo/aplicacionweb:v2</span>
<a id="__codelineno-261-3" name="__codelineno-261-3" href="#__codelineno-261-3"></a><span class="go">Untagged: adrianjaramillo/aplicacionweb@sha256:78c66a668b1d4b946edc1a00594480d666fb05ff4ab799d97b5e724afd3ed3ae</span>
<a id="__codelineno-261-4" name="__codelineno-261-4" href="#__codelineno-261-4"></a><span class="go">Deleted: sha256:44a890a9da01acbe029eb7ac5a57e5b2c27c114370e0a03e682739f738083f0b</span>
<a id="__codelineno-261-5" name="__codelineno-261-5" href="#__codelineno-261-5"></a><span class="go">Deleted: sha256:71ba067af316ee14e14780b5ce532be1bb4fc390ae803cc8e29ccff6ae05ebe0</span>
</code></pre></div>
<p>La vuelvo a descargar de Docker Hub:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-262-1" name="__codelineno-262-1" href="#__codelineno-262-1"></a><span class="gp">atlas@olympus:~/docker/ciclovida$ </span>docker<span class="w"> </span>pull<span class="w"> </span>adrianjaramillo/aplicacionweb:v2
<a id="__codelineno-262-2" name="__codelineno-262-2" href="#__codelineno-262-2"></a><span class="go">v2: Pulling from adrianjaramillo/aplicacionweb</span>
<a id="__codelineno-262-3" name="__codelineno-262-3" href="#__codelineno-262-3"></a><span class="go">42c077c10790: Already exists</span>
<a id="__codelineno-262-4" name="__codelineno-262-4" href="#__codelineno-262-4"></a><span class="go">77a357ba66a8: Already exists</span>
<a id="__codelineno-262-5" name="__codelineno-262-5" href="#__codelineno-262-5"></a><span class="go">c56c780a8904: Already exists</span>
<a id="__codelineno-262-6" name="__codelineno-262-6" href="#__codelineno-262-6"></a><span class="go">ecb885e1c489: Already exists</span>
<a id="__codelineno-262-7" name="__codelineno-262-7" href="#__codelineno-262-7"></a><span class="go">ba0337d73eed: Already exists</span>
<a id="__codelineno-262-8" name="__codelineno-262-8" href="#__codelineno-262-8"></a><span class="go">0fb57bd0a568: Pull complete</span>
<a id="__codelineno-262-9" name="__codelineno-262-9" href="#__codelineno-262-9"></a><span class="go">Digest: sha256:78c66a668b1d4b946edc1a00594480d666fb05ff4ab799d97b5e724afd3ed3ae</span>
<a id="__codelineno-262-10" name="__codelineno-262-10" href="#__codelineno-262-10"></a><span class="go">Status: Downloaded newer image for adrianjaramillo/aplicacionweb:v2</span>
<a id="__codelineno-262-11" name="__codelineno-262-11" href="#__codelineno-262-11"></a><span class="go">docker.io/adrianjaramillo/aplicacionweb:v2</span>
</code></pre></div>
<p>Lanzo un contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-263-1" name="__codelineno-263-1" href="#__codelineno-263-1"></a><span class="gp">atlas@olympus:~/docker/ciclovida$ </span>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>aplweb2_prod<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">80</span>:80<span class="w"> </span>adrianjaramillo/aplicacionweb:v2
<a id="__codelineno-263-2" name="__codelineno-263-2" href="#__codelineno-263-2"></a><span class="go">c9be3aaf8cb31898140aeb0967a3063debd44d2587eb01dce0dcb54a8bdb7fca</span>
</code></pre></div>
<p>Pruebo que sigue funcionando:</p>
<p><a class="glightbox" href="https://i.imgur.com/uz5lNat.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="app2produccion" src="https://i.imgur.com/uz5lNat.png" /></a></p>
<h3 id="ejercicios-creacion-imagenes">Ejercicios creación imágenes</h3>
<p>Muestro el directorio donde tengo la estructura de mi web y donde tendré el <code>Dockerfile</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-264-1" name="__codelineno-264-1" href="#__codelineno-264-1"></a><span class="gp">atlas@olympus:~/docker/ejimagenes$ </span>ls<span class="w"> </span>-la
<a id="__codelineno-264-2" name="__codelineno-264-2" href="#__codelineno-264-2"></a><span class="go">total 12</span>
<a id="__codelineno-264-3" name="__codelineno-264-3" href="#__codelineno-264-3"></a><span class="go">drwxr-xr-x  3 atlas atlas 4096 Jun 17 18:04 .</span>
<a id="__codelineno-264-4" name="__codelineno-264-4" href="#__codelineno-264-4"></a><span class="go">drwxr-xr-x 18 atlas atlas 4096 Jun 17 17:25 ..</span>
<a id="__codelineno-264-5" name="__codelineno-264-5" href="#__codelineno-264-5"></a><span class="go">drwxr-xr-x  8 atlas atlas 4096 Jun 17 18:03 public_html</span>
</code></pre></div>
<p>Creo el siguiente <code>Dockerfile</code>:</p>
<p><a class="glightbox" href="https://i.imgur.com/kEXh2fG.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="dockerfilemio" src="https://i.imgur.com/kEXh2fG.png" /></a></p>
<p>Genero la imagen:</p>
<p><a class="glightbox" href="https://i.imgur.com/M9rmAwR.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="miimagen" src="https://i.imgur.com/M9rmAwR.png" /></a></p>
<p>Compruebo que la tengo localmente:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-265-1" name="__codelineno-265-1" href="#__codelineno-265-1"></a><span class="gp">atlas@olympus:~/docker/ejimagenes$ </span>docker<span class="w"> </span>images
<a id="__codelineno-265-2" name="__codelineno-265-2" href="#__codelineno-265-2"></a><span class="go">REPOSITORY                        TAG           IMAGE ID       CREATED             SIZE</span>
<a id="__codelineno-265-3" name="__codelineno-265-3" href="#__codelineno-265-3"></a><span class="go">adrianjaramillo/mi_servidor_web   v1            c5533b4dd021   2 minutes ago       142MB</span>
</code></pre></div>
<p>Lanzo un contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-266-1" name="__codelineno-266-1" href="#__codelineno-266-1"></a><span class="gp">atlas@olympus:~/docker/ejimagenes$ </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">80</span>:80<span class="w"> </span>--name<span class="w"> </span>prueba1<span class="w"> </span>adrianjaramillo/mi_servidor_web:v1
<a id="__codelineno-266-2" name="__codelineno-266-2" href="#__codelineno-266-2"></a><span class="go">31196fe55dc33d3f818c4c979ba570ff6569c6fde885f1cef433d16bbd2a2f1d</span>
</code></pre></div>
<p>Pruebo que funciona:</p>
<p><a class="glightbox" href="https://i.imgur.com/4LlnK40.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="miwebdesarrollo" src="https://i.imgur.com/4LlnK40.jpg" /></a></p>
<p>Subo la nueva imagen a Docker Hub:</p>
<p><a class="glightbox" href="https://i.imgur.com/HvOgd5L.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="miimagendockerhub" src="https://i.imgur.com/HvOgd5L.png" /></a></p>
<p>Compruebo que se subió correctamente:</p>
<p><a class="glightbox" href="https://i.imgur.com/DI6NNoF.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="miimagendockerhubprueba" src="https://i.imgur.com/DI6NNoF.png" /></a></p>
<p>Para simular que nuestra máquina es el entorno de producción, borramos nuestra imagen local original...</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-267-1" name="__codelineno-267-1" href="#__codelineno-267-1"></a><span class="gp">atlas@olympus:~/docker/ejimagenes$ </span>docker<span class="w"> </span>rmi<span class="w"> </span>adrianjaramillo/mi_servidor_web:v1
<a id="__codelineno-267-2" name="__codelineno-267-2" href="#__codelineno-267-2"></a><span class="go">Untagged: adrianjaramillo/mi_servidor_web:v1</span>
<a id="__codelineno-267-3" name="__codelineno-267-3" href="#__codelineno-267-3"></a><span class="go">Untagged: adrianjaramillo/mi_servidor_web@sha256:b1ab1fd223167e4a6b5234fa6bde88ae2e677c0cfb19b38abab12a0411ead882</span>
<a id="__codelineno-267-4" name="__codelineno-267-4" href="#__codelineno-267-4"></a><span class="go">Deleted: sha256:9b1fa17c1533b7f8e6596976bf1e839a9cd15e4b0f58c77008d0a62985e004c4</span>
<a id="__codelineno-267-5" name="__codelineno-267-5" href="#__codelineno-267-5"></a><span class="go">Deleted: sha256:a9efe2bdee3e0d17ee5316f9eec7489e1c67fa166ed7fb780de3f848ca90380d</span>
<a id="__codelineno-267-6" name="__codelineno-267-6" href="#__codelineno-267-6"></a><span class="go">Deleted: sha256:07a7bf31da7166779623897641084ec5f05bd7b1095a339ed89b17de8828ccb3</span>
</code></pre></div>
<p>... y nos la volvemos a descargar desde Docker Hub:</p>
<p><a class="glightbox" href="https://i.imgur.com/nXvi5F5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="bajadademiimagen" src="https://i.imgur.com/nXvi5F5.png" /></a></p>
<p>Lanzo otro contenedor:</p>
<p><a class="glightbox" href="https://i.imgur.com/hYpZJmA.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="miwebfinal" src="https://i.imgur.com/hYpZJmA.png" /></a></p>
<p>Pruebo que funciona de nuevo:</p>
<p><a class="glightbox" href="https://i.imgur.com/mP96e03.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="miwebprod" src="https://i.imgur.com/mP96e03.jpg" /></a></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "navigation.tabs", "navigation.sections"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
        
          <script src="../../javascripts/asciinema-player.min.js"></script>
        
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>